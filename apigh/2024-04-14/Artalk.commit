{
  "sha": "aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
  "node_id": "C_kwDOCQOkhNoAKGFhOGRjZTRkYzBkZTlmNzEzOTdjNDA5NTQ5NTU3MmJmOWY2NGZiOGE",
  "commit": {
    "author": {
      "name": "Mr.Hope",
      "email": "mister-hope@outlook.com",
      "date": "2024-04-08T06:59:21Z"
    },
    "committer": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2024-04-08T10:39:33Z"
    },
    "message": "refactor(ui/prettier): add prettier code formatter\n\nchore: format config and template files (#822)\n\nchore(docs): format files and fix typos (#825)\n\n* style: format config files\n\n* docs: format docs and fix typos\n\n* chore: tweaks\n\nchore(test): tidy up test folder files (#828)\n\n* test: update test\n\n* chore: convert to a monorepo for test\n\nchore(fix/i18n): fix fr locale and format (#827)\n\nrefactor(ui/prettier): add prettier formatter (#829)\n\n* style: format ui\n\n* chore: fix\n\n* chore(test): tidy up test folder files (#828)\n\n* test: update test\n\n* chore: convert to a monorepo for test\n\n* chore(fix/i18n): fix fr locale and format (#827)\n\n* ignore api generated file\n\n* ignore generated sidebar d.ts files\n\n* update .prettierrc\n\n* keep yaml file doubleQuote\n\n---------\n\nCo-authored-by: qwqcode <qwqcode@gmail.com>\nCo-authored-by: qwqcode <22412567+qwqcode@users.noreply.github.com>",
    "tree": {
      "sha": "c878a39ef6be258e68fca50eca95849cffab39df",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/c878a39ef6be258e68fca50eca95849cffab39df"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQS0Ev3sdPZbHkWwzmLUbg8O6nwTagUCZhPJagAKCRDUbg8O6nwT\nasPoAP9gZA/Z1QZlfA7fuc8wzFTcspDVM/l3KnOwZheVnTqZHAEA16DzpxS/gylx\n6qesRyHvk6wCuzPcEM+4PBUP+Ab8TQw=\n=eP3H\n-----END PGP SIGNATURE-----",
      "payload": "tree c878a39ef6be258e68fca50eca95849cffab39df\nparent 16527ec4f336bf1ddbb73d5a770f9f6eb759aa52\nauthor Mr.Hope <mister-hope@outlook.com> 1712559561 +0800\ncommitter qwqcode <qwqcode@gmail.com> 1712572773 +0800\n\nrefactor(ui/prettier): add prettier code formatter\n\nchore: format config and template files (#822)\n\nchore(docs): format files and fix typos (#825)\n\n* style: format config files\n\n* docs: format docs and fix typos\n\n* chore: tweaks\n\nchore(test): tidy up test folder files (#828)\n\n* test: update test\n\n* chore: convert to a monorepo for test\n\nchore(fix/i18n): fix fr locale and format (#827)\n\nrefactor(ui/prettier): add prettier formatter (#829)\n\n* style: format ui\n\n* chore: fix\n\n* chore(test): tidy up test folder files (#828)\n\n* test: update test\n\n* chore: convert to a monorepo for test\n\n* chore(fix/i18n): fix fr locale and format (#827)\n\n* ignore api generated file\n\n* ignore generated sidebar d.ts files\n\n* update .prettierrc\n\n* keep yaml file doubleQuote\n\n---------\n\nCo-authored-by: qwqcode <qwqcode@gmail.com>\nCo-authored-by: qwqcode <22412567+qwqcode@users.noreply.github.com>\n"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/comments",
  "author": {
    "login": "Mister-Hope",
    "id": 33315834,
    "node_id": "MDQ6VXNlcjMzMzE1ODM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/33315834?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Mister-Hope",
    "html_url": "https://github.com/Mister-Hope",
    "followers_url": "https://api.github.com/users/Mister-Hope/followers",
    "following_url": "https://api.github.com/users/Mister-Hope/following{/other_user}",
    "gists_url": "https://api.github.com/users/Mister-Hope/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Mister-Hope/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Mister-Hope/subscriptions",
    "organizations_url": "https://api.github.com/users/Mister-Hope/orgs",
    "repos_url": "https://api.github.com/users/Mister-Hope/repos",
    "events_url": "https://api.github.com/users/Mister-Hope/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Mister-Hope/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "16527ec4f336bf1ddbb73d5a770f9f6eb759aa52",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/16527ec4f336bf1ddbb73d5a770f9f6eb759aa52",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/16527ec4f336bf1ddbb73d5a770f9f6eb759aa52"
    }
  ],
  "stats": {
    "total": 10342,
    "additions": 4626,
    "deletions": 5716
  },
  "files": [
    {
      "sha": "181601d576ca11e736ce3ca331e246c4640bacb7",
      "filename": ".circleci/conditional_config.yml",
      "status": "modified",
      "additions": 36,
      "deletions": 36,
      "changes": 72,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.circleci%2Fconditional_config.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.circleci%2Fconditional_config.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.circleci%2Fconditional_config.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -10,7 +10,7 @@ executors:\n       - image: cimg/base:stable\n   node:\n     docker:\n-      - image: 'cimg/node:20.12.1'\n+      - image: \"cimg/node:20.12.1\"\n   go:\n     docker:\n       - image: cimg/go:1.22.1\n@@ -26,43 +26,43 @@ parameters:\n jobs:\n   ## Backend\n   test_app:\n-      executor: go\n-      working_directory: ~/go/src/github.com/ArtalkJS/Artalk\n-      environment:\n-        GO111MODULE: \"on\"\n-      steps:\n-        - checkout\n-        - run:\n-            name: \"Print the Go version\"\n-            command: >\n-              go version\n-        - restore_cache:\n-            keys:\n-              - go-mod-1.22.1-{{ checksum \"go.sum\" }}\n-        - run:\n-            name: Install Dependencies\n-            command: go mod download\n-        - save_cache:\n-            key: go-mod-1.22.1-{{ checksum \"go.sum\" }}\n-            paths:\n-              - \"~/go/pkg/mod\"\n-        - run:\n-            name: Run tests\n-            command: |\n-              mkdir -p /tmp/test-reports\n-              gotestsum --junitfile /tmp/test-reports/unit-tests.xml -- -coverprofile=/tmp/test-reports/coverage.out ./...\n-        - store_test_results:\n-            path: /tmp/test-reports\n-        - codecov/upload:\n-            flags: go\n-            file: /tmp/test-reports/coverage.out\n+    executor: go\n+    working_directory: ~/go/src/github.com/ArtalkJS/Artalk\n+    environment:\n+      GO111MODULE: \"on\"\n+    steps:\n+      - checkout\n+      - run:\n+          name: \"Print the Go version\"\n+          command: >\n+            go version\n+      - restore_cache:\n+          keys:\n+            - go-mod-1.22.1-{{ checksum \"go.sum\" }}\n+      - run:\n+          name: Install Dependencies\n+          command: go mod download\n+      - save_cache:\n+          key: go-mod-1.22.1-{{ checksum \"go.sum\" }}\n+          paths:\n+            - \"~/go/pkg/mod\"\n+      - run:\n+          name: Run tests\n+          command: |\n+            mkdir -p /tmp/test-reports\n+            gotestsum --junitfile /tmp/test-reports/unit-tests.xml -- -coverprofile=/tmp/test-reports/coverage.out ./...\n+      - store_test_results:\n+          path: /tmp/test-reports\n+      - codecov/upload:\n+          flags: go\n+          file: /tmp/test-reports/coverage.out\n \n   all_projects:\n-      executor: base\n-      steps:\n-        - run:\n-            command: |\n-              echo \"all\"\n+    executor: base\n+    steps:\n+      - run:\n+          command: |\n+            echo \"all\"\n \n workflows:\n   build-app:"
    },
    {
      "sha": "64fc3e6cebb61bdcd262ae48a9b5495f334d0af2",
      "filename": ".circleci/config.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.circleci%2Fconfig.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.circleci%2Fconfig.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.circleci%2Fconfig.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,7 +17,7 @@ workflows:\n           mapping: |\n             (cmd|internal|server|pkg|test|conf)/.*  trigger-app true\n             main.go|go.mod|go.sum  trigger-app true\n-          base-revision: master  # git branch name\n+          base-revision: master # git branch name\n           config-path: .circleci/conditional_config.yml\n           filters:\n             branches:"
    },
    {
      "sha": "2d853bdcdbb3516569c0e5c47b766759990c0e0f",
      "filename": ".eslintrc.cjs",
      "status": "modified",
      "additions": 1,
      "deletions": 3,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.eslintrc.cjs",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.eslintrc.cjs",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.eslintrc.cjs?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -40,9 +40,7 @@ module.exports = {\n   settings: {\n     'import/resolver': {\n       typescript: {\n-        project: ['ui/artalk/tsconfig.json'].map((p) =>\n-          path.resolve(__dirname, p),\n-        ),\n+        project: ['ui/artalk/tsconfig.json'].map((p) => path.resolve(__dirname, p)),\n       },\n     },\n     polyfills: ['AbortController'],"
    },
    {
      "sha": "1eb399858e272733b230bf76e43c2c080e01e2e4",
      "filename": ".github/chglog/config.yml",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fchglog%2Fconfig.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fchglog%2Fconfig.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fchglog%2Fconfig.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,8 +4,8 @@ info:\n   title: CHANGELOG\n   repository_url: https://github.com/ArtalkJS/Artalk\n options:\n-  tag_filter_pattern: '^v'\n-  sort: \"date\"\n+  tag_filter_pattern: \"^v\"\n+  sort: date\n   commits:\n     filters:\n       Type:"
    },
    {
      "sha": "4411a2deb37b485c84b511580ee27fd805c3cd9f",
      "filename": ".github/dependabot.yml",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fdependabot.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fdependabot.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fdependabot.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,7 +14,7 @@ updates:\n     groups:\n       deps:\n         patterns:\n-          - '*'\n+          - \"*\"\n     open-pull-requests-limit: 15\n \n   - package-ecosystem: npm\n@@ -39,7 +39,7 @@ updates:\n     groups:\n       deps:\n         patterns:\n-          - '*'\n+          - \"*\"\n     open-pull-requests-limit: 15\n \n   - package-ecosystem: docker\n@@ -51,7 +51,7 @@ updates:\n     groups:\n       deps:\n         patterns:\n-          - '*'\n+          - \"*\"\n     open-pull-requests-limit: 15\n \n   - package-ecosystem: github-actions\n@@ -63,5 +63,5 @@ updates:\n     groups:\n       deps:\n         patterns:\n-          - '*'\n+          - \"*\"\n     open-pull-requests-limit: 15"
    },
    {
      "sha": "af2c5f2940ce000905c851c65769443c2a7c5247",
      "filename": ".github/workflows/build-app.yml",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-app.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-app.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fbuild-app.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -51,9 +51,9 @@ jobs:\n \n       - name: Setup git-chglog\n         run: |\n-            curl -sL $(curl -s https://api.github.com/repos/git-chglog/git-chglog/releases/latest \\\n-              | grep -oP '\"https://.+linux_amd64.tar.gz\"' | tr -d \\\") | tar -C /usr/local/bin -xz git-chglog\n-            git-chglog --version\n+          curl -sL $(curl -s https://api.github.com/repos/git-chglog/git-chglog/releases/latest \\\n+            | grep -oP '\"https://.+linux_amd64.tar.gz\"' | tr -d \\\") | tar -C /usr/local/bin -xz git-chglog\n+          git-chglog --version\n \n       - name: Pre Build\n         run: |-"
    },
    {
      "sha": "70fc31756f72d89e9db43447dc1b96782cfa6a5a",
      "filename": ".github/workflows/build-nightly.yml",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-nightly.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-nightly.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fbuild-nightly.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,11 +3,11 @@ run-name: Build Nightly\n \n on:\n   schedule:\n-    - cron: '0 10 * * *'\n+    - cron: \"0 10 * * *\"\n   workflow_dispatch:\n     inputs:\n       dry_run:\n-        description: 'Dry run'\n+        description: \"Dry run\"\n         type: boolean\n         default: true\n \n@@ -59,7 +59,7 @@ jobs:\n         with:\n           node-version: 20.x\n           registry-url: https://registry.npmjs.org/\n-          cache: 'pnpm'\n+          cache: \"pnpm\"\n \n       - name: Get pnpm store directory\n         shell: bash"
    },
    {
      "sha": "d0791a7a1d8af1c86ab0f276a4b416c9a93f92a1",
      "filename": ".github/workflows/build-tagging.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-tagging.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-tagging.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fbuild-tagging.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,7 +11,7 @@ on:\n         type: number\n     outputs:\n       version:\n-        description: 'Version'\n+        description: \"Version\"\n         value: ${{ jobs.tagging.outputs.version }}\n \n jobs:"
    },
    {
      "sha": "b54b59b959a58fe66f4e93daef7a826c031c942e",
      "filename": ".github/workflows/build-ui.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-ui.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild-ui.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fbuild-ui.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -30,7 +30,7 @@ jobs:\n         with:\n           node-version: 20.x\n           registry-url: https://registry.npmjs.org/\n-          cache: 'pnpm'\n+          cache: \"pnpm\"\n \n       - name: Install dependencies\n         run: pnpm install --frozen-lockfile"
    },
    {
      "sha": "3a366e6d0d73f34694b617369c9603924c3d46d9",
      "filename": ".github/workflows/build.yml",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fbuild.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fbuild.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,13 +9,13 @@ on:\n   workflow_dispatch:\n     inputs:\n       dry_run:\n-        description: 'Dry run'\n+        description: \"Dry run\"\n         type: boolean\n         default: true\n       build_items:\n-        description: 'Build items'\n+        description: \"Build items\"\n         type: string\n-        default: 'ui,app,docker'\n+        default: \"ui,app,docker\"\n \n jobs:\n   # Tag the release version code before building\n@@ -54,7 +54,11 @@ jobs:\n         # since docker push actions will override the previous images,\n         # so need to build `linux/amd64` and push first,\n         # then build `linux/amd64` twice with other archs (build very slow so keep it last).\n-        target: [\"linux/amd64\", \"linux/amd64,linux/arm64,linux/arm/v7\"]\n+        target:\n+          - linux/amd64\n+          - linux/amd64\n+          - linux/arm64\n+          - linux/arm/v7\n     with:\n       version: ${{ needs.tagging.outputs.version }}\n       dry_run: ${{ inputs.dry_run || false }}"
    },
    {
      "sha": "7d07c4e54d252d3543ec7305528e7668c7e7205e",
      "filename": ".github/workflows/codeql.yml",
      "status": "modified",
      "additions": 36,
      "deletions": 33,
      "changes": 69,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fcodeql.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fcodeql.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fcodeql.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,16 +9,18 @@\n # the `language` matrix defined below to confirm you have the correct set of\n # supported CodeQL languages.\n #\n-name: \"CodeQL\"\n+name: CodeQL\n \n on:\n   push:\n-    branches: [ \"master\" ]\n+    branches:\n+      - master\n   pull_request:\n     # The branches below must be a subset of the branches above\n-    branches: [ \"master\" ]\n+    branches:\n+      - master\n   schedule:\n-    - cron: '40 17 * * 4'\n+    - cron: \"40 17 * * 4\"\n \n jobs:\n   analyze:\n@@ -32,43 +34,44 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        language: [ 'go', 'javascript' ]\n+        language:\n+          - go\n+          - javascript\n         # CodeQL supports [ 'cpp', 'csharp', 'go', 'java', 'javascript', 'python', 'ruby' ]\n         # Learn more about CodeQL language support at https://aka.ms/codeql-docs/language-support\n \n     steps:\n-    - name: Checkout repository\n-      uses: actions/checkout@v4\n+      - name: Checkout repository\n+        uses: actions/checkout@v4\n \n-    # Initializes the CodeQL tools for scanning.\n-    - name: Initialize CodeQL\n-      uses: github/codeql-action/init@v3\n-      with:\n-        languages: ${{ matrix.language }}\n-        # If you wish to specify custom queries, you can do so here or in a config file.\n-        # By default, queries listed here will override any specified in a config file.\n-        # Prefix the list here with \"+\" to use these queries and those in the config file.\n+      # Initializes the CodeQL tools for scanning.\n+      - name: Initialize CodeQL\n+        uses: github/codeql-action/init@v3\n+        with:\n+          languages: ${{ matrix.language }}\n+          # If you wish to specify custom queries, you can do so here or in a config file.\n+          # By default, queries listed here will override any specified in a config file.\n+          # Prefix the list here with \"+\" to use these queries and those in the config file.\n \n-        # Details on CodeQL's query packs refer to : https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs\n-        # queries: security-extended,security-and-quality\n+          # Details on CodeQL's query packs refer to : https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs\n+          # queries: security-extended,security-and-quality\n \n+      # Autobuild attempts to build any compiled languages  (C/C++, C#, or Java).\n+      # If this step fails, then you should remove it and run the build manually (see below)\n+      - name: Autobuild\n+        uses: github/codeql-action/autobuild@v3\n \n-    # Autobuild attempts to build any compiled languages  (C/C++, C#, or Java).\n-    # If this step fails, then you should remove it and run the build manually (see below)\n-    - name: Autobuild\n-      uses: github/codeql-action/autobuild@v3\n+      # ℹ️ Command-line programs to run using the OS shell.\n+      # 📚 See https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsrun\n \n-    # ℹ️ Command-line programs to run using the OS shell.\n-    # 📚 See https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsrun\n+      #   If the Autobuild fails above, remove it and uncomment the following three lines.\n+      #   modify them (or add more) to build your code if your project, please refer to the EXAMPLE below for guidance.\n \n-    #   If the Autobuild fails above, remove it and uncomment the following three lines.\n-    #   modify them (or add more) to build your code if your project, please refer to the EXAMPLE below for guidance.\n+      # - run: |\n+      #   echo \"Run, Build Application using script\"\n+      #   ./location_of_script_within_repo/buildscript.sh\n \n-    # - run: |\n-    #   echo \"Run, Build Application using script\"\n-    #   ./location_of_script_within_repo/buildscript.sh\n-\n-    - name: Perform CodeQL Analysis\n-      uses: github/codeql-action/analyze@v3\n-      with:\n-        category: \"/language:${{matrix.language}}\"\n+      - name: Perform CodeQL Analysis\n+        uses: github/codeql-action/analyze@v3\n+        with:\n+          category: \"/language:${{matrix.language}}\""
    },
    {
      "sha": "44705073deaa851206c0c60060625e7219740a9e",
      "filename": ".github/workflows/docs-cn.yml",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fdocs-cn.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Fdocs-cn.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fdocs-cn.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,8 +2,8 @@ name: Docs CN Mirror Deploy\n \n on:\n   push:\n-    branches: ['master']\n-    paths: ['docs/**']\n+    branches: [\"master\"]\n+    paths: [\"docs/**\"]\n \n jobs:\n   deploy:\n@@ -20,7 +20,7 @@ jobs:\n         uses: actions/setup-node@v4\n         with:\n           node-version: 20\n-          cache: \"pnpm\"\n+          cache: pnpm\n \n       - name: Install dependencies\n         run: pnpm install"
    },
    {
      "sha": "159198424cae9f7ba3f9924992bb8dd1d8358e24",
      "filename": ".github/workflows/release.yml",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Frelease.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Frelease.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Frelease.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,7 +13,7 @@ on:\n           - major\n         required: true\n       dry_run:\n-        description: 'Dry run?'\n+        description: \"Dry run?\"\n         type: boolean\n         default: false\n \n@@ -49,9 +49,9 @@ jobs:\n \n       - name: Setup git-chglog\n         run: |\n-            curl -sL $(curl -s https://api.github.com/repos/git-chglog/git-chglog/releases/latest \\\n-              | grep -oP '\"https://.+linux_amd64.tar.gz\"' | tr -d \\\") | tar -C /usr/local/bin -xz git-chglog\n-            git-chglog --version\n+          curl -sL $(curl -s https://api.github.com/repos/git-chglog/git-chglog/releases/latest \\\n+            | grep -oP '\"https://.+linux_amd64.tar.gz\"' | tr -d \\\") | tar -C /usr/local/bin -xz git-chglog\n+          git-chglog --version\n \n       - name: Version Changelog\n         run: |"
    },
    {
      "sha": "d8f775f05cedce0104fdcf46e6e55a3747ce0a38",
      "filename": ".github/workflows/repo-dispatch.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Frepo-dispatch.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Frepo-dispatch.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Frepo-dispatch.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,7 +8,7 @@ on:\n         type: string\n         description: Event Type\n         required: true\n-        default: ''\n+        default: \"\"\n \n jobs:\n   release:"
    },
    {
      "sha": "8ec7670c09d0cb0d9af0af0c900139bff1084354",
      "filename": ".github/workflows/test-docs.yml",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Ftest-docs.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Ftest-docs.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Ftest-docs.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,12 +2,12 @@ name: Test Docs\n \n on:\n   push:\n-    branches: ['*', '!release/*', '!nightly']\n-    paths: ['docs/**']\n-    tags-ignore: ['v*']\n+    branches: [\"*\", \"!release/*\", \"!nightly\"]\n+    paths: [\"docs/**\"]\n+    tags-ignore: [\"v*\"]\n   pull_request:\n-    paths: ['docs/**']\n-    branches: ['*', '!release/*', '!nightly']\n+    paths: [\"docs/**\"]\n+    branches: [\"*\", \"!release/*\", \"!nightly\"]\n \n jobs:\n   test_docs:"
    },
    {
      "sha": "4613af325c4c630094cab7162abac78dc1b794db",
      "filename": ".github/workflows/test-frontend.yml",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Ftest-frontend.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.github%2Fworkflows%2Ftest-frontend.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Ftest-frontend.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,12 +2,12 @@ name: Test Frontend\n \n on:\n   push:\n-    branches: ['*', '!release/*', '!nightly']\n-    paths: ['ui/**']\n-    tags-ignore: ['v*']\n+    branches: [\"*\", \"!release/*\", \"!nightly\"]\n+    paths: [\"ui/**\"]\n+    tags-ignore: [\"v*\"]\n   pull_request:\n-    paths: ['ui/**']\n-    branches: ['*', '!release/*', '!nightly']\n+    paths: [\"ui/**\"]\n+    branches: [\"*\", \"!release/*\", \"!nightly\"]\n \n jobs:\n   test_ui:\n@@ -42,5 +42,5 @@ jobs:\n         run: pnpm test\n \n       # https://github.com/arethetypeswrong/arethetypeswrong.github.io\n-      - name: 'arethetypeswrong test'\n+      - name: \"arethetypeswrong test\"\n         run: pnpm -F artalk attw || true"
    },
    {
      "sha": "f11688c9ba1c8a60b83f0cbbbc8eef70b34ac03c",
      "filename": ".goreleaser.yml",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.goreleaser.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.goreleaser.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.goreleaser.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,9 +14,9 @@ env:\n \n before:\n   hooks:\n-  # install dependencies\n-  - make install\n-  - make build-frontend\n+    # install dependencies\n+    - make install\n+    - make build-frontend\n \n # build multi-platform\n builds:\n@@ -60,7 +60,7 @@ builds:\n     goarch:\n       - arm\n     goarm:\n-      - '7'\n+      - \"7\"\n     env:\n       - CC=arm-linux-gnueabihf-gcc\n       - CXX=arm-linux-gnueabihf-g++\n@@ -118,7 +118,7 @@ builds:\n       # https://go-review.googlesource.com/c/go/+/224588/\n       # https://github.com/ArtalkJS/Artalk/issues/35\n       &win_common_flags |\n-        -tags=timetzdata\n+      -tags=timetzdata\n \n   # Win (arm_64)\n   - id: windows-arm64\n@@ -156,7 +156,7 @@ archives:\n       - artalk.yml\n \n checksum:\n-  name_template: 'checksums.txt'\n+  name_template: \"checksums.txt\"\n \n snapshot:\n   name_template: \"{{.Version}}-SNAPSHOT-{{.ShortCommit}}\""
    },
    {
      "sha": "2dd50a18a9101cf9f1747f975e7bbf969ecbba42",
      "filename": ".prettierignore",
      "status": "added",
      "additions": 17,
      "deletions": 0,
      "changes": 17,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.prettierignore",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.prettierignore",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.prettierignore?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -0,0 +1,17 @@\n+CHANGELOG.md\n+CHANGELOG.tpl.md\n+CDN.html\n+internal/template/notify_tpl/default.html\n+\n+# generated files\n+# @link https://github.com/prettier/prettier/issues/3634\n+pnpm-lock.yaml\n+**/auto-imports.d.ts\n+**/components.d.ts\n+**/typed-router.d.ts\n+ui/artalk/src/api/v2.ts\n+docs/swagger/swagger.json\n+docs/swagger/swagger.yaml\n+docs/**\n+ui/artalk-sidebar/src/lib/md5.js\n+ui/artalk/src/lib/detect.ts"
    },
    {
      "sha": "7e674532ecda586eee28925d51f51a0114d6e4d1",
      "filename": ".prettierrc",
      "status": "modified",
      "additions": 23,
      "deletions": 3,
      "changes": 26,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.prettierrc",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.prettierrc",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.prettierrc?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,6 +1,26 @@\n {\n-  \"semi\": false,\n   \"arrowParens\": \"always\",\n+  \"bracketSpacing\": true,\n+  \"htmlWhitespaceSensitivity\": \"css\",\n+  \"insertPragma\": false,\n+  \"bracketSameLine\": false,\n+  \"jsxSingleQuote\": false,\n+  \"printWidth\": 100,\n+  \"proseWrap\": \"preserve\",\n+  \"quoteProps\": \"as-needed\",\n+  \"requirePragma\": false,\n+  \"semi\": false,\n   \"singleQuote\": true,\n-  \"htmlWhitespaceSensitivity\": \"ignore\"\n-}\n\\ No newline at end of file\n+  \"tabWidth\": 2,\n+  \"trailingComma\": \"all\",\n+  \"useTabs\": false,\n+  \"vueIndentScriptAndStyle\": false,\n+  \"overrides\": [\n+    {\n+      \"files\": [\"*.yaml\", \"*.yml\"],\n+      \"options\": {\n+        \"singleQuote\": false\n+      }\n+    }\n+  ]\n+}"
    },
    {
      "sha": "39fa5e4a2cb4e91c74ecba72b81bc5926bef18b8",
      "filename": ".vscode/launch.json",
      "status": "modified",
      "additions": 12,
      "deletions": 12,
      "changes": 24,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.vscode%2Flaunch.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.vscode%2Flaunch.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.vscode%2Flaunch.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,14 +1,14 @@\n {\n-    \"version\": \"0.2.0\",\n-    \"configurations\": [\n-        {\n-            \"name\": \"Launch Artalk for Debugging\",\n-            \"type\": \"go\",\n-            \"request\": \"launch\",\n-            \"mode\": \"exec\",\n-            \"program\": \"${workspaceFolder}/bin/artalk\",\n-            \"preLaunchTask\": \"Build for debugging\",\n-            \"args\": [\"server\", \"-c\", \"${workspaceFolder}/data/artalk.yml\"]\n-        }\n-    ],\n+  \"version\": \"0.2.0\",\n+  \"configurations\": [\n+    {\n+      \"name\": \"Launch Artalk for Debugging\",\n+      \"type\": \"go\",\n+      \"request\": \"launch\",\n+      \"mode\": \"exec\",\n+      \"program\": \"${workspaceFolder}/bin/artalk\",\n+      \"preLaunchTask\": \"Build for debugging\",\n+      \"args\": [\"server\", \"-c\", \"${workspaceFolder}/data/artalk.yml\"]\n+    }\n+  ]\n }"
    },
    {
      "sha": "4b3fa8a4f9d3731b41cc232c8d668fae795c4ed2",
      "filename": ".vscode/settings.json",
      "status": "modified",
      "additions": 17,
      "deletions": 17,
      "changes": 34,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.vscode%2Fsettings.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.vscode%2Fsettings.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.vscode%2Fsettings.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,19 +1,19 @@\n {\n-    \"cSpell.words\": [\n-        \"akismet\",\n-        \"artalk\",\n-        \"artran\",\n-        \"artrans\",\n-        \"artransfer\",\n-        \"gomail\",\n-        \"Goreleaser\",\n-        \"gorm\",\n-        \"ldflags\",\n-        \"lfshook\",\n-        \"Metas\",\n-        \"pgsql\",\n-        \"sendmail\",\n-        \"sqlite\",\n-        \"pkged\"\n-    ]\n+  \"cSpell.words\": [\n+    \"akismet\",\n+    \"artalk\",\n+    \"artran\",\n+    \"artrans\",\n+    \"artransfer\",\n+    \"gomail\",\n+    \"Goreleaser\",\n+    \"gorm\",\n+    \"ldflags\",\n+    \"lfshook\",\n+    \"Metas\",\n+    \"pgsql\",\n+    \"sendmail\",\n+    \"sqlite\",\n+    \"pkged\"\n+  ]\n }"
    },
    {
      "sha": "16ebcef2c9a9d71376563265cf878fd019eba284",
      "filename": ".vscode/tasks.json",
      "status": "modified",
      "additions": 12,
      "deletions": 12,
      "changes": 24,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.vscode%2Ftasks.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/.vscode%2Ftasks.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.vscode%2Ftasks.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,14 +1,14 @@\n {\n-    \"version\": \"2.0.0\",\n-    \"tasks\": [\n-        {\n-            \"label\": \"Build for debugging\",\n-            \"type\": \"shell\",\n-            \"command\": \"make build-debug\",\n-            \"group\": {\n-                \"kind\": \"build\",\n-                \"isDefault\": true\n-            }\n-        }\n-    ]\n+  \"version\": \"2.0.0\",\n+  \"tasks\": [\n+    {\n+      \"label\": \"Build for debugging\",\n+      \"type\": \"shell\",\n+      \"command\": \"make build-debug\",\n+      \"group\": {\n+        \"kind\": \"build\",\n+        \"isDefault\": true\n+      }\n+    }\n+  ]\n }"
    },
    {
      "sha": "f0e9d02646128b3c9f33fefaa59e02eb0eae2221",
      "filename": "CONTRIBUTING.md",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/CONTRIBUTING.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/CONTRIBUTING.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/CONTRIBUTING.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -84,9 +84,9 @@ And open <http://localhost:1313/> in your browser to view the example site.\n Here is the default admin account (only created in test mode):\n \n ```yaml\n-name: \"admin\"\n-email: \"admin@test.com\"\n-password: \"admin\"\n+name: 'admin'\n+email: 'admin@test.com'\n+password: 'admin'\n ```\n \n ## Testing"
    },
    {
      "sha": "b034287fc481350a270510b7d3318c31d6146332",
      "filename": "README.en.md",
      "status": "modified",
      "additions": 6,
      "deletions": 1,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/README.en.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/README.en.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/README.en.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -61,6 +61,9 @@ Reference to：[**Documentation**](https://artalk.js.org/guide/deploy.html)\n $ pnpm add artalk\n ```\n \n+<!-- prettier-ignore-start -->\n+\n+\n ```ts\n import Artalk from 'artalk'\n \n@@ -74,6 +77,8 @@ Artalk.init({\n })\n ```\n \n+<!-- prettier-ignore-end -->\n+\n ### Docker\n \n ```sh\n@@ -94,7 +99,7 @@ vim docker-compose.yaml\n ```\n \n ```yaml\n-version: \"3.5\"\n+version: '3.5'\n services:\n   artalk:\n     container_name: artalk"
    },
    {
      "sha": "b26596a09d4d81b5c8210681ea9876d8d1174365",
      "filename": "README.md",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/README.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/README.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/README.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -65,6 +65,8 @@\n npm install artalk\n ```\n \n+<!-- prettier-ignore-start -->\n+\n ```ts\n import Artalk from 'artalk'\n \n@@ -76,6 +78,8 @@ Artalk.init({\n })\n ```\n \n+<!-- prettier-ignore-end -->\n+\n ### Docker\n \n ```bash\n@@ -94,7 +98,7 @@ vim docker-compose.yaml\n ```\n \n ```yaml\n-version: \"3.5\"\n+version: '3.5'\n services:\n   artalk:\n     container_name: artalk\n@@ -124,7 +128,7 @@ see [CONTRIBUTING.md](./CONTRIBUTING.md)\n \n ## Repobeats Analytics\n \n-![Alt](https://repobeats.axiom.co/api/embed/a9fc9191ac561bc5a8ee2cddc81e635ecaebafb6.svg \"Repobeats analytics image\")\n+![Alt](https://repobeats.axiom.co/api/embed/a9fc9191ac561bc5a8ee2cddc81e635ecaebafb6.svg 'Repobeats analytics image')\n \n ## 特别致谢\n "
    },
    {
      "sha": "47e546a9daea4246e06f7afe928da4347691cf85",
      "filename": "conf/artalk.example.simple.yml",
      "status": "modified",
      "additions": 33,
      "deletions": 33,
      "changes": 66,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/conf%2Fartalk.example.simple.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/conf%2Fartalk.example.simple.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/conf%2Fartalk.example.simple.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,33 +2,33 @@ host: \"0.0.0.0\"\n port: 23366\n app_key: \"\"\n debug: false\n-locale: \"en\"\n-timezone: \"Asia/Shanghai\"\n-site_default: \"Default Site\"\n+locale: en\n+timezone: Asia/Shanghai\n+site_default: Default Site\n login_timeout: 259200\n db:\n-  type: \"sqlite\"\n-  file: \"./data/artalk.db\"\n+  type: sqlite\n+  file: ./data/artalk.db\n   table_prefix: \"\"\n-  name: \"artalk\"\n-  host: \"localhost\"\n+  name: artalk\n+  host: localhost\n   port: 3306\n-  user: \"root\"\n+  user: root\n   password: \"\"\n-  charset: \"utf8mb4\"\n+  charset: utf8mb4\n   ssl: false\n   prepare_stmt: true\n log:\n   enabled: true\n-  filename: \"./data/artalk.log\"\n+  filename: ./data/artalk.log\n cache:\n   enabled: false\n-  type: \"builtin\"\n+  type: builtin\n   expires: 30\n   warm_up: false\n   server: \"\"\n   redis:\n-    network: \"tcp\"\n+    network: tcp\n     username: \"\"\n     password: \"\"\n     db: 0\n@@ -45,23 +45,23 @@ moderator:\n     enabled: false\n     secret_id: \"\"\n     secret_key: \"\"\n-    region: \"ap-guangzhou\"\n+    region: ap-guangzhou\n   aliyun:\n     enabled: false\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    region: \"cn-shanghai\"\n+    region: cn-shanghai\n   keywords:\n     enabled: false\n     pending: false\n     files:\n-      - \"./data/keywords_1.txt\"\n+      - ./data/keywords_1.txt\n     file_sep: \"\\n\"\n-    replac_to: \"x\"\n+    replac_to: x\n captcha:\n   enabled: true\n   always: false\n-  captcha_type: \"image\"\n+  captcha_type: image\n   action_limit: 3\n   action_reset: 60\n   turnstile:\n@@ -78,31 +78,31 @@ captcha:\n     captcha_key: \"\"\n img_upload:\n   enabled: true\n-  path: \"./data/artalk-img/\"\n+  path: ./data/artalk-img/\n   max_size: 5\n   public_path: null\n   upgit:\n     enabled: false\n-    exec: \"upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\"\n+    exec: upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\n     del_local: true\n email:\n   enabled: false\n-  send_type: \"smtp\"\n+  send_type: smtp\n   send_name: \"{{reply_nick}}\"\n-  send_addr: \"noreply@example.com\"\n+  send_addr: noreply@example.com\n   mail_subject: \"[{{site_name}}] You got a reply from @{{reply_nick}}\"\n-  mail_tpl: \"default\"\n+  mail_tpl: default\n   smtp:\n-    host: \"smtp.qq.com\"\n+    host: smtp.qq.com\n     port: 587\n-    username: \"example@qq.com\"\n+    username: example@qq.com\n     password: \"\"\n   ali_dm:\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    account_name: \"noreply@example.com\"\n+    account_name: noreply@example.com\n admin_notify:\n-  notify_tpl: \"default\"\n+  notify_tpl: default\n   notify_pending: false\n   noise_mode: false\n   email:\n@@ -116,7 +116,7 @@ admin_notify:\n       - 7777777\n   bark:\n     enabled: false\n-    server: \"http://day.app/xxxxxxx/\"\n+    server: http://day.app/xxxxxxx/\n   lark:\n     enabled: false\n     webhook_url: \"\"\n@@ -137,27 +137,27 @@ admin_notify:\n     channel_secret: \"\"\n     channel_access_token: \"\"\n     receivers:\n-      - \"USER_ID_1\"\n-      - \"GROUP_ID_1\"\n+      - USER_ID_1\n+      - GROUP_ID_1\n frontend:\n   placeholder: \"\"\n   noComment: \"\"\n   sendBtn: \"\"\n   editorTravel: true\n-  emoticons: \"https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\"\n+  emoticons: https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\n   vote: true\n   voteDown: false\n   uaBadge: false\n   listSort: true\n   pvEl: \"#ArtalkPV\"\n   countEl: \"#ArtalkCount\"\n   preview: true\n-  flatMode: \"auto\"\n+  flatMode: auto\n   nestMax: 2\n   nestSort: DATE_ASC\n   gravatar:\n-    mirror: \"https://www.gravatar.com/avatar/\"\n-    params: \"d=mp&s=240\"\n+    mirror: https://www.gravatar.com/avatar/\n+    params: d=mp&s=240\n   pagination:\n     pageSize: 20\n     readMore: true"
    },
    {
      "sha": "7c1989e716582808636cfb07a66d22f54a1c3f1f",
      "filename": "conf/artalk.example.yml",
      "status": "modified",
      "additions": 33,
      "deletions": 33,
      "changes": 66,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/conf%2Fartalk.example.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/conf%2Fartalk.example.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/conf%2Fartalk.example.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -12,39 +12,39 @@ debug: false\n \n # Language (follow Unicode BCP 47) [\"en\", \"zh-CN\", \"zh-TW\", \"jp\"]\n # -- see https://www.techonthenet.com/js/language_tags.php --\n-locale: \"en\"\n+locale: en\n \n # Timezone (follow IANA Time Zone Database)\n # -- see https://en.wikipedia.org/wiki/List_of_tz_database_time_zones --\n-timezone: \"Asia/Shanghai\"\n+timezone: Asia/Shanghai\n \n # Default site name (create when app is first launched)\n-site_default: \"Default Site\"\n+site_default: Default Site\n \n # Login timeout (in seconds)\n login_timeout: 259200\n \n # Database\n db:\n   # Database type [\"sqlite\", \"mysql\", \"pgsql\", \"mssql\"]\n-  type: \"sqlite\"\n+  type: sqlite\n   # Database file (only for SQLite)\n-  file: \"./data/artalk.db\"\n+  file: ./data/artalk.db\n   # Table prefix (e.g. \"atk_\")\n   table_prefix: \"\"\n   # -- The following is not necessary for SQLite --\n   # Database name\n-  name: \"artalk\"\n+  name: artalk\n   # Host address\n-  host: \"localhost\"\n+  host: localhost\n   # Host port\n   port: 3306\n   # Database user\n-  user: \"root\"\n+  user: root\n   # Database password\n   password: \"\"\n   # Database charset\n-  charset: \"utf8mb4\"\n+  charset: utf8mb4\n   # Enable SSL mode\n   ssl: false\n   # Prepared Statement\n@@ -55,14 +55,14 @@ log:\n   # Enable logging\n   enabled: true\n   # Log file path\n-  filename: \"./data/artalk.log\"\n+  filename: ./data/artalk.log\n \n # Cache\n cache:\n   # Enable cache\n   enabled: false\n   # Cache type [\"redis\", \"memcache\", \"builtin\"]\n-  type: \"builtin\"\n+  type: builtin\n   # Cache expiration time (in minutes)\n   expires: 30\n   # Cache warm up (warm up cache when program starts)\n@@ -73,7 +73,7 @@ cache:\n   # Redis config\n   redis:\n     # Connection type [\"tcp\", \"unix\"]\n-    network: \"tcp\"\n+    network: tcp\n     # Redis username\n     username: \"\"\n     # Redis password\n@@ -113,15 +113,15 @@ moderator:\n     enabled: false\n     secret_id: \"\"\n     secret_key: \"\"\n-    region: \"ap-guangzhou\"\n+    region: ap-guangzhou\n   # Aliyun Content Security\n   # (Auto review comments with Aliyun Content Security)\n   # -- see https://help.aliyun.com/document_detail/28417.html --\n   aliyun:\n     enabled: false\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    region: \"cn-shanghai\"\n+    region: cn-shanghai\n   # Keyword filter (local offline dictionary)\n   keywords:\n     # Enable keyword filter\n@@ -130,9 +130,9 @@ moderator:\n     pending: false\n     # Dictionary file (support multiple dictionary files)\n     files:\n-      - \"./data/keywords_1.txt\"\n+      - ./data/keywords_1.txt\n     file_sep: \"\\n\"\n-    replac_to: \"x\"\n+    replac_to: x\n \n # Captcha\n captcha:\n@@ -141,7 +141,7 @@ captcha:\n   # Captcha is required always\n   always: false\n   # Captcha type [\"image\", \"turnstile\", \"recaptcha\", \"hcaptcha\", \"geetest\"]\n-  captcha_type: \"image\"\n+  captcha_type: image\n   # Action limit\n   # (the number of actions required to activate captcha)\n   action_limit: 3\n@@ -171,7 +171,7 @@ img_upload:\n   # Enable image upload\n   enabled: true\n   # Image storage\n-  path: \"./data/artalk-img/\"\n+  path: ./data/artalk-img/\n   # Image size limit (unit: MB)\n   max_size: 5\n   # Image link base path (default: \"/static/images/\")\n@@ -181,7 +181,7 @@ img_upload:\n     # Enable Upgit\n     enabled: false\n     # Command line arguments\n-    exec: \"upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\"\n+    exec: upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\n     # Delete local image after upload success\n     del_local: true\n \n@@ -190,36 +190,36 @@ email:\n   # Enable email notification\n   enabled: false\n   # Send method [\"smtp\", \"ali_dm\", \"sendmail\"]\n-  send_type: \"smtp\"\n+  send_type: smtp\n   # Nick name of sender\n   send_name: \"{{reply_nick}}\"\n   # Email address of sender\n-  send_addr: \"noreply@example.com\"\n+  send_addr: noreply@example.com\n   # Email subject\n   mail_subject: \"[{{site_name}}] You got a reply from @{{reply_nick}}\"\n   # Email template file (set to file path to use custom template)\n-  mail_tpl: \"default\"\n+  mail_tpl: default\n   # SMTP send (set send method to \"smtp\" to enable)\n   smtp:\n     # Email address of sender\n-    host: \"smtp.qq.com\"\n+    host: smtp.qq.com\n     # Email port\n     port: 587\n     # Email address of sender\n-    username: \"example@qq.com\"\n+    username: example@qq.com\n     # Password\n     password: \"\"\n   # Aliyun mail push\n   # (set send method to \"ali_dm\" to enable; see: https://help.aliyun.com/document_detail/29444.html)\n   ali_dm:\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    account_name: \"noreply@example.com\"\n+    account_name: noreply@example.com\n \n # Multi-Push\n admin_notify:\n   # Notification template (set to file path to use custom template)\n-  notify_tpl: \"default\"\n+  notify_tpl: default\n   # Pending comment still send notification (notifications are still sent when comments are intercepted)\n   notify_pending: false\n   # Noise mode\n@@ -244,7 +244,7 @@ admin_notify:\n   # Bark\n   bark:\n     enabled: false\n-    server: \"http://day.app/xxxxxxx/\"\n+    server: http://day.app/xxxxxxx/\n   lark:\n     enabled: false\n     webhook_url: \"\"\n@@ -268,8 +268,8 @@ admin_notify:\n     channel_secret: \"\"\n     channel_access_token: \"\"\n     receivers:\n-      - \"USER_ID_1\"\n-      - \"GROUP_ID_1\"\n+      - USER_ID_1\n+      - GROUP_ID_1\n \n # UI Settings\n frontend:\n@@ -282,7 +282,7 @@ frontend:\n   # Movable comment box\n   editorTravel: true\n   # Emoticons\n-  emoticons: \"https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\"\n+  emoticons: https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\n   # Vote button\n   vote: true\n   # Dislike button\n@@ -298,17 +298,17 @@ frontend:\n   # Editor real-time preview\n   preview: true\n   # Flatten mode [\"auto\", true, false]\n-  flatMode: \"auto\"\n+  flatMode: auto\n   # Maximum nesting level\n   nestMax: 2\n   # Nesting comment sorting rules [\"DATE_ASC\", \"DATE_DESC\", \"VOTE_UP_DESC\"]\n   nestSort: DATE_ASC\n   # Gravatar\n   gravatar:\n     # API URL\n-    mirror: \"https://www.gravatar.com/avatar/\"\n+    mirror: https://www.gravatar.com/avatar/\n     # API parameters\n-    params: \"d=mp&s=240\"\n+    params: d=mp&s=240\n   # Comment pagination\n   pagination:\n     # Number of comments per page"
    },
    {
      "sha": "4e19b02f285a2afa7b4333062ae0d5837a22a28c",
      "filename": "conf/artalk.example.zh-CN.yml",
      "status": "modified",
      "additions": 36,
      "deletions": 36,
      "changes": 72,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/conf%2Fartalk.example.zh-CN.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/conf%2Fartalk.example.zh-CN.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/conf%2Fartalk.example.zh-CN.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,35 +11,35 @@ app_key: \"\"\n debug: false\n \n # 语言 [\"en\", \"zh-CN\", \"zh-TW\", \"jp\"]\n-locale: \"zh-CN\"\n+locale: zh-CN\n \n # 时间区域\n-timezone: \"Asia/Shanghai\"\n+timezone: Asia/Shanghai\n \n # 默认站点名\n-site_default: \"默认站点\"\n+site_default: 默认站点\n \n # 登录有效时长 (单位：秒)\n login_timeout: 259200\n \n # 数据库\n db:\n   # 数据库类型 [\"sqlite\", \"mysql\", \"pgsql\", \"mssql\"]\n-  type: \"sqlite\"\n+  type: sqlite\n   # 数据库文件 (仅 SQLite 数据库需填写)\n-  file: \"./data/artalk.db\"\n+  file: ./data/artalk.db\n   # 数据库名称\n-  name: \"artalk\"\n+  name: artalk\n   # 数据库地址\n-  host: \"localhost\"\n+  host: localhost\n   # 数据库端口\n   port: 3306\n   # 数据库账户\n-  user: \"root\"\n+  user: root\n   # 数据库密码\n   password: \"\"\n   # 编码格式\n-  charset: \"utf8mb4\"\n+  charset: utf8mb4\n   # 表前缀 (例如：\"atk_\")\n   table_prefix: \"\"\n   # 启用 SSL\n@@ -52,14 +52,14 @@ log:\n   # 启用日志\n   enabled: true\n   # 日志文件路径\n-  filename: \"./data/artalk.log\"\n+  filename: ./data/artalk.log\n \n # 缓存\n cache:\n   # 启用缓存\n   enabled: false\n   # 缓存类型 [\"redis\", \"memcache\", \"builtin\"]\n-  type: \"builtin\"\n+  type: builtin\n   # 缓存过期时间 (单位：分钟)\n   expires: 30\n   # 缓存启动预热 (程序启动时预热缓存)\n@@ -69,7 +69,7 @@ cache:\n   # Redis 配置\n   redis:\n     # 连接方式 [\"tcp\", \"unix\"]\n-    network: \"tcp\"\n+    network: tcp\n     # 用户名\n     username: \"\"\n     # 密码\n@@ -112,26 +112,26 @@ moderator:\n     enabled: false\n     secret_id: \"\"\n     secret_key: \"\"\n-    region: \"ap-guangzhou\"\n+    region: ap-guangzhou\n   # 阿里云内容安全\n   # (https://help.aliyun.com/document_detail/28417.html)\n   aliyun:\n     enabled: false\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    region: \"cn-shanghai\"\n+    region: cn-shanghai\n   # 关键词过滤 (本地离线词库)\n   keywords:\n     enabled: false\n     # 匹配成功设为待审状态\n     pending: false\n     # 词库文件 (支持多个词库文件)\n     files:\n-      - \"./data/词库_1.txt\"\n+      - ./data/词库_1.txt\n     # 词库文件内容分割符 (例如填写 \"\\n\" 文件中一行一个关键词)\n     file_sep: \"\\n\"\n     # 替换字符\n-    replac_to: \"x\"\n+    replac_to: x\n \n # 验证码\n captcha:\n@@ -140,7 +140,7 @@ captcha:\n   # 总是需要验证码\n   always: false\n   # 验证类型 [\"image\", \"turnstile\", \"recaptcha\", \"hcaptcha\", \"geetest\"]\n-  captcha_type: \"image\"\n+  captcha_type: image\n   # 激活验证码所需操作次数\n   action_limit: 3\n   # 重置操作计数器超时 (单位：s, 设为 -1 不重置)\n@@ -169,16 +169,16 @@ ip_region:\n   # 启用 IP 属地展示\n   enabled: false\n   # 数据文件路径 (.xdb 格式)\n-  db_path: \"./data/ip2region.xdb\"\n+  db_path: ./data/ip2region.xdb\n   # 显示精度 [\"province\", \"city\", \"country\"]\n-  precision: \"province\"\n+  precision: province\n \n # 图片上传\n img_upload:\n   # 启用图片上传\n   enabled: true\n   # 图片存放路径\n-  path: \"./data/artalk-img/\"\n+  path: ./data/artalk-img/\n   # 图片大小限制 (单位：MB)\n   max_size: 5\n   # 图片链接基础路径 (默认为 \"/static/images/\")\n@@ -189,7 +189,7 @@ img_upload:\n     # 启用 Upgit\n     enabled: false\n     # 命令行参数\n-    exec: \"upgit -c <upgit配置文件路径> -t /artalk-img\"\n+    exec: upgit -c <upgit配置文件路径> -t /artalk-img\n     # 上传后删除本地的图片\n     del_local: true\n \n@@ -198,36 +198,36 @@ email:\n   # 启用邮件通知\n   enabled: false\n   # 发送方式 [\"smtp\", \"ali_dm\", \"sendmail\"]\n-  send_type: \"smtp\"\n+  send_type: smtp\n   # 发信人昵称\n   send_name: \"{{reply_nick}}\"\n   # 发信人地址\n-  send_addr: \"noreply@example.com\"\n+  send_addr: noreply@example.com\n   # 邮件标题\n   mail_subject: \"[{{site_name}}] 您收到了来自 @{{reply_nick}} 的回复\"\n   # 邮件模板文件 (填入文件路径使用自定义模板)\n-  mail_tpl: \"default\"\n+  mail_tpl: default\n   # SMTP 发送 (启用请将发送方式设为 \"smtp\")\n   smtp:\n     # 发件地址\n-    host: \"smtp.qq.com\"\n+    host: smtp.qq.com\n     # 发件端口\n     port: 587\n     # 用户名\n-    username: \"example@qq.com\"\n+    username: example@qq.com\n     # 密码\n     password: \"\"\n   # 阿里云邮件推送\n   # (启用请将发送方式设为 \"ali_dm\"；参考：https://help.aliyun.com/document_detail/29444.html)\n   ali_dm:\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    account_name: \"noreply@example.com\"\n+    account_name: noreply@example.com\n \n # 多元推送\n admin_notify:\n   # 通知模版 (填入文件路径使用自定义模板)\n-  notify_tpl: \"default\"\n+  notify_tpl: default\n   # 待审评论仍然发送通知 (当评论被拦截时仍然发送通知)\n   notify_pending: false\n   # 嘈杂模式\n@@ -249,7 +249,7 @@ admin_notify:\n   # Bark\n   bark:\n     enabled: false\n-    server: \"http://day.app/xxxxxxx/\"\n+    server: http://day.app/xxxxxxx/\n   # 飞书\n   lark:\n     enabled: false\n@@ -268,15 +268,15 @@ admin_notify:\n     enabled: false\n     oauth_token: \"\"\n     receivers:\n-      - \"CHANNEL_ID\"\n+      - CHANNEL_ID\n   # LINE\n   line:\n     enabled: false\n     channel_secret: \"\"\n     channel_access_token: \"\"\n     receivers:\n-      - \"USER_ID_1\"\n-      - \"GROUP_ID_1\"\n+      - USER_ID_1\n+      - GROUP_ID_1\n \n # 界面配置\n frontend:\n@@ -289,7 +289,7 @@ frontend:\n   # 评论框穿梭\n   editorTravel: true\n   # 表情包\n-  emoticons: \"https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\"\n+  emoticons: https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\n   # 投票按钮\n   vote: true\n   # 反对按钮\n@@ -305,17 +305,17 @@ frontend:\n   # 编辑器实时预览功能\n   preview: true\n   # 平铺模式 [\"auto\", true, false]\n-  flatMode: \"auto\"\n+  flatMode: auto\n   # 最大嵌套层数\n   nestMax: 2\n   # 嵌套评论排序规则 [\"DATE_ASC\", \"DATE_DESC\", \"VOTE_UP_DESC\"]\n   nestSort: DATE_ASC\n   # 头像 Gravatar\n   gravatar:\n     # API 地址\n-    mirror: \"https://cravatar.cn/avatar/\"\n+    mirror: https://cravatar.cn/avatar/\n     # API 参数\n-    params: \"d=mp&s=240\"\n+    params: d=mp&s=240\n   # 评论分页\n   pagination:\n     # 每页评论数"
    },
    {
      "sha": "329372e774dccf392d3a6b66bbc8f079460b26bb",
      "filename": "docs/docs/.vitepress/config.ts",
      "status": "modified",
      "additions": 118,
      "deletions": 119,
      "changes": 237,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Fconfig.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Fconfig.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Fconfig.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,45 +1,44 @@\n-import { defineConfig } from \"vitepress\";\n-import iterator from \"markdown-it-for-inline\";\n-import * as Version from \"../code/ArtalkVersion.json\";\n+import { defineConfig } from 'vitepress'\n+import iterator from 'markdown-it-for-inline'\n+import * as Version from '../code/ArtalkVersion.json'\n \n export default defineConfig({\n-  title: \"Artalk\",\n-  description: \"一款简洁的自托管评论系统\",\n-  lang: \"zh-CN\",\n+  title: 'Artalk',\n+  description: '一款简洁的自托管评论系统',\n+  lang: 'zh-CN',\n \n   head: [\n-    [\"link\", { rel: \"icon\", href: \"/favicon.png\" }],\n+    ['link', { rel: 'icon', href: '/favicon.png' }],\n     [\n-      \"meta\",\n+      'meta',\n       {\n-        name: \"viewport\",\n+        name: 'viewport',\n         content:\n-          \"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=device-dpi\",\n+          'width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=device-dpi',\n       },\n     ],\n-    // artalk\n-    // ['link', { href: `https://npm.elemecdn.com/artalk@${Version.latest}/dist/Artalk.css`, rel: 'stylesheet' }],\n-    // [\n-    //   \"link\",\n-    //   { href: `https://artalk.qwqaq.com/dist/Artalk.css`, rel: \"stylesheet\" },\n-    // ],\n-    // ['script', { src: ArtalkCDN.JS }],\n     // light gallery\n     [\n-      \"link\",\n+      'link',\n       {\n-        href: \"https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/css/lightgallery.css\",\n-        rel: \"stylesheet\",\n+        href: 'https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/css/lightgallery.css',\n+        rel: 'stylesheet',\n       },\n     ],\n     [\n-      \"script\",\n+      'script',\n       {\n-        src: \"https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/lightgallery.min.js\",\n+        src: 'https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/lightgallery.min.js',\n       },\n     ],\n     // katex\n-    ['link', { href: \"https://unpkg.com/katex@0.15.3/dist/katex.min.css\", rel: 'stylesheet' }],\n+    [\n+      'link',\n+      {\n+        href: 'https://unpkg.com/katex@0.15.3/dist/katex.min.css',\n+        rel: 'stylesheet',\n+      },\n+    ],\n     ['script', { src: 'https://unpkg.com/katex@0.15.3/dist/katex.min.js' }],\n     // ['script', { src: 'https://unpkg.com/@artalk/plugin-katex/dist/artalk-plugin-katex.js' }],\n   ],\n@@ -49,132 +48,132 @@ export default defineConfig({\n   markdown: {\n     // @link https://github.com/shikijs/shiki\n     theme: {\n-      light: \"github-light\",\n-      dark: \"github-dark\",\n+      light: 'github-light',\n+      dark: 'github-dark',\n     },\n     config: (md) => {\n-      md.use(iterator, \"artalk_version\", \"text\", function (tokens, idx) {\n+      md.use(iterator, 'artalk_version', 'text', function (tokens, idx) {\n         tokens[idx].content = tokens[idx].content.replace(\n           /:ArtalkVersion:/g,\n-          Version.latest\n-        );\n-      });\n-      md.use(iterator, \"artalk_version_link\", \"link_open\", (tokens, idx) => {\n-        const href = tokens[idx].attrGet(\"href\");\n+          Version.latest,\n+        )\n+      })\n+      md.use(iterator, 'artalk_version_link', 'link_open', (tokens, idx) => {\n+        const href = tokens[idx].attrGet('href')\n         tokens[idx].attrSet(\n-          \"href\",\n-          href.replace(/:ArtalkVersion:/g, Version.latest)\n-        );\n-      });\n+          'href',\n+          href.replace(/:ArtalkVersion:/g, Version.latest),\n+        )\n+      })\n     },\n   },\n \n   locales: {\n     root: {\n-      label: \"简体中文\",\n-      lang: \"zh\",\n-      link: \"https://artalk.js.org/\",\n+      label: '简体中文',\n+      lang: 'zh',\n+      link: 'https://artalk.js.org/',\n     },\n     en: {\n-      label: \"English\",\n-      lang: \"en\",\n-      link: \"https://artalk-js-org.translate.goog/guide/intro?_x_tr_sl=auto&_x_tr_tl=en-US&_x_tr_hl=en-US&_x_tr_pto=wapp\",\n+      label: 'English',\n+      lang: 'en',\n+      link: 'https://artalk-js-org.translate.goog/guide/intro?_x_tr_sl=auto&_x_tr_tl=en-US&_x_tr_hl=en-US&_x_tr_pto=wapp',\n     },\n   },\n \n   themeConfig: {\n     sidebar: {\n-      \"/guide/\": [\n+      '/guide/': [\n         {\n-          text: \"快速开始\",\n+          text: '快速开始',\n           collapsed: false,\n           items: [\n-            { text: \"项目介绍\", link: \"/guide/intro.md\" },\n-            { text: \"程序部署\", link: \"/guide/deploy.md\" },\n-            { text: \"数据迁移\", link: \"/guide/transfer.md\" },\n+            { text: '项目介绍', link: '/guide/intro.md' },\n+            { text: '程序部署', link: '/guide/deploy.md' },\n+            { text: '数据迁移', link: '/guide/transfer.md' },\n           ],\n         },\n         {\n-          text: \"核心指南\",\n+          text: '核心指南',\n           collapsed: false,\n           items: [\n-            { text: \"侧边栏\", link: \"/guide/frontend/sidebar.md\" },\n-            { text: \"邮件通知\", link: \"/guide/backend/email.md\" },\n-            { text: \"多元推送\", link: \"/guide/backend/admin_notify.md\" },\n-            { text: \"评论审核\", link: \"/guide/backend/moderator.md\" },\n-            { text: \"验证码\", link: \"/guide/backend/captcha.md\" },\n-            { text: \"图片上传\", link: \"/guide/backend/img-upload.md\" },\n-            { text: \"账户与多站点\", link: \"/guide/backend/multi-site.md\" },\n-            { text: \"解析相对路径\", link: \"/guide/backend/relative-path.md\" },\n-            { text: \"如何配置界面\", link: \"/guide/backend/fe-control.md\" },\n-            { text: \"English (i18n)\", link: \"/guide/frontend/i18n.md\" },\n+            { text: '侧边栏', link: '/guide/frontend/sidebar.md' },\n+            { text: '邮件通知', link: '/guide/backend/email.md' },\n+            { text: '多元推送', link: '/guide/backend/admin_notify.md' },\n+            { text: '评论审核', link: '/guide/backend/moderator.md' },\n+            { text: '验证码', link: '/guide/backend/captcha.md' },\n+            { text: '图片上传', link: '/guide/backend/img-upload.md' },\n+            { text: '账户与多站点', link: '/guide/backend/multi-site.md' },\n+            { text: '解析相对路径', link: '/guide/backend/relative-path.md' },\n+            { text: '如何配置界面', link: '/guide/backend/fe-control.md' },\n+            { text: 'English (i18n)', link: '/guide/frontend/i18n.md' },\n           ],\n         },\n         {\n-          text: \"进阶指南\",\n+          text: '进阶指南',\n           collapsed: false,\n           items: [\n-            { text: \"表情包\", link: \"/guide/frontend/emoticons.md\" },\n-            { text: \"浏览量统计\", link: \"/guide/frontend/pv.md\" },\n-            { text: \"Latex\", link: \"/guide/frontend/latex.md\" },\n-            { text: \"图片灯箱\", link: \"/guide/frontend/lightbox.md\" },\n-            { text: \"IP 属地\", link: \"/guide/frontend/ip-region.md\" },\n-            { text: \"精简版本\", link: \"/guide/frontend/artalk-lite.md\" },\n-            { text: \"置入博客\", link: \"/guide/frontend/import-blog.md\" },\n-            { text: \"置入框架\", link: \"/guide/frontend/import-framework.md\" },\n-            { text: \"前端 API\", link: \"/develop/fe-api.md\" },\n-            { text: \"开发文档\", link: \"/develop/index.md\" },\n+            { text: '表情包', link: '/guide/frontend/emoticons.md' },\n+            { text: '浏览量统计', link: '/guide/frontend/pv.md' },\n+            { text: 'Latex', link: '/guide/frontend/latex.md' },\n+            { text: '图片灯箱', link: '/guide/frontend/lightbox.md' },\n+            { text: 'IP 属地', link: '/guide/frontend/ip-region.md' },\n+            { text: '精简版本', link: '/guide/frontend/artalk-lite.md' },\n+            { text: '置入博客', link: '/guide/frontend/import-blog.md' },\n+            { text: '置入框架', link: '/guide/frontend/import-framework.md' },\n+            { text: '前端 API', link: '/develop/fe-api.md' },\n+            { text: '开发文档', link: '/develop/index.md' },\n           ],\n         },\n         {\n-          text: \"配置文档\",\n+          text: '配置文档',\n           collapsed: true,\n           items: [\n-            { text: \"后端配置\", link: \"/guide/backend/config.md\" },\n-            { text: \"前端配置\", link: \"/guide/frontend/config.md\" },\n+            { text: '后端配置', link: '/guide/backend/config.md' },\n+            { text: '前端配置', link: '/guide/frontend/config.md' },\n           ],\n         },\n         {\n-          text: \"部署说明\",\n+          text: '部署说明',\n           collapsed: true,\n           items: [\n-            { text: \"守护进程\", link: \"/guide/backend/daemon.md\" },\n-            { text: \"反向代理\", link: \"/guide/backend/reverse-proxy.md\" },\n-            { text: \"编译构建\", link: \"/guide/backend/build.md\" },\n-            { text: \"程序升级\", link: \"/guide/backend/update.md\" },\n-            { text: \"Docker\", link: \"/guide/backend/docker.md\" },\n+            { text: '守护进程', link: '/guide/backend/daemon.md' },\n+            { text: '反向代理', link: '/guide/backend/reverse-proxy.md' },\n+            { text: '编译构建', link: '/guide/backend/build.md' },\n+            { text: '程序升级', link: '/guide/backend/update.md' },\n+            { text: 'Docker', link: '/guide/backend/docker.md' },\n           ],\n         },\n         {\n-          text: \"更多内容\",\n+          text: '更多内容',\n           collapsed: true,\n           items: [\n-            { text: \"安全防范\", link: \"/guide/security.md\" },\n-            { text: \"扩展阅读\", link: \"/guide/extras.md\" },\n-            { text: \"案例展示\", link: \"/guide/cases.md\" },\n-            { text: \"关于我们\", link: \"/guide/about.md\" },\n+            { text: '安全防范', link: '/guide/security.md' },\n+            { text: '扩展阅读', link: '/guide/extras.md' },\n+            { text: '案例展示', link: '/guide/cases.md' },\n+            { text: '关于我们', link: '/guide/about.md' },\n           ],\n         },\n       ],\n-      \"/develop/\": [\n+      '/develop/': [\n         {\n-          text: \"开发文档\",\n+          text: '开发文档',\n           items: [\n-            { text: \"开发说明\", link: \"/develop/index.md\" },\n-            { text: \"前端 API\", link: \"/develop/fe-api.md\" },\n-            { text: \"前端 Event\", link: \"/develop/event.md\" },\n-            { text: \"插件开发\", link: \"/develop/plugs.md\" },\n+            { text: '开发说明', link: '/develop/index.md' },\n+            { text: '前端 API', link: '/develop/fe-api.md' },\n+            { text: '前端 Event', link: '/develop/event.md' },\n+            { text: '插件开发', link: '/develop/plugs.md' },\n             {\n-              text: \"🔬 HTTP API\",\n-              link: \"https://artalk.js.org/http-api.html\",\n+              text: '🔬 HTTP API',\n+              link: 'https://artalk.js.org/http-api.html',\n             },\n             {\n-              text: \"📖 Contributing Guide\",\n-              link: \"https://github.com/ArtalkJS/Artalk/blob/master/CONTRIBUTING.md\",\n+              text: '📖 Contributing Guide',\n+              link: 'https://github.com/ArtalkJS/Artalk/blob/master/CONTRIBUTING.md',\n             },\n             {\n-              text: \"🔖 Code of Conduct\",\n-              link: \"https://github.com/ArtalkJS/Artalk/blob/master/CODE_OF_CONDUCT.md\",\n+              text: '🔖 Code of Conduct',\n+              link: 'https://github.com/ArtalkJS/Artalk/blob/master/CODE_OF_CONDUCT.md',\n             },\n           ],\n         },\n@@ -184,36 +183,36 @@ export default defineConfig({\n     nav: [\n       // NavbarItem\n       {\n-        text: \"介绍\",\n-        link: \"/guide/intro\",\n+        text: '介绍',\n+        link: '/guide/intro',\n       },\n       {\n-        text: \"部署\",\n-        link: \"/guide/deploy\",\n+        text: '部署',\n+        link: '/guide/deploy',\n       },\n       {\n-        text: \"配置\",\n-        link: \"/guide/backend/config\",\n+        text: '配置',\n+        link: '/guide/backend/config',\n       },\n       {\n-        text: \"迁移\",\n-        link: \"/guide/transfer\",\n+        text: '迁移',\n+        link: '/guide/transfer',\n       },\n       {\n-        text: \"案例\",\n-        link: \"/guide/cases\",\n+        text: '案例',\n+        link: '/guide/cases',\n       },\n       {\n-        text: \"开发\",\n-        link: \"/develop/\",\n+        text: '开发',\n+        link: '/develop/',\n       },\n       // NavbarGroup\n       {\n-        text: \"传送\",\n+        text: '传送',\n         items: [\n           {\n-            text: \"代码仓库\",\n-            link: \"https://github.com/ArtalkJS/Artalk\",\n+            text: '代码仓库',\n+            link: 'https://github.com/ArtalkJS/Artalk',\n           },\n           // {\n           //   text: \"文档镜像 (国内)\",\n@@ -224,30 +223,30 @@ export default defineConfig({\n     ],\n \n     socialLinks: [\n-      { icon: \"github\", link: \"https://github.com/ArtalkJS/Artalk\" },\n+      { icon: 'github', link: 'https://github.com/ArtalkJS/Artalk' },\n     ],\n \n     search: {\n-      provider: \"algolia\",\n+      provider: 'algolia',\n       options: {\n-        appId: \"2WNJ32WVTY\",\n-        apiKey: \"6c6ebc345a87b738264f19095b78c91c\",\n-        indexName: \"artalk-js\",\n+        appId: '2WNJ32WVTY',\n+        apiKey: '6c6ebc345a87b738264f19095b78c91c',\n+        indexName: 'artalk-js',\n         searchParameters: {\n-          facetFilters: [\"lang:zh-CN\"],\n+          facetFilters: ['lang:zh-CN'],\n         },\n       },\n     },\n \n     editLink: {\n-      pattern: \"https://github.com/ArtalkJS/Artalk/edit/master/docs/:path\",\n-      text: \"完善文档\",\n+      pattern: 'https://github.com/ArtalkJS/Artalk/edit/master/docs/:path',\n+      text: '完善文档',\n     },\n   },\n \n   vite: {\n     server: {\n-      open: \"/guide/intro.html\",\n+      open: '/guide/intro.html',\n     },\n   },\n-});\n+})"
    },
    {
      "sha": "a0ed84a23f701bf3fc532b40243ebff5ee9bd28d",
      "filename": "docs/docs/.vitepress/theme/Artalk.vue",
      "status": "modified",
      "additions": 35,
      "deletions": 32,
      "changes": 67,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2FArtalk.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2FArtalk.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Ftheme%2FArtalk.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,5 +1,5 @@\n <template>\n-  <div ref=\"el\" style=\"margin-top: 20px;\"></div>\n+  <div ref=\"el\" style=\"margin-top: 20px\"></div>\n </template>\n \n <script setup lang=\"ts\">\n@@ -21,56 +21,63 @@ onMounted(() => {\n   })\n })\n \n-watch(() => router.route.path, () => {\n-  nextTick(() => {\n-    artalk.update(getConfByPage())\n-    artalk.reload()\n-  })\n-})\n+watch(\n+  () => router.route.path,\n+  () => {\n+    nextTick(() => {\n+      artalk.update(getConfByPage())\n+      artalk.reload()\n+    })\n+  },\n+)\n \n onUnmounted(() => {\n   artalk.destroy()\n })\n \n function initArtalk(conf: any) {\n   artalk = Artalk.init({\n-    el:        el.value,\n+    el: el.value,\n     emoticons: '/assets/emoticons/default.json',\n-    gravatar:   {\n-      mirror: 'https://cravatar.cn/avatar/'\n+    gravatar: {\n+      mirror: 'https://cravatar.cn/avatar/',\n     },\n-    ...conf\n+    ...conf,\n   })\n \n   loadExtraFuncs()\n }\n \n function getConfByPage() {\n   return {\n-    pageKey:   'https://artalk.js.org'+router.route.path,\n-    pageTitle:  page.value.title,\n-    server:    'https://artalk.qwqaq.com',\n-    site:      'ArtalkDocs',\n+    pageKey: 'https://artalk.js.org' + router.route.path,\n+    pageTitle: page.value.title,\n+    server: 'https://artalk.qwqaq.com',\n+    site: 'ArtalkDocs',\n   }\n }\n \n function loadExtraFuncs() {\n   // 图片灯箱插件\n   artalk.on('list-loaded', () => {\n-    document.querySelectorAll('.atk-comment .atk-content').forEach(($content) => {\n-      const imgEls = $content.querySelectorAll<HTMLImageElement>('img:not([atk-emoticon]):not([atk-lightbox])');\n-      imgEls.forEach((imgEl) => {\n-        imgEl.setAttribute('atk-lightbox', '')\n-        const linkEl = document.createElement('a')\n-        linkEl.setAttribute('class', 'atk-img-link')\n-        linkEl.setAttribute('href', imgEl.src)\n-        linkEl.setAttribute('data-src', imgEl.src)\n-        linkEl.append(imgEl.cloneNode())\n-        imgEl.replaceWith(linkEl)\n+    document\n+      .querySelectorAll('.atk-comment .atk-content')\n+      .forEach(($content) => {\n+        const imgEls = $content.querySelectorAll<HTMLImageElement>(\n+          'img:not([atk-emoticon]):not([atk-lightbox])',\n+        )\n+        imgEls.forEach((imgEl) => {\n+          imgEl.setAttribute('atk-lightbox', '')\n+          const linkEl = document.createElement('a')\n+          linkEl.setAttribute('class', 'atk-img-link')\n+          linkEl.setAttribute('href', imgEl.src)\n+          linkEl.setAttribute('data-src', imgEl.src)\n+          linkEl.append(imgEl.cloneNode())\n+          imgEl.replaceWith(linkEl)\n+        })\n+        // @ts-ignore\n+        if (imgEls.length) lightGallery($content, { selector: '.atk-img-link' })\n       })\n-      // @ts-ignore\n-      if (imgEls.length) lightGallery($content, { selector: '.atk-img-link' })\n-    })\n   })\n \n   // 夜间模式\n@@ -88,7 +95,3 @@ function loadExtraFuncs() {\n   }).observe(document.querySelector('html'), { attributes: true })\n }\n </script>\n-\n-<style>\n-\n-</style>"
    },
    {
      "sha": "c20ee4b61f4b607b013cec93d8675effd52c5233",
      "filename": "docs/docs/.vitepress/theme/Artransfer.vue",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2FArtransfer.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2FArtransfer.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Ftheme%2FArtransfer.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,5 +1,9 @@\n <template>\n-  <iframe src=\"https://artransfer.netlify.app/?iframe=1\" style=\"width: 100%;height: 520px;border: 0;\" id=\"artransferIframe\"></iframe>\n+  <iframe\n+    src=\"https://artransfer.netlify.app/?iframe=1\"\n+    style=\"width: 100%; height: 520px; border: 0\"\n+    id=\"artransferIframe\"\n+  ></iframe>\n </template>\n \n <script lang=\"ts\">\n@@ -29,10 +33,6 @@ export default defineComponent({\n         setArtransferIframeDarkMode(darkMode)\n       })\n     }).observe(document.querySelector('html'), { attributes: true })\n-  }\n+  },\n })\n </script>\n-\n-<style>\n-\n-</style>"
    },
    {
      "sha": "9f6b2f53b0590627dcb6448e354456f195e3eba4",
      "filename": "docs/docs/.vitepress/theme/Layout.vue",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2FLayout.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2FLayout.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Ftheme%2FLayout.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,9 +4,6 @@ import { onMounted } from 'vue'\n import './style.scss'\n \n const { Layout } = DefaultTheme\n-\n-onMounted(() => {\n-})\n </script>\n \n <template>"
    },
    {
      "sha": "6f995b56a1dea28651aebbeb98e4b9f9516a09f7",
      "filename": "docs/docs/.vitepress/theme/index.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Ftheme%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -16,5 +16,5 @@ export default {\n     // app is the Vue 3 app instance from `createApp()`.\n     // router is VitePress' custom router. `siteData` is\n     // a `ref` of current site-level metadata.\n-  }\n+  },\n } as Theme"
    },
    {
      "sha": "bd5720d7aee0b6f1e36f7cee5bd86e016d84ab5d",
      "filename": "docs/docs/.vitepress/theme/style.scss",
      "status": "modified",
      "additions": 29,
      "deletions": 24,
      "changes": 53,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2Fstyle.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftheme%2Fstyle.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Ftheme%2Fstyle.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,7 +8,7 @@\n   --vp-c-divider: #dfe2e5;\n \n   --vp-home-hero-name-color: transparent;\n-  --vp-home-hero-name-background: linear-gradient(90deg,#0083ff, #37dfd9);\n+  --vp-home-hero-name-background: linear-gradient(90deg, #0083ff, #37dfd9);\n }\n \n .dark {\n@@ -38,62 +38,62 @@\n   background-color: #0083ff;\n \n   &:hover {\n-    border-color: #007CF0;\n+    border-color: #007cf0;\n     color: #fff;\n-    background-color: #007CF0;\n+    background-color: #007cf0;\n   }\n }\n \n /** 一起摇摆 **/\n .wave {\n   display: inline-block;\n   transform-origin: center bottom;\n-  animation:upAnimation 2.33s ease .8s 3 both;\n+  animation: upAnimation 2.33s ease 0.8s 3 both;\n }\n @keyframes upAnimation {\n   0% {\n     transform: rotate(0deg);\n-    transition-timing-function:cubic-bezier(0.215, .61, .355, 1);\n+    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n   }\n   10% {\n     transform: rotate(-12deg);\n-    transition-timing-function:cubic-bezier(0.215, .61, .355, 1);\n+    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n   }\n   20% {\n     transform: rotate(12deg);\n-    transition-timing-function:cubic-bezier(0.215, .61, .355, 1);\n+    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n   }\n   28% {\n     transform: rotate(-10deg);\n-    transition-timing-function:cubic-bezier(0.215, .61, .355, 1);\n+    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n   }\n   36% {\n     transform: rotate(10deg);\n-    transition-timing-function:cubic-bezier(0.755, .5, .855, .06);\n+    transition-timing-function: cubic-bezier(0.755, 0.5, 0.855, 0.06);\n   }\n   42% {\n     transform: rotate(-8deg);\n-    transition-timing-function:cubic-bezier(0.755, .5, .855, .06);\n+    transition-timing-function: cubic-bezier(0.755, 0.5, 0.855, 0.06);\n   }\n   48% {\n     transform: rotate(8deg);\n-    transition-timing-function:cubic-bezier(0.755, .5, .855, .06);\n+    transition-timing-function: cubic-bezier(0.755, 0.5, 0.855, 0.06);\n   }\n   52% {\n     transform: rotate(-4deg);\n-    transition-timing-function:cubic-bezier(0.755, .5, .855, .06);\n+    transition-timing-function: cubic-bezier(0.755, 0.5, 0.855, 0.06);\n   }\n   56% {\n     transform: rotate(4deg);\n-    transition-timing-function:cubic-bezier(0.755, .5, .855, .06);\n+    transition-timing-function: cubic-bezier(0.755, 0.5, 0.855, 0.06);\n   }\n   60% {\n     transform: rotate(0deg);\n-    transition-timing-function:cubic-bezier(0.755, .5, .855, .06);\n+    transition-timing-function: cubic-bezier(0.755, 0.5, 0.855, 0.06);\n   }\n   100% {\n     transform: rotate(0deg);\n-    transition-timing-function:cubic-bezier(0.215, .61, .355, 1);\n+    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n   }\n }\n \n@@ -107,33 +107,38 @@ img[atk-emoticon] {\n }\n \n /* 由于 body 未添加一致的 transition，导致其他地方暗黑模式切换加 transition 比较怪 */\n-.vp-doc div[class*='language-'] { transition: none; }\n-.vp-doc :not(pre) > code { transition: none; }\n+.vp-doc div[class*='language-'] {\n+  transition: none;\n+}\n+.vp-doc :not(pre) > code {\n+  transition: none;\n+}\n \n .vp-doc {\n   table {\n     border-collapse: collapse;\n     margin: 1rem 0;\n     display: block;\n-    overflow-x: auto\n+    overflow-x: auto;\n   }\n \n-  td,th {\n-    padding: .6em 1em;\n+  td,\n+  th {\n+    padding: 0.6em 1em;\n   }\n }\n \n /* 侧边栏 */\n .VPSidebar::-webkit-scrollbar {\n-  width: 7px\n+  width: 7px;\n }\n \n .VPSidebar::-webkit-scrollbar-track {\n-  background-color: transparent\n+  background-color: transparent;\n }\n \n .VPSidebar::-webkit-scrollbar-thumb {\n-  background-color: var(--vp-c-divider)\n+  background-color: var(--vp-c-divider);\n }\n \n // details block patch\n@@ -146,5 +151,5 @@ img[atk-emoticon] {\n }\n \n .vp-code-group .tabs::after {\n-  background-color: var(--vp-c-divider)\n+  background-color: var(--vp-c-divider);\n }"
    },
    {
      "sha": "32a1b5cd40fcd27b6f36fa40eb051448d030efd6",
      "filename": "docs/docs/.vitepress/types/shims-vue.d.ts",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftypes%2Fshims-vue.d.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2F.vitepress%2Ftypes%2Fshims-vue.d.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Ftypes%2Fshims-vue.d.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,5 +1,5 @@\n declare module '*.vue' {\n-  import { defineComponent } from 'vue';\n-  const component: ReturnType<typeof defineComponent>;\n-  export default component;\n+  import { defineComponent } from 'vue'\n+  const component: ReturnType<typeof defineComponent>\n+  export default component\n }"
    },
    {
      "sha": "8cb072fc73f89d08320aa8bd19ddedcf7d375df8",
      "filename": "docs/docs/develop/api-old.md",
      "status": "modified",
      "additions": 273,
      "deletions": 273,
      "changes": 546,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Fapi-old.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Fapi-old.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fdevelop%2Fapi-old.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,11 +6,11 @@\n \n ::: tip 无特殊说明时 API 调用响应格式\n \n-| 字段名 | 类型 | 说明 |\n-| ----- | ------- | --- |\n-| `success` | Boolean | 接口调用结果 |\n-| `msg` | String | 返回消息，出错时此字段包含错误消息 |\n-| `data` | Any | 返回数据，可能为 Object / String / Array 类型 |\n+| 字段名    | 类型    | 说明                                          |\n+| --------- | ------- | --------------------------------------------- |\n+| `success` | Boolean | 接口调用结果                                  |\n+| `msg`     | String  | 返回消息，出错时此字段包含错误消息            |\n+| `data`    | Any     | 返回数据，可能为 Object / String / Array 类型 |\n \n :::\n \n@@ -22,94 +22,94 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `name` | String | 是 | 待新增评论者昵称 |\n-| `email` | String | 是 | 待新增评论者邮箱 |\n-| `link` | String | 否 | 待新增评论者链接 |\n-| `content` | String | 是 | 待新增评论内容 |\n-| `rid` | Number | 否 | 待新增评论为回复评论时传入父评论 `ID`，否则为 `0` |\n-| `page_key` | String | 是 | 待新增评论目标页面唯一标识符 |\n-| `page_title` | String | 否 | 待新增评论目标页面标题 |\n-| `token` | String | 否 | 评论请求 Token |\n-| `site_name` | String | 否 | 待新增评论目标站点名称 |\n+| 字段名       | 数据类型 | 必需 | 说明                                              |\n+| ------------ | -------- | :--: | ------------------------------------------------- |\n+| `name`       | String   |  是  | 待新增评论者昵称                                  |\n+| `email`      | String   |  是  | 待新增评论者邮箱                                  |\n+| `link`       | String   |  否  | 待新增评论者链接                                  |\n+| `content`    | String   |  是  | 待新增评论内容                                    |\n+| `rid`        | Number   |  否  | 待新增评论为回复评论时传入父评论 `ID`，否则为 `0` |\n+| `page_key`   | String   |  是  | 待新增评论目标页面唯一标识符                      |\n+| `page_title` | String   |  否  | 待新增评论目标页面标题                            |\n+| `token`      | String   |  否  | 评论请求 Token                                    |\n+| `site_name`  | String   |  否  | 待新增评论目标站点名称                            |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 评论新增成功 |\n-| `data.comment` | Object | - | 评论数据 |\n-| `data.comment.id` | Number | - | 评论 ID |\n-| `data.comment.content` | String | - | 评论正文 |\n-| `data.comment.nick` | String | - | 评论者昵称 |\n-| `data.comment.email_encrypted` | String | - | 评论者邮箱 MD5 加密值 |\n-| `data.comment.link` | String | - | 评论者链接 |\n-| `data.comment.ua` | String | - | 评论者 User-Agent |\n-| `data.comment.date` | String | - | 评论时间，格式为 `1970-01-01 00:00:00` |\n-| `data.comment.is_collapsed` | Boolean | - | 评论是否折叠 |\n-| `data.comment.is_pending` | Boolean | - | 评论是否待审 |\n-| `data.comment.is_allow_reply` | Boolean | - | 评论是否允许回复 |\n-| `data.comment.rid` | Number | `0` | 待新增评论为回复评论时返回父评论 `ID` |\n-| `data.comment.badge_name` | String | - | 评论者徽章文字 |\n-| `data.comment.badge_color` | String | - | 评论者徽章颜色 |\n-| `data.comment.visible` | Boolean | `true` | 评论是否可见 |\n-| `data.comment.vote_up` | Number | `0` | 评论赞同数 |\n-| `data.comment.vote_down` | Number | `0` | 评论反对数 |\n-| `data.comment.page_key` | String | - | 评论所在页面唯一标识符 |\n-| `data.comment.site_name` | String | - | 评论所在站点名称 |\n+| 字段名                         | 数据类型 |  默认  | 说明                                   |\n+| ------------------------------ | -------- | :----: | -------------------------------------- |\n+| `success`                      | Boolean  | `true` | 评论新增成功                           |\n+| `data.comment`                 | Object   |   -    | 评论数据                               |\n+| `data.comment.id`              | Number   |   -    | 评论 ID                                |\n+| `data.comment.content`         | String   |   -    | 评论正文                               |\n+| `data.comment.nick`            | String   |   -    | 评论者昵称                             |\n+| `data.comment.email_encrypted` | String   |   -    | 评论者邮箱 MD5 加密值                  |\n+| `data.comment.link`            | String   |   -    | 评论者链接                             |\n+| `data.comment.ua`              | String   |   -    | 评论者 User-Agent                      |\n+| `data.comment.date`            | String   |   -    | 评论时间，格式为 `1970-01-01 00:00:00` |\n+| `data.comment.is_collapsed`    | Boolean  |   -    | 评论是否折叠                           |\n+| `data.comment.is_pending`      | Boolean  |   -    | 评论是否待审                           |\n+| `data.comment.is_allow_reply`  | Boolean  |   -    | 评论是否允许回复                       |\n+| `data.comment.rid`             | Number   |  `0`   | 待新增评论为回复评论时返回父评论 `ID`  |\n+| `data.comment.badge_name`      | String   |   -    | 评论者徽章文字                         |\n+| `data.comment.badge_color`     | String   |   -    | 评论者徽章颜色                         |\n+| `data.comment.visible`         | Boolean  | `true` | 评论是否可见                           |\n+| `data.comment.vote_up`         | Number   |  `0`   | 评论赞同数                             |\n+| `data.comment.vote_down`       | Number   |  `0`   | 评论反对数                             |\n+| `data.comment.page_key`        | String   |   -    | 评论所在页面唯一标识符                 |\n+| `data.comment.site_name`       | String   |   -    | 评论所在站点名称                       |\n \n ### 评论获取\n \n **POST** `/api/get`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `page_key` | String | 是 | 待获取评论页面的唯一标识符 |\n-| `limit` | Number | 否 | 待获取评论的数量限制 |\n-| `offset` | Number | 否 | 待获取评论的起始位置偏移 |\n-| `type` | String | 否 | 获取指定类型的评论 |\n-| `name` | String | 否 | 获取指定昵称的评论 |\n-| `email` | String | 否 | 获取指定邮箱的评论 |\n-| `site_name` | String | 否 | 获取指定站点名称的评论 |\n-| `flat_mode` | Boolean | 否 | 待获取评论是否平铺模式 |\n+| 字段名      | 数据类型 | 必需 | 说明                       |\n+| ----------- | -------- | :--: | -------------------------- |\n+| `page_key`  | String   |  是  | 待获取评论页面的唯一标识符 |\n+| `limit`     | Number   |  否  | 待获取评论的数量限制       |\n+| `offset`    | Number   |  否  | 待获取评论的起始位置偏移   |\n+| `type`      | String   |  否  | 获取指定类型的评论         |\n+| `name`      | String   |  否  | 获取指定昵称的评论         |\n+| `email`     | String   |  否  | 获取指定邮箱的评论         |\n+| `site_name` | String   |  否  | 获取指定站点名称的评论     |\n+| `flat_mode` | Boolean  |  否  | 待获取评论是否平铺模式     |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 评论获取成功 |\n-| `data.comments` | Array | - | 页面评论数据 |\n-| `data.total` | Number | - | 页面评论总数（包括所有子评论） |\n-| `data.total_parents` | Number | - | 页面评论中父级评论总数 |\n-| `data.page` | Object | - | 页面数据 |\n-| `data.page.id` | Number | - | 页面 ID |\n-| `data.page.admin_only` | Boolean | - | 页面是否仅管理员可评论 |\n-| `data.page.key` | String | - | 页面唯一标识符 |\n-| `data.page.url` | String | - | 页面链接 |\n-| `data.page.title` | String | - | 页面标题 |\n-| `data.page.site_name` | String | - | 页面所在站点名称 |\n-| `data.page.vote_up` | Number | - | 页面赞同数 |\n-| `data.page.vote_down` | Number | - | 页面反对数 |\n-| `data.unread` | Array | - | 未读的评论提醒数据 |\n-| `data.unread_count` | Number | - | 未读的评论提醒数据总数 |\n-| `data.api_version` | Object | - | 目标 Artalk 后端版本数据 |\n+| 字段名                 | 数据类型 |  默认  | 说明                           |\n+| ---------------------- | -------- | :----: | ------------------------------ |\n+| `success`              | Boolean  | `true` | 评论获取成功                   |\n+| `data.comments`        | Array    |   -    | 页面评论数据                   |\n+| `data.total`           | Number   |   -    | 页面评论总数（包括所有子评论） |\n+| `data.total_parents`   | Number   |   -    | 页面评论中父级评论总数         |\n+| `data.page`            | Object   |   -    | 页面数据                       |\n+| `data.page.id`         | Number   |   -    | 页面 ID                        |\n+| `data.page.admin_only` | Boolean  |   -    | 页面是否仅管理员可评论         |\n+| `data.page.key`        | String   |   -    | 页面唯一标识符                 |\n+| `data.page.url`        | String   |   -    | 页面链接                       |\n+| `data.page.title`      | String   |   -    | 页面标题                       |\n+| `data.page.site_name`  | String   |   -    | 页面所在站点名称               |\n+| `data.page.vote_up`    | Number   |   -    | 页面赞同数                     |\n+| `data.page.vote_down`  | Number   |   -    | 页面反对数                     |\n+| `data.unread`          | Array    |   -    | 未读的评论提醒数据             |\n+| `data.unread_count`    | Number   |   -    | 未读的评论提醒数据总数         |\n+| `data.api_version`     | Object   |   -    | 目标 Artalk 后端版本数据       |\n \n ::: tip\n \n- - `data.comments` 数组中元素结构参考 [评论新增接口](#评论新增) `/api/add` 响应的 `data.comment`\n- - `data.unread` 数组中元素结构如下\n-    | 字段名 | 数据类型 | 默认 | 说明 |\n-    | ----- | ------- | :-: | --- |\n-    | `id` | Number | - | 评论提醒 ID |\n-    | `user_id` | Number | - | 评论提醒目标用户 ID |\n-    | `comment_id` | Number | - | 评论提醒来源评论 ID |\n-    | `is_read` | Boolean | - | 评论提醒是否已读 |\n-    | `is_emailed` | Boolean | - | 评论提醒是否已发送邮件 |\n-    | `read_link` | String | - | 评论提醒已读地址 |\n- - `data.api_version` 对象结构参考 [Artalk 版本接口](#artalk-版本) `/api/version` 响应\n+- `data.comments` 数组中元素结构参考 [评论新增接口](#评论新增) `/api/add` 响应的 `data.comment`\n+- `data.unread` 数组中元素结构如下\n+  | 字段名 | 数据类型 | 默认 | 说明 |\n+  | ----- | ------- | :-: | --- |\n+  | `id` | Number | - | 评论提醒 ID |\n+  | `user_id` | Number | - | 评论提醒目标用户 ID |\n+  | `comment_id` | Number | - | 评论提醒来源评论 ID |\n+  | `is_read` | Boolean | - | 评论提醒是否已读 |\n+  | `is_emailed` | Boolean | - | 评论提醒是否已发送邮件 |\n+  | `read_link` | String | - | 评论提醒已读地址 |\n+- `data.api_version` 对象结构参考 [Artalk 版本接口](#artalk-版本) `/api/version` 响应\n \n :::\n \n@@ -119,31 +119,31 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `name` | String | 否 | 待获取用户的昵称 |\n-| `email` | String | 否 | 待获取用户的邮箱 |\n+| 字段名  | 数据类型 | 必需 | 说明             |\n+| ------- | -------- | :--: | ---------------- |\n+| `name`  | String   |  否  | 待获取用户的昵称 |\n+| `email` | String   |  否  | 待获取用户的邮箱 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 用户获取成功 |\n-| `data.user` | Object | `null` | 获取的用户数据，若用户不存在返回空 |\n-| `data.user.id` | Number | - | 用户 ID |\n-| `data.user.name` | String | - | 用户昵称 |\n-| `data.user.email` | String | - | 用户邮箱 |\n-| `data.user.link` | String | - | 用户链接 |\n-| `data.user.badge_name` | String | - | 用户徽章文字 |\n-| `data.user.badge_color` | String | - | 用户徽章颜色 |\n-| `data.user.is_admin` | Boolean | - | 用户是否管理员 |\n-| `data.is_login` | Boolean | - | 用户是否登录 |\n-| `data.unread` | Array | `[]` | 用户未读的评论提醒数据 |\n-| `data.unread_count` | Number | `0` | 用户未读的评论提醒数据总数 |\n+| 字段名                  | 数据类型 |  默认  | 说明                               |\n+| ----------------------- | -------- | :----: | ---------------------------------- |\n+| `success`               | Boolean  | `true` | 用户获取成功                       |\n+| `data.user`             | Object   | `null` | 获取的用户数据，若用户不存在返回空 |\n+| `data.user.id`          | Number   |   -    | 用户 ID                            |\n+| `data.user.name`        | String   |   -    | 用户昵称                           |\n+| `data.user.email`       | String   |   -    | 用户邮箱                           |\n+| `data.user.link`        | String   |   -    | 用户链接                           |\n+| `data.user.badge_name`  | String   |   -    | 用户徽章文字                       |\n+| `data.user.badge_color` | String   |   -    | 用户徽章颜色                       |\n+| `data.user.is_admin`    | Boolean  |   -    | 用户是否管理员                     |\n+| `data.is_login`         | Boolean  |   -    | 用户是否登录                       |\n+| `data.unread`           | Array    |  `[]`  | 用户未读的评论提醒数据             |\n+| `data.unread_count`     | Number   |  `0`   | 用户未读的评论提醒数据总数         |\n \n ::: tip\n \n- - `data.unread` 数组中元素结构参考 [评论获取接口](#评论获取) `/api/get` **TIP**\n+- `data.unread` 数组中元素结构参考 [评论获取接口](#评论获取) `/api/get` **TIP**\n \n :::\n \n@@ -153,59 +153,59 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `name` | String | 是 | 待登录用户的昵称 |\n-| `email` | String | 是 | 待登录用户的邮箱 |\n-| `password` | String | 是 | 待登录用户的密码（管理员身份验证） |\n+| 字段名     | 数据类型 | 必需 | 说明                               |\n+| ---------- | -------- | :--: | ---------------------------------- |\n+| `name`     | String   |  是  | 待登录用户的昵称                   |\n+| `email`    | String   |  是  | 待登录用户的邮箱                   |\n+| `password` | String   |  是  | 待登录用户的密码（管理员身份验证） |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 用户登录成功 |\n-| `data.token` | String | - | 登录的用户 Token |\n+| 字段名       | 数据类型 |  默认  | 说明             |\n+| ------------ | -------- | :----: | ---------------- |\n+| `success`    | Boolean  | `true` | 用户登录成功     |\n+| `data.token` | String   |   -    | 登录的用户 Token |\n \n ### 提醒已读\n \n **POST** `/api/mark-read`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `notify_key` | String | 否 | 评论提醒唯一标识符 |\n-| `name` | String | 否 | 评论提醒用户的昵称 |\n-| `email` | String | 否 | 评论提醒用户的邮箱 |\n-| `all_read` | Boolean | 否 | 评论提醒是否已读 |\n-| `site_name` | String | 否 | 评论提醒所在站点名称 |\n+| 字段名       | 数据类型 | 必需 | 说明                 |\n+| ------------ | -------- | :--: | -------------------- |\n+| `notify_key` | String   |  否  | 评论提醒唯一标识符   |\n+| `name`       | String   |  否  | 评论提醒用户的昵称   |\n+| `email`      | String   |  否  | 评论提醒用户的邮箱   |\n+| `all_read`   | Boolean  |  否  | 评论提醒是否已读     |\n+| `site_name`  | String   |  否  | 评论提醒所在站点名称 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 提醒已读成功 |\n+| 字段名    | 数据类型 |  默认  | 说明         |\n+| --------- | -------- | :----: | ------------ |\n+| `success` | Boolean  | `true` | 提醒已读成功 |\n \n ### 评论投票\n \n **POST** `/api/vote`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `target_id` | Number | 是 | 待投票评论 ID |\n-| `type` | String | 否 | 待投票类型，前缀 `comment_`、`page_` 依次代表对评论投票、对页面投票，后缀 `_up`、`_down` 依次代表赞同、反对 |\n-| `name` | String | 否 | 投票用户昵称 |\n-| `email` | String | 否 | 投票用户邮箱 |\n-| `site_name` | String | 否 | 投票目标评论或页面所在站点名称 |\n+| 字段名      | 数据类型 | 必需 | 说明                                                                                                        |\n+| ----------- | -------- | :--: | ----------------------------------------------------------------------------------------------------------- |\n+| `target_id` | Number   |  是  | 待投票评论 ID                                                                                               |\n+| `type`      | String   |  否  | 待投票类型，前缀 `comment_`、`page_` 依次代表对评论投票、对页面投票，后缀 `_up`、`_down` 依次代表赞同、反对 |\n+| `name`      | String   |  否  | 投票用户昵称                                                                                                |\n+| `email`     | String   |  否  | 投票用户邮箱                                                                                                |\n+| `site_name` | String   |  否  | 投票目标评论或页面所在站点名称                                                                              |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 评论投票成功 |\n-| `data.vote_num` | Number | - | 目标评论或页面指定类型投票数据 |\n+| 字段名          | 数据类型 |  默认  | 说明                           |\n+| --------------- | -------- | :----: | ------------------------------ |\n+| `success`       | Boolean  | `true` | 评论投票成功                   |\n+| `data.vote_num` | Number   |   -    | 目标评论或页面指定类型投票数据 |\n \n ### Artalk 版本\n \n@@ -221,12 +221,12 @@\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `app` | String | `artalk` | Artalk 后端程序名 |\n-| `version` | String | - | Artalk 后端程序版本号 |\n-| `commit_hash` | String | - | Artalk 后端程序 Git 提交哈希值 |\n-| `fe_min_version` | String | - | Artalk 后端程序所需前端最低版本 |\n+| 字段名           | 数据类型 |   默认   | 说明                            |\n+| ---------------- | -------- | :------: | ------------------------------- |\n+| `app`            | String   | `artalk` | Artalk 后端程序名               |\n+| `version`        | String   |    -     | Artalk 后端程序版本号           |\n+| `commit_hash`    | String   |    -     | Artalk 后端程序 Git 提交哈希值  |\n+| `fe_min_version` | String   |    -     | Artalk 后端程序所需前端最低版本 |\n \n ## Captcha API\n \n@@ -238,27 +238,27 @@\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 验证码刷新成功 |\n-| `data.img_data` | String | - | 根据 IP 获取的验证码图片 Base64 编码 |\n+| 字段名          | 数据类型 |  默认  | 说明                                 |\n+| --------------- | -------- | :----: | ------------------------------------ |\n+| `success`       | Boolean  | `true` | 验证码刷新成功                       |\n+| `data.img_data` | String   |   -    | 根据 IP 获取的验证码图片 Base64 编码 |\n \n ### 验证码检验\n \n **GET** `/api/captcha/check`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `value` | String | 是 | 验证码 |\n+| 字段名  | 数据类型 | 必需 | 说明   |\n+| ------- | -------- | :--: | ------ |\n+| `value` | String   |  是  | 验证码 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 验证码检验成功 |\n-| `data.img_data` | String | - | 新的验证码图片 Base64 编码，仅验证码检验出错时存在此字段 |\n+| 字段名          | 数据类型 |  默认  | 说明                                                     |\n+| --------------- | -------- | :----: | -------------------------------------------------------- |\n+| `success`       | Boolean  | `true` | 验证码检验成功                                           |\n+| `data.img_data` | String   |   -    | 新的验证码图片 Base64 编码，仅验证码检验出错时存在此字段 |\n \n ## Admin API\n \n@@ -268,31 +268,31 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 待编辑评论 ID，**不可修改** |\n-| `site_name` | String | 否 | 待编辑评论所在站点名称，**不可修改** |\n-| `content` | String | 否 | 待编辑评论正文 |\n-| `page_key` | String | 否 | 待编辑评论所在页面唯一标识符 |\n-| `nick` | String | 否 | 待编辑评论所属用户昵称 |\n-| `email` | String | 否 | 待编辑评论所属用户邮箱 |\n-| `link` | String | 否 | 待编辑评论所属用户链接 |\n-| `rid` | String | 否 | 待编辑评论为回复评论时传入父评论 `ID`，否则为 `0` |\n-| `ua` | String | 否 | 待编辑评论所属用户 User-Agent |\n-| `ip` | String | 否 | 待编辑评论所属用户 IP |\n-| `is_collapsed` | Boolean | 否 | 待编辑评论是否折叠 |\n-| `is_pending` | Boolean | 否 | 待编辑评论是否待审 |\n+| 字段名         | 数据类型 | 必需 | 说明                                              |\n+| -------------- | -------- | :--: | ------------------------------------------------- |\n+| `id`           | Number   |  是  | 待编辑评论 ID，**不可修改**                       |\n+| `site_name`    | String   |  否  | 待编辑评论所在站点名称，**不可修改**              |\n+| `content`      | String   |  否  | 待编辑评论正文                                    |\n+| `page_key`     | String   |  否  | 待编辑评论所在页面唯一标识符                      |\n+| `nick`         | String   |  否  | 待编辑评论所属用户昵称                            |\n+| `email`        | String   |  否  | 待编辑评论所属用户邮箱                            |\n+| `link`         | String   |  否  | 待编辑评论所属用户链接                            |\n+| `rid`          | String   |  否  | 待编辑评论为回复评论时传入父评论 `ID`，否则为 `0` |\n+| `ua`           | String   |  否  | 待编辑评论所属用户 User-Agent                     |\n+| `ip`           | String   |  否  | 待编辑评论所属用户 IP                             |\n+| `is_collapsed` | Boolean  |  否  | 待编辑评论是否折叠                                |\n+| `is_pending`   | Boolean  |  否  | 待编辑评论是否待审                                |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 评论编辑成功 |\n-| `data.comment` | Object | - | 编辑评论的新数据 |\n+| 字段名         | 数据类型 |  默认  | 说明             |\n+| -------------- | -------- | :----: | ---------------- |\n+| `success`      | Boolean  | `true` | 评论编辑成功     |\n+| `data.comment` | Object   |   -    | 编辑评论的新数据 |\n \n ::: tip\n \n- - `data.comment` 对象结构参考 [评论新增接口](#评论新增) `/api/add` 响应的 `data.comment`\n+- `data.comment` 对象结构参考 [评论新增接口](#评论新增) `/api/add` 响应的 `data.comment`\n \n :::\n \n@@ -310,39 +310,39 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 待删除评论 ID |\n-| `site_name` | String | 是 | 待删除评论所在站点名称 |\n+| 字段名      | 数据类型 | 必需 | 说明                   |\n+| ----------- | -------- | :--: | ---------------------- |\n+| `id`        | Number   |  是  | 待删除评论 ID          |\n+| `site_name` | String   |  是  | 待删除评论所在站点名称 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 评论删除成功 |\n+| 字段名    | 数据类型 |  默认  | 说明         |\n+| --------- | -------- | :----: | ------------ |\n+| `success` | Boolean  | `true` | 评论删除成功 |\n \n ### 页面获取\n \n **POST** `/api/admin/page-get`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `site_name` | String | 是 | 待获取页面目标站点名称 |\n+| 字段名      | 数据类型 | 必需 | 说明                   |\n+| ----------- | -------- | :--: | ---------------------- |\n+| `site_name` | String   |  是  | 待获取页面目标站点名称 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 页面获取成功 |\n-| `data.pages` | Array | - | 目标站点的页面数据 |\n-| `data.sites` | Array | - | 所有站点数据 |\n+| 字段名       | 数据类型 |  默认  | 说明               |\n+| ------------ | -------- | :----: | ------------------ |\n+| `success`    | Boolean  | `true` | 页面获取成功       |\n+| `data.pages` | Array    |   -    | 目标站点的页面数据 |\n+| `data.sites` | Array    |   -    | 所有站点数据       |\n \n ::: tip\n \n- - `data.pages` 数组中元素结构参考 [评论获取接口](#评论获取) `/api/get` 响应的 `data.page`\n- - `data.sites` 数组中元素结构参考 [站点编辑接口](#站点编辑) `/api/admin/site-edit` 响应的 `data.site`\n+- `data.pages` 数组中元素结构参考 [评论获取接口](#评论获取) `/api/get` 响应的 `data.page`\n+- `data.sites` 数组中元素结构参考 [站点编辑接口](#站点编辑) `/api/admin/site-edit` 响应的 `data.site`\n \n :::\n \n@@ -352,24 +352,24 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 待编辑页面 ID，**不可修改** |\n-| `site_name` | String | 否 | 待编辑页面所在站点名称，**不可修改** |\n-| `key` | String | 否 | 待编辑页面唯一标识符 |\n-| `title` | String | 否 | 待编辑页面标题 |\n-| `admin_only` | Boolean | 否 | 待编辑页面是否仅管理员可评论 |\n+| 字段名       | 数据类型 | 必需 | 说明                                 |\n+| ------------ | -------- | :--: | ------------------------------------ |\n+| `id`         | Number   |  是  | 待编辑页面 ID，**不可修改**          |\n+| `site_name`  | String   |  否  | 待编辑页面所在站点名称，**不可修改** |\n+| `key`        | String   |  否  | 待编辑页面唯一标识符                 |\n+| `title`      | String   |  否  | 待编辑页面标题                       |\n+| `admin_only` | Boolean  |  否  | 待编辑页面是否仅管理员可评论         |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 页面编辑成功 |\n-| `data.page` | Object | - | 编辑页面的新数据 |\n+| 字段名      | 数据类型 |  默认  | 说明             |\n+| ----------- | -------- | :----: | ---------------- |\n+| `success`   | Boolean  | `true` | 页面编辑成功     |\n+| `data.page` | Object   |   -    | 编辑页面的新数据 |\n \n ::: tip\n \n- - `data.page` 对象结构参考 [评论获取接口](#评论获取) `/api/get` 响应的 `data.page`\n+- `data.page` 对象结构参考 [评论获取接口](#评论获取) `/api/get` 响应的 `data.page`\n \n :::\n \n@@ -387,37 +387,37 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `key` | String | 是 | 待删除页面唯一标识符 |\n-| `site_name` | String | 是 | 待删除页面所在站点名称 |\n+| 字段名      | 数据类型 | 必需 | 说明                   |\n+| ----------- | -------- | :--: | ---------------------- |\n+| `key`       | String   |  是  | 待删除页面唯一标识符   |\n+| `site_name` | String   |  是  | 待删除页面所在站点名称 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 页面删除成功 |\n+| 字段名    | 数据类型 |  默认  | 说明         |\n+| --------- | -------- | :----: | ------------ |\n+| `success` | Boolean  | `true` | 页面删除成功 |\n \n ### 页面更新\n \n **POST** `/api/admin/page-fetch`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 待更新页面 ID |\n+| 字段名 | 数据类型 | 必需 | 说明          |\n+| ------ | -------- | :--: | ------------- |\n+| `id`   | Number   |  是  | 待更新页面 ID |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 页面更新成功 |\n-| `data.page` | Object | - | 更新页面的新数据 |\n+| 字段名      | 数据类型 |  默认  | 说明             |\n+| ----------- | -------- | :----: | ---------------- |\n+| `success`   | Boolean  | `true` | 页面更新成功     |\n+| `data.page` | Object   |   -    | 更新页面的新数据 |\n \n ::: tip\n \n- - `data.page` 对象结构参考 [评论获取接口](#评论获取) `/api/get` 响应的 `data.page`\n+- `data.page` 对象结构参考 [评论获取接口](#评论获取) `/api/get` 响应的 `data.page`\n \n :::\n \n@@ -429,14 +429,14 @@\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 站点获取成功 |\n-| `data.sites` | Array | - | 所有站点数据 |\n+| 字段名       | 数据类型 |  默认  | 说明         |\n+| ------------ | -------- | :----: | ------------ |\n+| `success`    | Boolean  | `true` | 站点获取成功 |\n+| `data.sites` | Array    |   -    | 所有站点数据 |\n \n ::: tip\n \n- - `data.sites` 数组中元素结构参考 [站点编辑接口](#站点编辑) `/api/admin/site-edit` 响应的 `data.site`\n+- `data.sites` 数组中元素结构参考 [站点编辑接口](#站点编辑) `/api/admin/site-edit` 响应的 `data.site`\n \n :::\n \n@@ -446,46 +446,46 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `name` | String | 是 | 待新增站点名称 |\n-| `urls` | String | 是 | 待新增站点链接，如有多个需以英文半角符号 `,` 分割 |\n+| 字段名 | 数据类型 | 必需 | 说明                                              |\n+| ------ | -------- | :--: | ------------------------------------------------- |\n+| `name` | String   |  是  | 待新增站点名称                                    |\n+| `urls` | String   |  是  | 待新增站点链接，如有多个需以英文半角符号 `,` 分割 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 站点新增成功 |\n-| `data.site` | Object | - | 新增站点的数据 |\n-| `data.site.id` | Number | - | 站点 ID |\n-| `data.site.name` | String | - | 站点名称 |\n-| `data.site.urls` | Array | - | 站点链接数组，元素为单个站点链接字符串 |\n-| `data.site.urls_raw` | String | - | 站点链接数组合并字符串，以英文半角符号 `,` 分割 |\n-| `data.site.first_url` | String | - | 站点第一链接 |\n+| 字段名                | 数据类型 |  默认  | 说明                                            |\n+| --------------------- | -------- | :----: | ----------------------------------------------- |\n+| `success`             | Boolean  | `true` | 站点新增成功                                    |\n+| `data.site`           | Object   |   -    | 新增站点的数据                                  |\n+| `data.site.id`        | Number   |   -    | 站点 ID                                         |\n+| `data.site.name`      | String   |   -    | 站点名称                                        |\n+| `data.site.urls`      | Array    |   -    | 站点链接数组，元素为单个站点链接字符串          |\n+| `data.site.urls_raw`  | String   |   -    | 站点链接数组合并字符串，以英文半角符号 `,` 分割 |\n+| `data.site.first_url` | String   |   -    | 站点第一链接                                    |\n \n ### 站点编辑\n \n **POST** `/api/admin/site-edit`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 待编辑站点 ID |\n-| `name` | String | 是 | 待编辑站点新名称 |\n-| `urls` | String | 是 | 待编辑站点新链接 |\n+| 字段名 | 数据类型 | 必需 | 说明             |\n+| ------ | -------- | :--: | ---------------- |\n+| `id`   | Number   |  是  | 待编辑站点 ID    |\n+| `name` | String   |  是  | 待编辑站点新名称 |\n+| `urls` | String   |  是  | 待编辑站点新链接 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 站点编辑成功 |\n-| `data.site` | Object | - | 编辑站点的新数据 |\n-| `data.site.id` | Number | - | 站点 ID |\n-| `data.site.name` | String | - | 站点名称 |\n-| `data.site.urls` | Array | - | 站点链接数组，元素为单个站点链接字符串 |\n-| `data.site.urls_raw` | String | - | 站点链接数组合并字符串，以英文半角符号 `,` 分割 |\n-| `data.site.first_url` | String | - | 站点第一链接 |\n+| 字段名                | 数据类型 |  默认  | 说明                                            |\n+| --------------------- | -------- | :----: | ----------------------------------------------- |\n+| `success`             | Boolean  | `true` | 站点编辑成功                                    |\n+| `data.site`           | Object   |   -    | 编辑站点的新数据                                |\n+| `data.site.id`        | Number   |   -    | 站点 ID                                         |\n+| `data.site.name`      | String   |   -    | 站点名称                                        |\n+| `data.site.urls`      | Array    |   -    | 站点链接数组，元素为单个站点链接字符串          |\n+| `data.site.urls_raw`  | String   |   -    | 站点链接数组合并字符串，以英文半角符号 `,` 分割 |\n+| `data.site.first_url` | String   |   -    | 站点第一链接                                    |\n \n ### 站点删除\n \n@@ -501,52 +501,52 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 待删除站点 ID |\n-| `del_content` | Boolean | 否 | 是否删除站点所有数据，为 `false` 时仅删除站点配置而保留站点评论数据 |\n+| 字段名        | 数据类型 | 必需 | 说明                                                                |\n+| ------------- | -------- | :--: | ------------------------------------------------------------------- |\n+| `id`          | Number   |  是  | 待删除站点 ID                                                       |\n+| `del_content` | Boolean  |  否  | 是否删除站点所有数据，为 `false` 时仅删除站点配置而保留站点评论数据 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 站点删除成功 |\n+| 字段名    | 数据类型 |  默认  | 说明         |\n+| --------- | -------- | :----: | ------------ |\n+| `success` | Boolean  | `true` | 站点删除成功 |\n \n ### 设置获取\n \n **POST** `/api/admin/setting-get`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 管理员用户 ID |\n-| `name` | String | 否 | 管理员用户昵称 |\n-| `url` | String | 否 | 管理员用户链接 |\n+| 字段名 | 数据类型 | 必需 | 说明           |\n+| ------ | -------- | :--: | -------------- |\n+| `id`   | Number   |  是  | 管理员用户 ID  |\n+| `name` | String   |  否  | 管理员用户昵称 |\n+| `url`  | String   |  否  | 管理员用户链接 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 设置获取成功 |\n+| 字段名    | 数据类型 |  默认  | 说明         |\n+| --------- | -------- | :----: | ------------ |\n+| `success` | Boolean  | `true` | 设置获取成功 |\n \n ### 设置保存\n \n **POST** `/api/admin/setting-save`\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `id` | Number | 是 | 管理员用户 ID |\n-| `name` | String | 否 | 管理员用户昵称 |\n-| `url` | String | 否 | 管理员用户链接 |\n+| 字段名 | 数据类型 | 必需 | 说明           |\n+| ------ | -------- | :--: | -------------- |\n+| `id`   | Number   |  是  | 管理员用户 ID  |\n+| `name` | String   |  否  | 管理员用户昵称 |\n+| `url`  | String   |  否  | 管理员用户链接 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 设置保存成功 |\n+| 字段名    | 数据类型 |  默认  | 说明         |\n+| --------- | -------- | :----: | ------------ |\n+| `success` | Boolean  | `true` | 设置保存成功 |\n \n ### 邮件发送\n \n@@ -560,17 +560,17 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `subject` | String | 是 | 邮件主题 |\n-| `body` | String | 是 | 邮件正文 |\n-| `to_addr` | String | 是 | 邮件收件人 |\n+| 字段名    | 数据类型 | 必需 | 说明       |\n+| --------- | -------- | :--: | ---------- |\n+| `subject` | String   |  是  | 邮件主题   |\n+| `body`    | String   |  是  | 邮件正文   |\n+| `to_addr` | String   |  是  | 邮件收件人 |\n \n **响应**\n \n-| 字段名 | 数据类型 | 默认 | 说明 |\n-| ----- | ------- | :-: | --- |\n-| `success` | Boolean | `true` | 邮件发送成功 |\n+| 字段名    | 数据类型 |  默认  | 说明         |\n+| --------- | -------- | :----: | ------------ |\n+| `success` | Boolean  | `true` | 邮件发送成功 |\n \n ### Artrans 接口\n \n@@ -584,9 +584,9 @@\n \n **参数**\n \n-| 字段名 | 数据类型 | 必需 | 说明 |\n-| ----- | ------- | :---: | --- |\n-| `type` | String | 是 | 导入数据类型 |\n-| `payload` | String | 否 | 导入数据 |\n+| 字段名    | 数据类型 | 必需 | 说明         |\n+| --------- | -------- | :--: | ------------ |\n+| `type`    | String   |  是  | 导入数据类型 |\n+| `payload` | String   |  否  | 导入数据     |\n \n **响应** 无"
    },
    {
      "sha": "361336ec8e3a8a54315c7b06f0722ca2b61e7db4",
      "filename": "docs/docs/develop/event.md",
      "status": "modified",
      "additions": 27,
      "deletions": 26,
      "changes": 53,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Fevent.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Fevent.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fdevelop%2Fevent.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,32 +2,31 @@\n \n ## 基本事件\n \n-|事件名|描述|\n-|-|-|\n-| `created` | 初始化后 |\n-| `mounted` | 数据加载后 |\n-| `updated` | 数据更新后 |\n-| `unmounted` | 销毁后 |\n-| `list-fetch` | 评论列表请求时 |\n-| `list-fetched` | 评论列表请求后 |\n-| `list-load` | 评论装载前 |\n-| `list-loaded` | 评论装载后 |\n-| `list-failed` | 评论加载错误时 |\n-| `list-goto-first` | 评论列表归位时 |\n+| 事件名              | 描述                 |\n+| ------------------- | -------------------- |\n+| `created`           | 初始化后             |\n+| `mounted`           | 数据加载后           |\n+| `updated`           | 数据更新后           |\n+| `unmounted`         | 销毁后               |\n+| `list-fetch`        | 评论列表请求时       |\n+| `list-fetched`      | 评论列表请求后       |\n+| `list-load`         | 评论装载前           |\n+| `list-loaded`       | 评论装载后           |\n+| `list-failed`       | 评论加载错误时       |\n+| `list-goto-first`   | 评论列表归位时       |\n | `list-reach-bottom` | 评论列表滚动到底部时 |\n-| `comment-inserted`   | 评论插入后           |\n-| `comment-updated`    | 评论更新后           |\n-| `comment-deleted`    | 评论删除后           |\n-| `comment-rendered`   | 评论节点渲染后       |\n-| `notifies-updated`    | 未读消息变更时       |\n-| `list-goto`          | 评论跳转时           |\n-| `page-loaded`        | 页面数据更新后       |\n-| `editor-submit`      | 编辑器提交时         |\n-| `editor-submitted`   | 编辑器提交后         |\n-| `user-changed`       | 本地用户数据变更时   |\n-| `sidebar-show`       | 侧边栏显示          |\n-| `sidebar-hide`       | 侧边栏隐藏          |\n-\n+| `comment-inserted`  | 评论插入后           |\n+| `comment-updated`   | 评论更新后           |\n+| `comment-deleted`   | 评论删除后           |\n+| `comment-rendered`  | 评论节点渲染后       |\n+| `notifies-updated`  | 未读消息变更时       |\n+| `list-goto`         | 评论跳转时           |\n+| `page-loaded`       | 页面数据更新后       |\n+| `editor-submit`     | 编辑器提交时         |\n+| `editor-submitted`  | 编辑器提交后         |\n+| `user-changed`      | 本地用户数据变更时   |\n+| `sidebar-show`      | 侧边栏显示           |\n+| `sidebar-hide`      | 侧边栏隐藏           |\n \n 事件声明代码：[@ArtalkJS/Artalk - src/types/event.ts](https://github.com/ArtalkJS/Artalk/blob/master/ui/artalk/src/types/event.ts)\n \n@@ -42,7 +41,9 @@ artalk.on('list-loaded', () => {\n ## 解除事件监听\n \n ```js\n-let foo = function() { /* do something */ }\n+let foo = function () {\n+  /* do something */\n+}\n \n artalk.on('list-loaded', foo)\n artalk.off('list-loaded', foo)"
    },
    {
      "sha": "68ce5987903da5953b3b437375dff624733aa5bb",
      "filename": "docs/docs/develop/fe-api.md",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Ffe-api.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Ffe-api.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fdevelop%2Ffe-api.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,6 +14,8 @@ npm install artalk\n \n 调用该函数将创建并得到一个 Artalk 的实例化对象，可用于后续操作。\n \n+<!-- prettier-ignore-start -->\n+\n ```js\n import Artalk from 'artalk'\n \n@@ -26,6 +28,8 @@ const artalk = Artalk.init({\n })\n ```\n \n+<!-- prettier-ignore-end -->\n+\n 调用该函数会异步地向后端发起请求：\n \n 1. 获取前端配置\n@@ -162,7 +166,7 @@ artalk.setDarkMode(true)\n ```js\n const artalk = Artalk.init({\n   // ...其他配置\n-  darkMode:  'auto',\n+  darkMode: 'auto',\n })\n ```\n "
    },
    {
      "sha": "e2cbd162844a3b68231e8b757d7af191ef8e78bc",
      "filename": "docs/docs/develop/index.md",
      "status": "modified",
      "additions": 8,
      "deletions": 9,
      "changes": 17,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Findex.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Findex.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fdevelop%2Findex.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,12 +2,11 @@\n \n ## 参考资源\n \n-📖 <a href=\"https://github.com/ArtalkJS/Artalk/blob/master/CONTRIBUTING.md\" target=\"_blank\">开发者贡献指南 (CONTRIBUTING.md)</a>\n+📖 [开发者贡献指南 (CONTRIBUTING.md)](https://github.com/ArtalkJS/Artalk/blob/master/CONTRIBUTING.md)\n \n 🔬 <a href=\"/http-api.html\" target=\"_blank\">HTTP API 文档 (OpenAPI)</a>\n \n-🔖 <a href=\"https://github.com/ArtalkJS/Artalk/blob/master/CODE_OF_CONDUCT.md\" target=\"_blank\">贡献者契约行为准则 (CODE_OF_CONDUCT.md)</a>\n-\n+🔖 [贡献者契约行为准则 (CODE_OF_CONDUCT.md)](https://github.com/ArtalkJS/Artalk/blob/master/CODE_OF_CONDUCT.md)\n \n ## 配置文档\n \n@@ -18,11 +17,11 @@\n \n 由于 Artalk 正处于开发阶段，使用此文档中 `API`、`Event` 前请务必检查时效性。\n \n- - `API` 部分参考源码\n-   * [@ArtalkJS/Artalk - src/api/](https://github.com/ArtalkJS/Artalk/tree/master/ui/artalk/src/api)\n-   * [@ArtalkJS/Artalk - server/server.go](https://github.com/ArtalkJS/Artalk/blob/master/server/server.go)\n- - `UI` 及 `Event` 部分参考源码\n-   * [@ArtalkJS/Artalk - src/artalk.ts](https://github.com/ArtalkJS/Artalk/blob/master/ui/artalk/src/artalk.ts)\n-   * [@ArtalkJS/Artalk - src/types/event.ts](https://github.com/ArtalkJS/Artalk/blob/master/ui/artalk/src/types/event.ts)\n+- `API` 部分参考源码\n+  - [@ArtalkJS/Artalk - src/api/](https://github.com/ArtalkJS/Artalk/tree/master/ui/artalk/src/api)\n+  - [@ArtalkJS/Artalk - server/server.go](https://github.com/ArtalkJS/Artalk/blob/master/server/server.go)\n+- `UI` 及 `Event` 部分参考源码\n+  - [@ArtalkJS/Artalk - src/artalk.ts](https://github.com/ArtalkJS/Artalk/blob/master/ui/artalk/src/artalk.ts)\n+  - [@ArtalkJS/Artalk - src/types/event.ts](https://github.com/ArtalkJS/Artalk/blob/master/ui/artalk/src/types/event.ts)\n \n 通过 Artalk 提供的 `API` 和 `Event`，你可以实现很多高级功能，比如编写评论管理机器人、评论提醒推送插件等。Artalk 并不为此提供技术指导，但鼓励你参考此处的文档自行定制。"
    },
    {
      "sha": "a4927d86691257c066d63a0619a87a8c4bab10fd",
      "filename": "docs/docs/develop/plugs.md",
      "status": "modified",
      "additions": 23,
      "deletions": 23,
      "changes": 46,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Fplugs.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fdevelop%2Fplugs.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fdevelop%2Fplugs.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -47,26 +47,26 @@ const artalk = Artalk.init({ ... })\n \n Context 对象包含了 Artalk 的上下文信息。\n \n-| 成员 | 说明 |\n-| --- | --- |\n-| `ctx.getEl` | 获取容器元素 |\n-| `ctx.getConf` | 获取配置 |\n-| `ctx.updateConf` | 更新配置 |\n-| `ctx.watchConf` | 监听配置 |\n-| `ctx.setDarkMode` | 设置夜间模式 |\n-| `ctx.getApi` | 获取 API 客户端对象 |\n-|--|--|\n-| `ctx.fetch` | 获取评论数据 |\n-| `ctx.reload` | 重载评论列表 |\n-| `ctx.getComments` | 获取所有评论数据对象 |\n+| 成员                  | 说明                 |\n+| --------------------- | -------------------- |\n+| `ctx.getEl`           | 获取容器元素         |\n+| `ctx.getConf`         | 获取配置             |\n+| `ctx.updateConf`      | 更新配置             |\n+| `ctx.watchConf`       | 监听配置             |\n+| `ctx.setDarkMode`     | 设置夜间模式         |\n+| `ctx.getApi`          | 获取 API 客户端对象  |\n+| --                    | --                   |\n+| `ctx.fetch`           | 获取评论数据         |\n+| `ctx.reload`          | 重载评论列表         |\n+| `ctx.getComments`     | 获取所有评论数据对象 |\n | `ctx.getCommentNodes` | 获取所有评论节点对象 |\n-|--|--|\n-| `ctx.on` | 添加事件监听 |\n-| `ctx.off` | 解除事件监听 |\n-| `ctx.trigger` | 触发事件 |\n-|--|--|\n-| `ctx.get` | 获取依赖 |\n-| `ctx.inject` | 注入依赖 |\n+| --                    | --                   |\n+| `ctx.on`              | 添加事件监听         |\n+| `ctx.off`             | 解除事件监听         |\n+| `ctx.trigger`         | 触发事件             |\n+| --                    | --                   |\n+| `ctx.get`             | 获取依赖             |\n+| `ctx.inject`          | 注入依赖             |\n \n ::: warning\n Context API 目前仍不稳定，开发可能会有变动，升级请关注 CHANGELOG。\n@@ -84,7 +84,7 @@ Artalk 有很多内置的插件，你可以参考它们的源码来开发自己\n \n 我们还提供了一些外置的插件，同样可以参考：\n \n-| 插件 | 说明 |\n-| --- | --- |\n-| [@artalk/plugin-katex](https://github.com/ArtalkJS/Artalk/tree/master/ui/plugin-katex) | LaTeX 公式插件 |\n-| [@artalk/plugin-lightbox](https://github.com/ArtalkJS/Artalk/tree/master/ui/plugin-lightbox) | 图片灯箱插件 |\n+| 插件                                                                                         | 说明           |\n+| -------------------------------------------------------------------------------------------- | -------------- |\n+| [@artalk/plugin-katex](https://github.com/ArtalkJS/Artalk/tree/master/ui/plugin-katex)       | LaTeX 公式插件 |\n+| [@artalk/plugin-lightbox](https://github.com/ArtalkJS/Artalk/tree/master/ui/plugin-lightbox) | 图片灯箱插件   |"
    },
    {
      "sha": "1f0bcbf67bd5fe9d14a715c31b96d9d27b718784",
      "filename": "docs/docs/guide/backend/admin_notify.md",
      "status": "modified",
      "additions": 70,
      "deletions": 73,
      "changes": 143,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fadmin_notify.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fadmin_notify.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fadmin_notify.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -16,50 +16,50 @@ Artalk 支持通过多元推送功能以多种方式发送管理员通知。\n # 多元推送\n admin_notify:\n   # 通知模版\n-  notify_tpl: \"default\"\n+  notify_tpl: default\n   noise_mode: false\n   # 邮件通知管理员\n   email:\n     enabled: true # 当使用其他推送方式时，可以关闭管理员邮件通知\n-    mail_subject: \"[{{site_name}}] 您的文章「{{page_title}}」有新回复\"\n-    mail_tpl: \"\"\n+    mail_subject: '[{{site_name}}] 您的文章「{{page_title}}」有新回复'\n+    mail_tpl: ''\n   # Telegram\n   telegram:\n     enabled: false\n-    api_token: \"\"\n+    api_token: ''\n     receivers:\n       - 7777777\n   # 飞书\n   lark:\n     enabled: false\n-    webhook_url: \"\"\n+    webhook_url: ''\n   # 钉钉\n   ding_talk:\n     enabled: false\n-    token: \"\"\n-    secret: \"\"\n+    token: ''\n+    secret: ''\n   # Bark\n   bark:\n     enabled: false\n-    server: \"http://day.app/xxxxxxx/\"\n+    server: http://day.app/xxxxxxx/\n   # Slack\n   slack:\n     enabled: false\n-    oauth_token: \"\"\n+    oauth_token: ''\n     receivers:\n-      - \"CHANNEL_ID\"\n+      - CHANNEL_ID\n   # LINE\n   line:\n     enabled: false\n-    channel_secret: \"\"\n-    channel_access_token: \"\"\n+    channel_secret: ''\n+    channel_access_token: ''\n     receivers:\n-      - \"USER_ID_1\"\n-      - \"GROUP_ID_1\"\n+      - USER_ID_1\n+      - GROUP_ID_1\n   # WebHook\n   webhook:\n     enabled: false\n-    url: \"\"\n+    url: ''\n ```\n \n :::\n@@ -71,8 +71,8 @@ admin_notify:\n ```yaml\n admin_notify:\n   enabled: true # 当使用其他推送方式时，可以关闭管理员邮件通知\n-  mail_subject: \"[{{site_name}}] 您的文章「{{page_title}}」有新回复\"\n-  mail_tpl: \"\"\n+  mail_subject: '[{{site_name}}] 您的文章「{{page_title}}」有新回复'\n+  mail_tpl: ''\n ```\n \n 当使用其他推送方式时，可以关闭管理员邮件通知。\n@@ -83,7 +83,7 @@ admin_notify:\n \n - 配置项 `mail_subject` 为发送给管理员的邮件标题。\n - 配置项 `mail_tpl` 为发送给管理员的邮件选用特定的[邮件模板](./email.md#邮件模板)（填写邮件模板文件路径）。\n-  \n+\n   (当该项留空时，将继承 `email.mail_tpl` 配置项)\n \n ## Telegram\n@@ -93,7 +93,7 @@ admin_notify:\n   # Telegram\n   telegram:\n     enabled: true\n-    api_token: \"\"\n+    api_token: ''\n     receivers:\n       - 7777777\n ```\n@@ -132,7 +132,7 @@ admin_notify:\n   # 飞书\n   lark:\n     enabled: true\n-    webhook_url: \"\"\n+    webhook_url: ''\n ```\n \n - `webhook_url`：填入创建群组机器人时得到的 WebHook 地址。\n@@ -160,8 +160,8 @@ admin_notify:\n   # 钉钉\n   ding_talk:\n     enabled: true\n-    token: \"\"\n-    secret: \"\"\n+    token: ''\n+    secret: ''\n ```\n \n 可参考：[钉钉开放文档](https://open.dingtalk.com/document/robots/custom-robot-access)\n@@ -173,27 +173,25 @@ admin_notify:\n   # Bark\n   bark:\n     enabled: true\n-    server: \"http://day.app/xxxxxxx/\"\n+    server: http://day.app/xxxxxxx/\n ```\n \n [Bark](https://github.com/Finb/Bark) 是一款开源的 iOS App，并且[支持自托管](https://github.com/Finb/bark-server)，你能使用 Bark 轻松地推送消息给你的 iOS 设备。\n \n 你可以在 App Store 搜索下载，并获得需要填入 Artalk 的 `server` 配置项：\n \n-\n <img src=\"/images/notify/bark.png\" width=\"700px\">\n \n-\n ## Slack\n \n ```yaml\n admin_notify:\n   # Slack\n   slack:\n     enabled: true\n-    oauth_token: \"\"\n+    oauth_token: ''\n     receivers:\n-      - \"CHANNEL_ID\"\n+      - CHANNEL_ID\n ```\n \n ## LINE\n@@ -203,18 +201,18 @@ admin_notify:\n   # LINE\n   line:\n     enabled: true\n-    channel_secret: \"\"\n-    channel_access_token: \"\"\n+    channel_secret: ''\n+    channel_access_token: ''\n     receivers:\n-      - \"USER_ID_1\"\n-      - \"GROUP_ID_1\"\n+      - USER_ID_1\n+      - GROUP_ID_1\n ```\n \n ## 通知模版\n \n ```yaml\n admin_notify:\n-  notify_tpl: \"default\"\n+  notify_tpl: default\n ```\n \n 配置项 `admin_notify.notify_tpl` 可设置为自定义通知模版「文件路径」，默认的通知模版为：\n@@ -259,21 +257,21 @@ admin_notify:\n \n ```yaml\n admin_notify:\n-    webhook:\n-      enabled: true\n-      url: \"http://localhost:8080/\"\n+  webhook:\n+    enabled: true\n+    url: http://localhost:8080/\n ```\n \n **Body 数据内容**\n \n `application/json` 类型\n \n-|Key|描述|类型|备注|\n-| - | - | - | - |\n-|`notify_subject`|通知标题     |String| 对应 admin_notify.notify_subject 配置项 |\n-|`notify_body`   |通知内容     |String| 根据 admin_notify.notify_tpl 模版渲染 |\n-|`comment`       |评论内容     |Object| 新创建的评论数据对象 |\n-|`parent_comment`|评论回复的目标|Object| 如果是根节点评论值为 null |\n+| Key              | 描述           | 类型   | 备注                                    |\n+| ---------------- | -------------- | ------ | --------------------------------------- |\n+| `notify_subject` | 通知标题       | String | 对应 admin_notify.notify_subject 配置项 |\n+| `notify_body`    | 通知内容       | String | 根据 admin_notify.notify_tpl 模版渲染   |\n+| `comment`        | 评论内容       | Object | 新创建的评论数据对象                    |\n+| `parent_comment` | 评论回复的目标 | Object | 如果是根节点评论值为 null               |\n \n **Body 数据样本**\n \n@@ -311,53 +309,53 @@ admin_notify:\n **Node.js express 处理示例**\n \n ```js\n-const express = require('express');\n+const express = require('express')\n \n-const app = express();\n+const app = express()\n \n-app.use(express.json()); // Use JSON middleware\n+app.use(express.json()) // Use JSON middleware\n \n-app.post('/', function(request, response){\n-  console.log(request.body);\n+app.post('/', (request, response) => {\n+  console.log(request.body)\n \n   const notifySubject = request.body.notify_subject\n-  const notifyBody    = request.body.notify_body\n-  console.log(notifySubject, notifyBody);\n+  const notifyBody = request.body.notify_body\n+  console.log(notifySubject, notifyBody)\n \n-  response.send(request.body);\n-});\n+  response.send(request.body)\n+})\n \n-app.listen(8080);\n+app.listen(8080)\n ```\n \n **Node.js http 处理示例**\n \n ```js\n-const http = require(\"http\");\n+const http = require('http')\n \n-const requestListener = function (req, res) {\n+const requestListener = (req, res) => {\n   // receive json request\n-  let body = \"\";\n-  req.on(\"data\", function (data) {\n-    body += data;\n-  });\n-  req.on(\"end\", function () {\n-    let json = \"\";\n+  let body = ''\n+  req.on('data', (data) => {\n+    body += data\n+  })\n+  req.on('end', () => {\n+    let json = ''\n     try {\n-      json = JSON.parse(body);\n+      json = JSON.parse(body)\n     } catch {}\n \n     // do something with json\n-    console.log(json);\n-    res.end();\n-  });\n+    console.log(json)\n+    res.end()\n+  })\n \n-  res.writeHead(200);\n-  res.end(\"Hello, World!\");\n-};\n+  res.writeHead(200)\n+  res.end('Hello, World!')\n+}\n \n-const server = http.createServer(requestListener);\n-server.listen(8080);\n+const server = http.createServer(requestListener)\n+server.listen(8080)\n ```\n \n **PHP Laravel 处理示例**\n@@ -382,10 +380,10 @@ import (\n )\n \n type ArtalkNotify struct {\n-\tNotifySubject string      `json:\"notify_subject\"`\n-\tNotifyBody    string      `json:\"notify_body\"`\n-\tComment       interface{} `json:\"comment\"`\n-\tParentComment interface{} `json:\"parent_comment\"`\n+  NotifySubject string      `json:\"notify_subject\"`\n+  NotifyBody    string      `json:\"notify_body\"`\n+  Comment       interface{} `json:\"comment\"`\n+  ParentComment interface{} `json:\"parent_comment\"`\n }\n \n func webhookHandler(rw http.ResponseWriter, req *http.Request) {\n@@ -403,4 +401,3 @@ func main() {\n     log.Fatal(http.ListenAndServe(\":8080\", nil))\n }\n ```\n-"
    },
    {
      "sha": "d09c0a10a9c5f4f592dfda380ed34abedf75e533",
      "filename": "docs/docs/guide/backend/build.md",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fbuild.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fbuild.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fbuild.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -62,6 +62,6 @@ make docker-push\n \n 程序由 [GitHub Actions](https://github.com/ArtalkJS/Artalk/actions) 自动化构建\n \n-|版本发布|Docker 镜像构建发布|二进制构建发布|前端构建发布|\n-|-|-|-|-|\n-|[![Release](https://github.com/ArtalkJS/Artalk/actions/workflows/release.yml/badge.svg?branch=master)](https://github.com/ArtalkJS/Artalk/actions/workflows/release.yml)|[![Build Docker](https://github.com/ArtalkJS/Artalk/actions/workflows/build-docker.yml/badge.svg)](https://github.com/ArtalkJS/Artalk/actions/workflows/build-docker.yml)|[![Release](https://github.com/ArtalkJS/Artalk/actions/workflows/build-app.yml/badge.svg?branch=master)](https://github.com/ArtalkJS/Artalk/actions/workflows/build-app.yml)|[![Release](https://github.com/ArtalkJS/Artalk/actions/workflows/build-frontend.yml/badge.svg?branch=master)](https://github.com/ArtalkJS/Artalk/actions/workflows/build-frontend.yml)|\n+| 版本发布                                                                                                                                                                 | Docker 镜像构建发布                                                                                                                                                       | 二进制构建发布                                                                                                                                                               | 前端构建发布                                                                                                                                                                           |\n+| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n+| [![Release](https://github.com/ArtalkJS/Artalk/actions/workflows/release.yml/badge.svg?branch=master)](https://github.com/ArtalkJS/Artalk/actions/workflows/release.yml) | [![Build Docker](https://github.com/ArtalkJS/Artalk/actions/workflows/build-docker.yml/badge.svg)](https://github.com/ArtalkJS/Artalk/actions/workflows/build-docker.yml) | [![Release](https://github.com/ArtalkJS/Artalk/actions/workflows/build-app.yml/badge.svg?branch=master)](https://github.com/ArtalkJS/Artalk/actions/workflows/build-app.yml) | [![Release](https://github.com/ArtalkJS/Artalk/actions/workflows/build-frontend.yml/badge.svg?branch=master)](https://github.com/ArtalkJS/Artalk/actions/workflows/build-frontend.yml) |"
    },
    {
      "sha": "c5f411c35459e4fc99d7cc13b0a82c56d3952086",
      "filename": "docs/docs/guide/backend/captcha.md",
      "status": "modified",
      "additions": 27,
      "deletions": 28,
      "changes": 55,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fcaptcha.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fcaptcha.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fcaptcha.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -15,29 +15,29 @@ Artalk 内置图片验证码功能，你可以配置操作频率限制，当超\n ```yaml\n # 验证码\n captcha:\n-  enabled: true    # 总开关\n-  always: false    # 总是需要验证码\n-  captcha_type: \"image\" # 验证码类型\n-  action_limit: 3  # 激活验证码所需操作次数\n+  enabled: true # 总开关\n+  always: false # 总是需要验证码\n+  captcha_type: image # 验证码类型\n+  action_limit: 3 # 激活验证码所需操作次数\n   action_reset: 60 # 重置操作计数器超时 (单位：s, 设为 -1 不重置)\n   # Turnstile\n   # (https://www.cloudflare.com/products/turnstile/)\n   turnstile:\n-    site_key: \"\"\n-    secret_key: \"\"\n+    site_key: ''\n+    secret_key: ''\n   # reCaptcha\n   # (https://www.google.com/recaptcha/about/)\n   recaptcha:\n-    site_key: \"\"\n-    secret_key: \"\"\n+    site_key: ''\n+    secret_key: ''\n   # hCaptcha (https://www.hcaptcha.com/)\n   hcaptcha:\n-    site_key: \"\"\n-    secret_key: \"\"\n+    site_key: ''\n+    secret_key: ''\n   # Geetest 极验 (https://www.geetest.com)\n   geetest:\n-    captcha_id: \"\"\n-    captcha_key: \"\"\n+    captcha_id: ''\n+    captcha_key: ''\n ```\n \n - **always**：当该项为 `true` 时，总是需要输入验证码。\n@@ -49,7 +49,7 @@ captcha:\n \n ## 配置举例\n \n-#### 例 1\n+### 例 1\n \n 在 60s 时间范围内，当操作次数超过 3 次，将一直被要求输入验证码：\n \n@@ -61,7 +61,7 @@ captcha:\n \n 在 60s 后将自动重置计数器，即重新获得 3 次不用输入验证码的机会。\n \n-#### 例 2\n+### 例 2\n \n 无论多少时间范围内，这个 IP 地址操作次数只要超过 5 次时，将一直被要求输入验证码：\n \n@@ -71,7 +71,7 @@ captcha:\n   action_reset: -1\n ```\n \n-#### 例 3\n+### 例 3\n \n 总是要求输入验证码，无论这个 IP 操作多少次：\n \n@@ -99,10 +99,10 @@ captcha:\n ```yaml\n captcha:\n   # 省略其他配置...\n-  captcha_type: \"turnstile\"\n+  captcha_type: turnstile\n   turnstile:\n-    site_key: \"\"\n-    secret_key: \"\"\n+    site_key: ''\n+    secret_key: ''\n ```\n \n ## reCAPTCHA\n@@ -114,10 +114,10 @@ captcha:\n ```yaml\n captcha:\n   # 省略其他配置...\n-  captcha_type: \"recaptcha\"\n+  captcha_type: recaptcha\n   recaptcha:\n-    site_key: \"\"\n-    secret_key: \"\"\n+    site_key: ''\n+    secret_key: ''\n ```\n \n 注：国内访问 Google API 也许需要配置系统代理。\n@@ -133,10 +133,10 @@ reCAPTCHA 官方提供了用于测试的 Keys：[可见此处](https://developer\n ```yaml\n captcha:\n   # 省略其他配置...\n-  captcha_type: \"hcaptcha\"\n+  captcha_type: hcaptcha\n   hcaptcha:\n-    site_key: \"\"\n-    secret_key: \"\"\n+    site_key: ''\n+    secret_key: ''\n ```\n \n hCaptcha 官方提供了用于测试的 Keys：[可见此处](https://docs.hcaptcha.com/#integration-testing-test-keys)。\n@@ -152,9 +152,8 @@ Artalk 支持接入 [Geetest 极验](https://www.geetest.com/adaptive-captcha) \n ```yaml\n captcha:\n   # 省略其他配置...\n-  captcha_type: \"geetest\"\n+  captcha_type: geetest\n   geetest:\n-    captcha_id: \"\"\n-    captcha_key: \"\"\n+    captcha_id: ''\n+    captcha_key: ''\n ```\n-"
    },
    {
      "sha": "0fdb0f20b9e658eebc002b1d521f75f59f1ae158",
      "filename": "docs/docs/guide/backend/config.md",
      "status": "modified",
      "additions": 39,
      "deletions": 39,
      "changes": 78,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fconfig.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fconfig.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fconfig.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -16,8 +16,8 @@ artalk -c ./conf.yml\n \n Artalk 读取以 `ATK_` 为前缀的环境变量，并且全部大写，子节点用单个下划线表示，配置名含下划线请用双下划线表示：\n \n-  - `_` (单下划线) 转为 `.` 表示子节点\n-  - `__` (双下划线) 转为 `_` 表示配置名的下划线\n+- `_` (单下划线) 转为 `.` 表示子节点\n+- `__` (双下划线) 转为 `_` 表示配置名的下划线\n \n e.g.\n \n@@ -35,15 +35,15 @@ ATK_ADMIN_USERS_0_NAME   -> admin_users[0].name\n \n 可参考一份「完整的配置文件」：[artalk.example.zh-CN.yml](https://github.com/ArtalkJS/Artalk/blob/master/conf/artalk.example.zh-CN.yml)\n \n-#### 使用 gen 命令生成配置文件\n+### 使用 gen 命令生成配置文件\n \n Artalk 提供 `gen` 命令，你可以快速生成一份新的配置文件：\n \n ```bash\n artalk gen conf -lang zh-CN ./artalk.yml\n ```\n \n-#### 命令行下载配置文件\n+### 命令行下载配置文件\n \n ```bash\n wget -O artalk.yml https://raw.githubusercontent.com/ArtalkJS/Artalk/master/conf/artalk.example.zh-CN.yml\n@@ -54,15 +54,15 @@ wget -O artalk.yml https://raw.githubusercontent.com/ArtalkJS/Artalk/master/conf\n 在 Artalk 启动之前，你需要配置一个 `app_key` 用于对网站内容进行安全加密：\n \n ```yaml\n-app_key: \"<任意的字符>\"\n+app_key: <任意的字符>\n ```\n \n ## 语言 `locale`\n \n 设置 Artalk 的语言。遵循 Unicode BCP 47 规范，该项默认为 \"zh-CN\" (简体中文)。\n \n ```yml\n-locale: \"zh-CN\"\n+locale: zh-CN\n ```\n \n 详情参考：[多语言](../frontend/i18n.md)\n@@ -77,8 +77,8 @@ SQLite 是轻型数据库，使用单个文件存储数据，无需额外运行\n \n ```yaml\n db:\n-  type: \"sqlite\"\n-  file: \"./data/artalk.db\"\n+  type: sqlite\n+  file: ./data/artalk.db\n ```\n \n #### MySQL / PostgreSQL / SQL Server\n@@ -87,15 +87,15 @@ db:\n \n ```yaml\n db:\n-  type: \"mysql\"      # sqlite, mysql, pgsql, mssql\n-  name: \"artalk\"     # 数据库名\n-  host: \"localhost\"  # 地址\n-  port: \"3306\"       # 端口\n-  user: \"root\"       # 账号\n-  password: \"\"       # 密码\n-  charset: \"utf8mb4\" # 编码格式\n-  table_prefix: \"\"   # 表前缀 (例如：\"atk_\")\n-  ssl: false         # 启用 SSL\n+  type: mysql # sqlite, mysql, pgsql, mssql\n+  name: artalk # 数据库名\n+  host: localhost # 地址\n+  port: 3306 # 端口\n+  user: root # 账号\n+  password: '' # 密码\n+  charset: utf8mb4 # 编码格式\n+  table_prefix: '' # 表前缀 (例如：\"atk_\")\n+  ssl: false # 启用 SSL\n   prepare_stmt: true # 预编译语句\n ```\n \n@@ -107,8 +107,8 @@ db:\n \n ```yaml\n db:\n-  type: \"mysql\"\n-  dsn: \"mysql://myuser:mypassword@localhost:3306/mydatabase?tls=skip-verify\"\n+  type: mysql\n+  dsn: mysql://myuser:mypassword@localhost:3306/mydatabase?tls=skip-verify\n ```\n \n 更多内容参考：[@go-sql-driver/mysql:README.md](https://github.com/go-sql-driver/mysql)\n@@ -125,8 +125,8 @@ Artalk 支持多站点，你可以创建多个管理员账户，为其分配站\n \n ```yaml\n trusted_domains:\n-  - \"https://前端使用域名A.com\"\n-  - \"https://前端使用域名B.com\"\n+  - https://前端使用域名A.com\n+  - https://前端使用域名B.com\n ```\n \n 配置该项能限制来自列表外的 Referer 和跨域请求。\n@@ -145,7 +145,7 @@ trusted_domains:\n \n ```yaml\n trusted_domains:\n-  - \"*\"\n+  - '*'\n ```\n \n ::: danger\n@@ -166,13 +166,13 @@ CSRF 跨域攻击防范措施参考：[OWASP 安全备忘单](https://cheatsheet\n 如果你觉得大概是不会用到 Artalk 的多站点功能，可以直接将该项配置为你的站点名，例如：\n \n ```yaml\n-site_default: \"Artalk 官网\"\n+site_default: Artalk 官网\n ```\n \n 然后在前端直接使用这个站点名：\n \n ```js\n-Artalk.init({ site: \"Artalk 官网\" })\n+Artalk.init({ site: 'Artalk 官网' })\n ```\n \n 这样，你就无需在侧边栏的[控制中心](../frontend/sidebar.md#控制中心)手动创建站点。\n@@ -211,11 +211,11 @@ Artalk.init({ site: \"Artalk 官网\" })\n \n ```yaml\n cache:\n-  enabled: true   # 启用缓存 (默认关闭)\n-  type: \"builtin\" # 支持 redis, memcache, builtin (自带缓存)\n-  expires: 30     # 缓存过期时间 (单位：分钟)\n-  warm_up: false  # 程序启动时预热缓存\n-  server: \"\"      # 连接缓存服务器 (例如：\"localhost:6379\")\n+  enabled: true # 启用缓存 (默认关闭)\n+  type: builtin # 支持 redis, memcache, builtin (自带缓存)\n+  expires: 30 # 缓存过期时间 (单位：分钟)\n+  warm_up: false # 程序启动时预热缓存\n+  server: '' # 连接缓存服务器 (例如：\"localhost:6379\")\n ```\n \n - **warm_up**：缓存预热功能。设置为 `true`，在 Artalk 启动时会立刻对数据库内容进行全面缓存，如果你的评论数据较多，多达上万条，启动时间可能会延长。\n@@ -232,10 +232,10 @@ Redis 身份认证、数据库配置：\n cache:\n   # 省略其他配置项...\n   redis:\n-    network: \"tcp\" # 连接方式 (tcp 或 unix)\n-    username: \"\"   # 用户名\n-    password: \"\"   # 密码\n-    db: 0          # 使用零号数据库\n+    network: tcp # 连接方式 (tcp 或 unix)\n+    username: '' # 用户名\n+    password: '' # 密码\n+    db: 0 # 使用零号数据库\n ```\n \n <!-- 技术细节：[Artalk 缓存机制 时序图.png](/images/artalk/artalk-cache.png) -->\n@@ -246,7 +246,7 @@ cache:\n Artalk 的默认 HTTP 端口为 23366，你可以在配置文件中指定：\n \n ```yaml\n-host: \"0.0.0.0\"\n+host: '0.0.0.0'\n port: 23366\n ```\n \n@@ -265,8 +265,8 @@ artalk server --host 127.0.0.1 --port 8080\n ```yaml\n ssl:\n   enabled: true\n-  cert_path: \"\"\n-  key_path: \"\"\n+  cert_path: ''\n+  key_path: ''\n ```\n \n 你可以配置该项，让 HTTP 升级为 HTTPS，通过 SSL 协议加密传输数据。\n@@ -279,7 +279,7 @@ ssl:\n ## 时区配置 `timezone`\n \n ```yaml\n-timezone: \"Asia/Shanghai\"\n+timezone: Asia/Shanghai\n ```\n \n 该值填写你所在地时区，对应 IANA 数据库时区名，参考：[Wikipedia](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) / [RFC-6557](https://www.rfc-editor.org/rfc/rfc6557.html)。\n@@ -308,7 +308,7 @@ login_timeout: 259200\n ```yaml\n log:\n   enabled: true # 总开关\n-  filename: \"./data/artalk.log\" # 日志文件路径\n+  filename: ./data/artalk.log # 日志文件路径\n ```\n \n ## 调试模式 `debug`\n@@ -340,7 +340,7 @@ artalk -w /root/artalk -c ./conf.yml\n 例如 `conf.yml` 中有这样的配置：\n \n ```yaml\n-test_file: \"./data/artalk.log\"\n+test_file: ./data/artalk.log\n ```\n \n 将读取 `/root/artalk/data/artalk.log`。"
    },
    {
      "sha": "4ff3a005f6ad23490f4e9f3141b5f6b9a5008d0d",
      "filename": "docs/docs/guide/backend/daemon.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fdaemon.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fdaemon.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fdaemon.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -79,7 +79,7 @@ WantedBy=multi-user.target\n \n 保存服务文件后，你可以设置自动启动服务：\n \n-```bash \n+```bash\n sudo systemctl daemon-reload\n sudo systemctl enable --now artalk\n ```"
    },
    {
      "sha": "89daa649148c3920f85ac6f4c0643a0e70b68854",
      "filename": "docs/docs/guide/backend/docker.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fdocker.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fdocker.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fdocker.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -43,7 +43,7 @@ docker run -d \\\n 然后，在前端配置填入后端地址：\n \n ```js\n-Artalk.init({ server: \"http://your_domain:8080\" })\n+Artalk.init({ server: 'http://your_domain:8080' })\n ```\n \n ## 重启"
    },
    {
      "sha": "5cac7e74ac8eae0f79150c526a088aad504f58bc",
      "filename": "docs/docs/guide/backend/email.md",
      "status": "modified",
      "additions": 35,
      "deletions": 37,
      "changes": 72,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Femail.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Femail.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Femail.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,21 +11,21 @@ Artalk 支持 SMTP 协议、阿里云邮件推送、调用系统 sendmail 命令\n ```yaml\n # 邮件通知\n email:\n-  enabled: false    # 总开关\n-  send_type: \"smtp\" # 发送方式 [smtp, ali_dm, sendmail]\n+  enabled: false # 总开关\n+  send_type: smtp # 发送方式 [smtp, ali_dm, sendmail]\n   send_name: '{{reply_nick}}' # 发信人昵称\n-  send_addr: \"example@qq.com\" # 发信人地址\n-  mail_subject: \"[{{site_name}}] 您收到了来自 @{{reply_nick}} 的回复\"\n-  mail_tpl: \"default\" # 邮件模板文件\n+  send_addr: example@qq.com # 发信人地址\n+  mail_subject: '[{{site_name}}] 您收到了来自 @{{reply_nick}} 的回复'\n+  mail_tpl: default # 邮件模板文件\n   smtp:\n-    host: \"smtp.qq.com\"\n+    host: smtp.qq.com\n     port: 587\n-    username: \"example@qq.com\"\n-    password: \"\"\n+    username: example@qq.com\n+    password: ''\n   ali_dm: # https://help.aliyun.com/document_detail/29444.html\n-    access_key_id: \"\"     # 阿里云颁发给用户的访问服务所用的密钥 ID\n-    access_key_secret: \"\" # 用于加密的密钥\n-    account_name: \"example@example.com\" # 管理控制台中配置的发信地址\n+    access_key_id: '' # 阿里云颁发给用户的访问服务所用的密钥 ID\n+    access_key_secret: '' # 用于加密的密钥\n+    account_name: example@example.com # 管理控制台中配置的发信地址\n ```\n \n ### 选择发件方式\n@@ -35,7 +35,7 @@ email:\n ```yaml\n email:\n   enabled: true\n-  send_type: \"smtp\" # 发送方式\n+  send_type: smtp # 发送方式\n   # 省略其他配置...\n   smtp:\n     # SMTP 配置...\n@@ -49,24 +49,24 @@ email:\n # 邮件通知\n email:\n   enabled: true\n-  send_type: \"smtp\" # 选择 smtp\n+  send_type: smtp # 选择 smtp\n   smtp:\n-    host: \"smtp.qq.com\"\n+    host: smtp.qq.com\n     port: 587\n-    username: \"example@qq.com\"\n-    password: \"\"\n+    username: example@qq.com\n+    password: ''\n ```\n \n ### 阿里云推送配置\n \n ```yaml\n email:\n   enabled: true\n-  send_type: \"ali_dm\" # 选择 ali_dm\n+  send_type: ali_dm # 选择 ali_dm\n   ali_dm:\n-    access_key_id: \"\"     # 阿里云颁发给用户的访问服务所用的密钥 ID\n-    access_key_secret: \"\" # 用于加密的密钥\n-    account_name: \"example@example.com\" # 管理控制台中配置的发信地址\n+    access_key_id: '' # 阿里云颁发给用户的访问服务所用的密钥 ID\n+    access_key_secret: '' # 用于加密的密钥\n+    account_name: example@example.com # 管理控制台中配置的发信地址\n ```\n \n 可参考：[阿里云官方文档](https://help.aliyun.com/document_detail/29444.html)\n@@ -86,16 +86,16 @@ email:\n ```yaml\n email:\n   # 省略其他配置...\n-  mail_subject: \"[{{site_name}}] 您收到了来自 @{{reply_nick}} 的回复\"\n+  mail_subject: '[{{site_name}}] 您收到了来自 @{{reply_nick}} 的回复'\n   mail_subject_to_admin: '[{{site_name}}] 您的文章 \"{{page_title}}\" 有新回复'\n-  mail_tpl: \"default\" # 邮件模板文件\n+  mail_tpl: default # 邮件模板文件\n ```\n \n-变量是 “Mustache” 的语法，`双大括号` + `变量名` 的形式即可输出一个变量： \n+变量是 “Mustache” 的语法，`双大括号` + `变量名` 的形式即可输出一个变量：\n \n **基本内容变量**\n \n-```\n+```yaml\n {{content}}        # 评论内容\n {{link_to_reply}}  # 回复链接\n {{nick}}           # 评论者昵称\n@@ -109,7 +109,7 @@ email:\n \n ::: details 查看其他变量\n \n-```\n+```yaml\n # 评论创建者\n {{comment.badge_color}}\n {{comment.badge_name}}\n@@ -276,7 +276,7 @@ email:\n   \"parent_comment.ua\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.82 Safari/537.36\",\n   \"parent_comment.visible\": false,\n   \"parent_comment.vote_down\": 0,\n-  \"parent_comment.vote_up\": 0,\n+  \"parent_comment.vote_up\": 0\n }\n ```\n \n@@ -290,23 +290,21 @@ email:\n \n ```yaml\n email:\n-  mail_tpl: \"/root/Artalk/data/mail_tpl/your_email_template.html\"\n+  mail_tpl: /root/Artalk/data/mail_tpl/your_email_template.html\n   # 其他配置省略...\n ```\n \n 那么，在这个路径应该有一个文件：\n \n ```html\n <div>\n-    <p>Hi, {{nick}}：</p>\n-    <p>\n-        您在 “{{page_title}}” 收到了回复：\n-    </p>\n-    <div>\n-        <div>@{{reply_nick}}:</div>\n-        <div>{{reply_content}}</div>\n-    </div>\n-    <p><a href=\"{{link_to_reply}}\" target=\"_blank\">回复消息 »</a></p>\n+  <p>Hi, {{nick}}：</p>\n+  <p>您在 “{{page_title}}” 收到了回复：</p>\n+  <div>\n+    <div>@{{reply_nick}}:</div>\n+    <div>{{reply_content}}</div>\n+  </div>\n+  <p><a href=\"{{link_to_reply}}\" target=\"_blank\">回复消息 »</a></p>\n </div>\n ```\n \n@@ -319,7 +317,7 @@ Artalk 内置许多预设的邮件模板，例如 `mail_tpl: \"default\"` 使用\n ```yaml\n admin_notify:\n   enabled: true\n-  mail_subject: \"[{{site_name}}] 您的文章「{{page_title}}」有新回复\"\n+  mail_subject: '[{{site_name}}] 您的文章「{{page_title}}」有新回复'\n ```\n \n 注：旧版 `email.mail_subject_to_admin` 配置项已弃用，请使用以上替代。"
    },
    {
      "sha": "f5c6d92a1dd0e0cf67e73c33173fa1f256c1ff50",
      "filename": "docs/docs/guide/backend/fe-control.md",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Ffe-control.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Ffe-control.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Ffe-control.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,7 +14,7 @@\n \n ```html\n <!-- CSS -->\n-<link href=\"https://<artalk_go_server>/dist/Artalk.css\" rel=\"stylesheet\">\n+<link href=\"https://<artalk_go_server>/dist/Artalk.css\" rel=\"stylesheet\" />\n \n <!-- JS -->\n <script src=\"https://<artalk_go_server>/dist/Artalk.js\"></script>\n@@ -34,10 +34,10 @@ Artalk 提供图形界面简化配置，一般情况无需手动修改。\n \n ```yaml\n frontend:\n-  placeholder: \"键入内容...\"\n-  noComment: \"「此时无声胜有声」\"\n-  sendBtn: \"发送评论\"\n-  emoticons: \"https://raw.githubusercontent.com/ArtalkJS/Emoticons/master/grps/default.json\"\n+  placeholder: 键入内容...\n+  noComment: 「此时无声胜有声」\n+  sendBtn: 发送评论\n+  emoticons: 'https://raw.githubusercontent.com/ArtalkJS/Emoticons/master/grps/default.json'\n   # ----- 此处省略 -------\n   # 与前端配置项名称保持一致\n ```"
    },
    {
      "sha": "fc9fe1f7a743579db41794a48d87a9be74462e18",
      "filename": "docs/docs/guide/backend/img-upload.md",
      "status": "modified",
      "additions": 15,
      "deletions": 15,
      "changes": 30,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fimg-upload.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fimg-upload.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fimg-upload.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,14 +11,14 @@ Artalk 提供图片上传功能，支持限制图片大小、上传频率等，\n ```yaml\n # 图片上传\n img_upload:\n-  enabled: true              # 总开关\n-  path: \"./data/artalk-img/\" # 图片存放路径\n-  max_size: 5                # 图片大小限制 (单位：MB)\n-  public_path: null          # 指定图片链接基础路径 (默认为 \"/static/images/\")\n+  enabled: true # 总开关\n+  path: ./data/artalk-img/ # 图片存放路径\n+  max_size: 5 # 图片大小限制 (单位：MB)\n+  public_path: null # 指定图片链接基础路径 (默认为 \"/static/images/\")\n   # 使用 upgit 将图片上传到 GitHub 或图床\n   upgit:\n-    enabled: false  # 启用 upgit\n-    exec: \"upgit -c <upgit配置文件路径> -t /artalk-img\"\n+    enabled: false # 启用 upgit\n+    exec: upgit -c <upgit配置文件路径> -t /artalk-img\n     del_local: true # 上传后删除本地的图片\n ```\n \n@@ -39,10 +39,10 @@ export PATH=$PATH:/path/to/upgit\n 最后，在 Artalk 的 `img_upload.upgit` 字段填入 UpGit 启动参数：\n \n ```yaml\n-  upgit:\n-    enabled: true  # 启用 upgit\n-    exec: \"upgit -c <upgit配置文件路径> -t /artalk-img\"\n-    del_local: true # 上传后删除本地的图片\n+upgit:\n+  enabled: true # 启用 upgit\n+  exec: upgit -c <upgit配置文件路径> -t /artalk-img\n+  del_local: true # 上传后删除本地的图片\n ```\n \n ::: warning 更新注意\n@@ -78,15 +78,15 @@ http://<后端地址>/static/images/\n 当该项为「相对路径」时，例如：`/static/images/` 前端上传图片得到的 HTML 标签将为：\n \n ```html\n-<img src=\"http://<后端地址>/static/images/1.png\">\n+<img src=\"http://<后端地址>/static/images/1.png\" />\n ```\n \n 注：这里的 `<后端地址>` 是前端 `conf.server` 配置。\n \n 当该项为「完整 URL 路径」时，例如：`https://cdn.github.com/img/` 时，图片标签将为：\n \n ```html\n-<img src=\"https://cdn.github.com/img/1.png\">\n+<img src=\"https://cdn.github.com/img/1.png\" />\n ```\n \n 提示：这个配置可以结合负载均衡等场景使用。\n@@ -101,13 +101,13 @@ Artalk.init({\n     const form = new FormData()\n     form.set('file', file)\n \n-    const imgUrl = await fetch(\"https://api.example.org/upload\", {\n+    const imgUrl = await fetch('https://api.example.org/upload', {\n       method: 'POST',\n-      body: form\n+      body: form,\n     })\n \n     return imgUrl\n-  }\n+  },\n })\n ```\n "
    },
    {
      "sha": "73c9903f70228c39862f1dab215d67b665665ba9",
      "filename": "docs/docs/guide/backend/moderator.md",
      "status": "modified",
      "additions": 21,
      "deletions": 21,
      "changes": 42,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fmoderator.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fmoderator.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fmoderator.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -12,29 +12,29 @@ Artalk 支持多种评论过滤方式以拦截垃圾评论，支持通过 Akisme\n # 评论审核\n moderator:\n   pending_default: false # 发表新评论默认为 “待审状态”\n-  api_fail_block: false  # 垃圾检测 API 请求错误仍然拦截\n+  api_fail_block: false # 垃圾检测 API 请求错误仍然拦截\n   # akismet.com 反垃圾\n-  akismet_key: \"\"\n+  akismet_key: ''\n   # 腾讯云文本内容安全 (tms)\n   tencent: # https://cloud.tencent.com/document/product/1124/64508\n     enabled: false\n-    secret_id: \"\"\n-    secret_key: \"\"\n-    region: \"ap-guangzhou\"\n+    secret_id: ''\n+    secret_key: ''\n+    region: ap-guangzhou\n   # 阿里云内容安全\n   aliyun: # https://help.aliyun.com/document_detail/28417.html\n     enabled: false\n-    access_key_id: \"\"\n-    access_key_secret: \"\"\n-    region: \"cn-shanghai\"\n+    access_key_id: ''\n+    access_key_secret: ''\n+    region: cn-shanghai\n   # 关键词词库过滤\n   keywords:\n     enabled: false\n     pending: false # 匹配成功设为待审状态\n-    files:         # 支持多个词库文件\n-      - \"./data/词库_1.txt\"\n+    files: # 支持多个词库文件\n+      - './data/词库_1.txt'\n     file_sep: \"\\n\" # 词库文件内容分割符\n-    replac_to: \"x\" # 替换字符\n+    replac_to: 'x' # 替换字符\n ```\n \n ## 默认待审模式\n@@ -58,7 +58,7 @@ moderator:\n \n ```yaml\n moderator:\n-  akismet_key: \"your_key\"\n+  akismet_key: your_key\n ```\n \n ## 腾讯云文本内容安全\n@@ -71,9 +71,9 @@ moderator:\n moderator:\n   tencent:\n     enabled: true\n-    secret_id: \"\"\n-    secret_key: \"\"\n-    region: \"ap-guangzhou\"\n+    secret_id: ''\n+    secret_key: ''\n+    region: ap-guangzhou\n ```\n \n ## 阿里云内容安全\n@@ -86,9 +86,9 @@ moderator:\n moderator:\n   aliyun:\n     enabled: true\n-    access_key_id: \"\"\n-    access_key_secret: \"\"\n-    region: \"cn-shanghai\"\n+    access_key_id: ''\n+    access_key_secret: ''\n+    region: cn-shanghai\n ```\n \n ## 关键词词库过滤\n@@ -100,10 +100,10 @@ moderator:\n   keywords:\n     enabled: true\n     pending: false # 匹配成功设为待审状态\n-    files:         # 支持多个词库文件\n-      - \"./data/词库_1.txt\"\n+    files: # 支持多个词库文件\n+      - ./data/词库_1.txt\n     file_sep: \"\\n\" # 词库文件内容分割符\n-    replac_to: \"x\" # 替换字符\n+    replac_to: 'x' # 替换字符\n ```\n \n - **pending**：当成功匹配时，是否将评论设为待审核状态。"
    },
    {
      "sha": "3511390210aa6545e0afa143e1121f0421154834",
      "filename": "docs/docs/guide/backend/multi-site.md",
      "status": "modified",
      "additions": 11,
      "deletions": 11,
      "changes": 22,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fmulti-site.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fmulti-site.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fmulti-site.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -32,16 +32,16 @@ docker exec -it artalk artalk admin\n \n ```yaml\n admin_users:\n-  - name: \"admin\"\n-    email: \"admin@example.com\"\n-    password: \"(bcrypt)$2y$10$ti4vZYIrxVN8rLcYXVgXCO.GJND0dyI49r7IoF3xqIx8bBRmIBZRm\"\n-    badge_name: \"管理员\"\n-    badge_color: \"#0083FF\"\n-  - name: \"admin2\"\n-    email: \"admin2@example.com\"\n-    password: \"(bcrypt)$2y$10$ti4vZYIrxVN8rLcYXVgXCO.GJND0dyI49r7IoF3xqIx8bBRmIBZRm\"\n-    badge_name: \"小管理员\"\n-    badge_color: \"#0083FF\"\n+  - name: admin\n+    email: admin@example.com\n+    password: (bcrypt)$2y$10$ti4vZYIrxVN8rLcYXVgXCO.GJND0dyI49r7IoF3xqIx8bBRmIBZRm\n+    badge_name: 管理员\n+    badge_color: '#0083FF'\n+  - name: admin2\n+    email: admin2@example.com\n+    password: (bcrypt)$2y$10$ti4vZYIrxVN8rLcYXVgXCO.GJND0dyI49r7IoF3xqIx8bBRmIBZRm\n+    badge_name: 小管理员\n+    badge_color: '#0083FF'\n ```\n \n 每项配置的解释：\n@@ -77,6 +77,6 @@ admin_users:\n \n ```yaml\n admin_users:\n-  - name: \"admin\"\n+  - name: admin\n     receive_email: false # ← 强制不接收邮件\n ```"
    },
    {
      "sha": "583e8ba45c172b6e1415c98e983ebefb9983b129",
      "filename": "docs/docs/guide/backend/notify.md",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fnotify.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Fnotify.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Fnotify.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,13 +9,12 @@ Artalk v2.1.8+ 配置项：\n # 管理员多元推送\n admin_notify:\n   # 通知模版\n-  notify_tpl: \"default\"\n+  notify_tpl: default\n   noise_mode: false\n   # 邮件通知管理员\n   email:\n     enabled: true # 当使用其他推送方式时，可以关闭管理员邮件通知\n-    mail_subject: \"[{{site_name}}] 您的文章「{{page_title}}」有新回复\"\n+    mail_subject: '[{{site_name}}] 您的文章「{{page_title}}」有新回复'\n ```\n \n-\n 请参考新文档：[多元推送](./admin_notify.md)"
    },
    {
      "sha": "8edaf269c0d0d54f0aa14f9fc5b4a7ad59cac729",
      "filename": "docs/docs/guide/backend/relative-path.md",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Frelative-path.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Frelative-path.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Frelative-path.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,8 +4,8 @@ Artalk 支持解析相对路径，因此你可以在前端页面进行如下配\n \n ```js\n Artalk.init({\n-  site: \"举个栗子站点\", // 你的站点名\n-  pageKey: \"/relative-path/xx.html\", // 使用相对路径\n+  site: '举个栗子站点', // 你的站点名\n+  pageKey: '/relative-path/xx.html', // 使用相对路径\n })\n ```\n \n@@ -23,7 +23,7 @@ Artalk.init({\n \"https://设定的举个栗子站点URL.xxx/relative-path/xx.html\"\n ```\n \n-### 解析后的 URL 用途\n+## 解析后的 URL 用途\n \n 站点 URL + 页面 相对路径 将用于：\n \n@@ -32,21 +32,21 @@ Artalk.init({\n - **控制中心**页面管理打开页面\n - **获取页面标题**等信息时使用\n \n-### 配置多个站点 URL 的情况\n+## 配置多个站点 URL 的情况\n \n 你可能需要配置站点的多个 URL 来允许 Referer 和跨域。\n \n 「[控制中心](../frontend/sidebar.md#控制中心)」-「站点」修改站点 URL 支持为站点添加多个 URL，用英文逗号 `,` 分隔开每个 URL 即可。\n \n **当站点存在多个 URL 时**，「相对路径」会基于多个 URL 中的「**第一个**」URL。\n \n-### 使用绝对路径的情况\n+## 使用绝对路径的情况\n \n 区别于使用相对路径，你可以使用绝对路径，例如前端这样配置：\n \n ```js\n Artalk.init({\n-  pageKey: \"https://your_domain.com/relative-path/xx.html\", // 使用绝对路径\n+  pageKey: 'https://your_domain.com/relative-path/xx.html', // 使用绝对路径\n })\n ```\n "
    },
    {
      "sha": "bcdf6d00328f29de52e71a318f04aae8a70c8b09",
      "filename": "docs/docs/guide/backend/reverse-proxy.md",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Freverse-proxy.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fbackend%2Freverse-proxy.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fbackend%2Freverse-proxy.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -76,7 +76,7 @@ sudo systemctl restart nginx\n 配置前端：\n \n ```js\n-Artalk.init({ server: \"http://artalk.your_domain.com\" })\n+Artalk.init({ server: 'http://artalk.your_domain.com' })\n ```\n \n ::: tip\n@@ -118,4 +118,3 @@ Artalk.init({ server: \"http://artalk.your_domain.com\" })\n 打开「反向代理」选项卡，点击「添加反向代理」，「目标 URL」填写 `http://localhost:端口号`（端口号与 Artalk 端口对应），「发送域名」填写 `$host`，如图：\n \n ![](/images/baota-proxy/2.png)\n-"
    },
    {
      "sha": "2906be6d5427eb5ddf13da55b979720c3046195f",
      "filename": "docs/docs/guide/deploy.md",
      "status": "modified",
      "additions": 26,
      "deletions": 23,
      "changes": 49,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fdeploy.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fdeploy.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fdeploy.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -27,25 +27,28 @@ docker exec -it artalk artalk admin\n \n > 注：将 `http://your_domain:8080` 改为你的服务器域名，或使用 [公共 CDN 资源](#cdn-资源)。\n \n+<!-- prettier-ignore-start -->\n+\n ```html\n <!-- CSS -->\n-<link href=\"http://your_domain:8080/dist/Artalk.css\" rel=\"stylesheet\">\n+<link href=\"http://your_domain:8080/dist/Artalk.css\" rel=\"stylesheet\" />\n \n <!-- JS -->\n <script src=\"http://your_domain:8080/dist/Artalk.js\"></script>\n \n <!-- Artalk -->\n <div id=\"Comments\"></div>\n <script>\n-Artalk.init({\n+  Artalk.init({\n   el:        '#Comments',                // 绑定元素的 Selector\n   pageKey:   '/post/1',                  // 固定链接 (留空自动获取)\n   pageTitle: '关于引入 Artalk 的这档子事',  // 页面标题 (留空自动获取)\n   server:    'http://your_domain:8080',  // 后端地址\n   site:      'Artalk 的博客',             // 你的站点名\n-})\n+  })\n </script>\n ```\n+<!-- prettier-ignore-end -->\n \n 在评论框输入管理员的用户名和邮箱，控制台入口按钮将出现在评论框右下角位置。\n \n@@ -60,9 +63,9 @@ Artalk.init({\n 3. 运行程序 `./artalk server`\n 4. 前端配置\n \n-    ```js\n-    Artalk.init({ server: \"http://your_domain:23366\" })\n-    ```\n+   ```js\n+   Artalk.init({ server: 'http://your_domain:23366' })\n+   ```\n \n **进一步操作：**\n \n@@ -76,7 +79,7 @@ Artalk.init({\n **compose.yaml**\n \n ```yaml\n-version: \"3.5\"\n+version: '3.5'\n services:\n   artalk:\n     container_name: artalk\n@@ -123,47 +126,47 @@ Artalk 静态资源通过上游 CDNJS 分发，以下镜像资源可供选择：\n \n **CDNJS**\n \n-> https://cdnjs.cloudflare.com/ajax/libs/artalk/:ArtalkVersion:/Artalk.js\n+> <https://cdnjs.cloudflare.com/ajax/libs/artalk/:ArtalkVersion:/Artalk.js>\n >\n-> https://cdnjs.cloudflare.com/ajax/libs/artalk/:ArtalkVersion:/Artalk.css\n+> <https://cdnjs.cloudflare.com/ajax/libs/artalk/:ArtalkVersion:/Artalk.css>\n \n **SUSTech Mirrors (境内)**\n \n-> https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/artalk/:ArtalkVersion:/Artalk.js\n+> <https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/artalk/:ArtalkVersion:/Artalk.js>\n >\n-> https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/artalk/:ArtalkVersion:/Artalk.css\n+> <https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/artalk/:ArtalkVersion:/Artalk.css>\n \n ::: details 查看更多\n \n **Staticfile CDN (境内)**\n \n-> https://cdn.staticfile.org/artalk/:ArtalkVersion:/Artalk.js\n+> <https://cdn.staticfile.org/artalk/:ArtalkVersion:/Artalk.js>\n >\n-> https://cdn.staticfile.org/artalk/:ArtalkVersion:/Artalk.css\n+> <https://cdn.staticfile.org/artalk/:ArtalkVersion:/Artalk.css>\n \n **BootCDN (境内)**\n \n-> https://cdn.bootcdn.net/ajax/libs/artalk/:ArtalkVersion:/Artalk.js\n+> <https://cdn.bootcdn.net/ajax/libs/artalk/:ArtalkVersion:/Artalk.js>\n >\n-> https://cdn.bootcdn.net/ajax/libs/artalk/:ArtalkVersion:/Artalk.css\n+> <https://cdn.bootcdn.net/ajax/libs/artalk/:ArtalkVersion:/Artalk.css>\n \n **75CDN (境内)**\n \n-> https://lib.baomitu.com/artalk/:ArtalkVersion:/Artalk.js\n+> <https://lib.baomitu.com/artalk/:ArtalkVersion:/Artalk.js>\n >\n-> https://lib.baomitu.com/artalk/:ArtalkVersion:/Artalk.css\n+> <https://lib.baomitu.com/artalk/:ArtalkVersion:/Artalk.css>\n \n **UNPKG**\n \n-> https://unpkg.com/artalk@:ArtalkVersion:/dist/Artalk.js\n-> \n-> https://unpkg.com/artalk@:ArtalkVersion:/dist/Artalk.css\n+> <https://unpkg.com/artalk@:ArtalkVersion:/dist/Artalk.js>\n+>\n+> <https://unpkg.com/artalk@:ArtalkVersion:/dist/Artalk.css>\n \n **JS DELIVR**\n \n-> https://cdn.jsdelivr.net/npm/artalk@:ArtalkVersion:/dist/Artalk.js\n-> \n-> https://cdn.jsdelivr.net/npm/artalk@:ArtalkVersion:/dist/Artalk.css\n+> <https://cdn.jsdelivr.net/npm/artalk@:ArtalkVersion:/dist/Artalk.js>\n+>\n+> <https://cdn.jsdelivr.net/npm/artalk@:ArtalkVersion:/dist/Artalk.css>\n \n :::\n "
    },
    {
      "sha": "ae807ca0886566ada0e7bd554ec08c5cd497471e",
      "filename": "docs/docs/guide/describe.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fdescribe.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fdescribe.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fdescribe.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,14 +4,14 @@\n 目前文档仍在陆续完善中\n :::\n \n-\n ## 控制台（管理后台）\n \n 面向管理员用户，我们提供了 “控制台” 功能，通过控制台，你能对数据内容进行统一管理。\n \n ### 如何呼出控制台\n \n 控制台被集成到评论页中，您仅需：\n+\n 1. 在评论框输入管理员的名字与邮箱\n 2. 密码验证框自动弹出，输入正确密码\n 3. 控制台按钮将会在评论框右下角显示"
    },
    {
      "sha": "c8e6d2e4acd92211eff44482c9f545d35686f5d8",
      "filename": "docs/docs/guide/extras.md",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fextras.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fextras.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fextras.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -34,7 +34,6 @@ Artalk v1 版本基于 [PHP 后端](https://github.com/ArtalkJS/ArtalkPHP)，部\n - [Hexo 添加 Artalk 评论教程 - 我相信我可以](https://butterfly.imlete.cn/article/Hexo-Artalk.html)\n - [基于 Butterfly 主题添加 Artalk 评论系统 - 卓越科技的 Blog](https://blog.imzykj.cn/posts/93afb348/)\n \n-\n ## 衍生品\n \n - [Artalk：一款 ~~简洁~~ 有趣的自托管评论系统 (By monsterxcn)](https://github.com/monsterxcn/Artalk)"
    },
    {
      "sha": "8708e74a44bb8dd69c3610f1fb3075afc2be4446",
      "filename": "docs/docs/guide/frontend/config.md",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fconfig.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fconfig.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Fconfig.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -218,7 +218,7 @@ artalk.setDarkMode(true)\n \n ### pvEl\n \n-**页面浏览量 (PV) 绑定元素** \n+**页面浏览量 (PV) 绑定元素**\n \n - 类型：`String`\n - 默认值：`\"#ArtalkPV\"`\n@@ -231,7 +231,7 @@ artalk.setDarkMode(true)\n \n ### countEl\n \n-**评论数绑定元素** \n+**评论数绑定元素**\n \n - 类型：`String`\n - 默认值：`\"#ArtalkCount\"`\n@@ -304,13 +304,13 @@ Artalk.init({\n     const form = new FormData()\n     form.set('file', file)\n \n-    const imgUrl = await fetch(\"https://api.example.org/upload\", {\n+    const imgUrl = await fetch('https://api.example.org/upload', {\n       method: 'POST',\n-      body: form\n+      body: form,\n     })\n \n     return imgUrl\n-  }\n+  },\n })\n ```\n \n@@ -383,7 +383,7 @@ v2.5.5 已废弃 `gravatar.default` 配置项，请使用 `gravatar.params` 替\n Artalk.init({\n   avatarURLBuilder: (comment) => {\n     return `/api/avatar?email=${comment.email_encrypted}`\n-  }\n+  },\n })\n ```\n "
    },
    {
      "sha": "1032a5d19dd59df597d9a30b1531d7dd0e66fd73",
      "filename": "docs/docs/guide/frontend/emoticons.md",
      "status": "modified",
      "additions": 71,
      "deletions": 66,
      "changes": 137,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Femoticons.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Femoticons.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Femoticons.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,7 +4,7 @@\n \n ```yaml\n frontend:\n-  emoticons: \"https://raw.githubusercontent.com/ArtalkJS/Emoticons/master/grps/default.json\"\n+  emoticons: https://raw.githubusercontent.com/ArtalkJS/Emoticons/master/grps/default.json\n ```\n \n ## 表情包预设\n@@ -21,7 +21,7 @@ Artalk 的表情包功能借鉴了其优秀的设计，并且 Artalk 原生适\n \n ```yaml\n frontend:\n-  emoticons: \"https://raw.githubusercontent.com/DIYgod/OwO/master/demo/OwO.json\"\n+  emoticons: https://raw.githubusercontent.com/DIYgod/OwO/master/demo/OwO.json\n   # 直接食用 OwO 格式的表情包 ↑↑\n ```\n \n@@ -32,25 +32,28 @@ frontend:\n Artalk 除了支持 OwO 格式外，还内置支持一种标准的表情包列表文件格式：\n \n ```js\n-[{\n-    \"name\": \"颜表情\",\n-    \"type\": \"emoticon\", // 字符类型\n-    \"items\": [\n-        { \"key\": \"Hi\", \"val\": \"|´・ω・)ノ\" },\n-        { \"key\": \"开心\", \"val\": \"ヾ(≧∇≦*)ゝ\" },\n-        //...\n-    ]\n-}, {\n-    \"name\": \"滑稽\",\n-    \"type\": \"image\", // 图片类型\n-    \"items\": [\n-        {\n-            \"key\": \"原味稽\",\n-            \"val\": \"<图片 URL>\"\n-        },\n-        //...\n-    ]\n-}]\n+;[\n+  {\n+    name: '颜表情',\n+    type: 'emoticon', // 字符类型\n+    items: [\n+      { key: 'Hi', val: '|´・ω・)ノ' },\n+      { key: '开心', val: 'ヾ(≧∇≦*)ゝ' },\n+      //...\n+    ],\n+  },\n+  {\n+    name: '滑稽',\n+    type: 'image', // 图片类型\n+    items: [\n+      {\n+        key: '原味稽',\n+        val: '<图片 URL>',\n+      },\n+      //...\n+    ],\n+  },\n+]\n ```\n \n ## 前端配置\n@@ -65,8 +68,9 @@ Artalk 除了支持 OwO 格式外，还内置支持一种标准的表情包列\n \n ```js\n Artalk.init({\n-    // 默认表情包列表，动态引入 ↓↓\n-    emoticons: \"https://raw.githubusercontent.com/ArtalkJS/Emoticons/master/grps/default.json\",\n+  // 默认表情包列表，动态引入 ↓↓\n+  emoticons:\n+    'https://raw.githubusercontent.com/ArtalkJS/Emoticons/master/grps/default.json',\n })\n ```\n \n@@ -76,11 +80,10 @@ Artalk.init({\n \n ```js\n Artalk.init({\n-    emoticons: false\n+  emoticons: false,\n })\n ```\n \n-\n ## 加载方式\n \n ### 动态加载\n@@ -89,7 +92,7 @@ Artalk.init({\n \n ```js\n Artalk.init({\n-    emoticons: \"<表情包数据文件 URL>\",\n+  emoticons: '<表情包数据文件 URL>',\n })\n ```\n \n@@ -101,25 +104,28 @@ Artalk.init({\n \n ```js\n Artalk.init({\n-    emoticons: [{\n-        \"name\": \"颜表情\",\n-        \"type\": \"emoticon\", // 字符类型\n-        \"items\": [\n-            { \"key\": \"Hi\", \"val\": \"|´・ω・)ノ\" },\n-            { \"key\": \"开心\", \"val\": \"ヾ(≧∇≦*)ゝ\" },\n-            //...\n-        ]\n-    }, {\n-        \"name\": \"滑稽\",\n-        \"type\": \"image\", // 图片类型\n-        \"items\": [\n-            {\n-                \"key\": \"原味稽\",\n-                \"val\": \"<图片 URL>\"\n-            },\n-            //...\n-        ]\n-    }],\n+  emoticons: [\n+    {\n+      name: '颜表情',\n+      type: 'emoticon', // 字符类型\n+      items: [\n+        { key: 'Hi', val: '|´・ω・)ノ' },\n+        { key: '开心', val: 'ヾ(≧∇≦*)ゝ' },\n+        //...\n+      ],\n+    },\n+    {\n+      name: '滑稽',\n+      type: 'image', // 图片类型\n+      items: [\n+        {\n+          key: '原味稽',\n+          val: '<图片 URL>',\n+        },\n+        //...\n+      ],\n+    },\n+  ],\n })\n ```\n \n@@ -129,20 +135,20 @@ Artalk 支持 **动态**、**静态** 混合加载，例如：\n \n ```js\n Artalk.init({\n-    emoticons: [\n-        // 动态加载\n-        \"https://raw.githubusercontent.com/DIYgod/OwO/master/demo/OwO.json\", // OwO 格式表情包\n-        \"https://raw.githubusercontent.com/qwqcode/huaji/master/huaji.json\",\n-        // 静态加载\n-        {\n-            \"name\": \"表情包名字\",\n-            \"type\": \"emoticon\", // 字符类型\n-            \"items\": [\n-                { \"key\": \"去吧大师球\", \"val\": \"(╯°A°)╯︵○○○\" },\n-                //...\n-            ]\n-        }\n-    ]\n+  emoticons: [\n+    // 动态加载\n+    'https://raw.githubusercontent.com/DIYgod/OwO/master/demo/OwO.json', // OwO 格式表情包\n+    'https://raw.githubusercontent.com/qwqcode/huaji/master/huaji.json',\n+    // 静态加载\n+    {\n+      name: '表情包名字',\n+      type: 'emoticon', // 字符类型\n+      items: [\n+        { key: '去吧大师球', val: '(╯°A°)╯︵○○○' },\n+        //...\n+      ],\n+    },\n+  ],\n })\n ```\n \n@@ -152,20 +158,19 @@ Artalk 支持远程表情包资源中**嵌套引入**另外的表情包资源，\n \n ```js\n Artalk.init({\n-    emoticons: [\n-        \"https://example.org/表情包.json\"\n-    ]\n+  emoticons: ['https://example.org/表情包.json'],\n })\n ```\n \n 文件 `表情包.json` 中的数据：\n \n ```json\n [\n-    \"https://example.org/其他表情包.json\",\n+  \"https://example.org/其他表情包.json\",\n+  //...\n+  {\n+    // Artalk 格式、OwO 格式\n     //...\n-    { // Artalk 格式、OwO 格式\n-        //...\n-    }\n+  }\n ]\n ```"
    },
    {
      "sha": "9f4b05617299e59fb67d4c29ce149a86f5a756ae",
      "filename": "docs/docs/guide/frontend/i18n.md",
      "status": "modified",
      "additions": 10,
      "deletions": 10,
      "changes": 20,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fi18n.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fi18n.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Fi18n.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,7 +3,7 @@\n 在配置文件 `artalk.yml` 中设置：\n \n ```yaml\n-locale: \"zh-CN\"\n+locale: zh-CN\n ```\n \n locale 配置项格式遵循 Unicode BCP 47 规范，默认为 \"zh-CN\" (简体中文)。\n@@ -19,12 +19,12 @@ locale 配置项格式遵循 Unicode BCP 47 规范，默认为 \"zh-CN\" (简体\n \n 欢迎提交 PR 帮助翻译 Artalk 的多语言，为社区贡献一份力量！\n \n-|翻译内容|语言文件目录|模板文件|\n-|-|-|-|\n-|后端程序|[/i18n/[LANG].yml](https://github.com/ArtalkJS/Artalk/tree/master/i18n)|[zh-CN.yml](https://github.com/ArtalkJS/Artalk/blob/master/i18n/zh-CN.yml)|\n-|前端界面|[/ui/artalk/src/i18n/[LANG].ts](https://github.com/ArtalkJS/Artalk/tree/master/ui/artalk/src/i18n)|[zh-CN.ts](https://github.com/ArtalkJS/Artalk/blob/master/ui/artalk/src/i18n/zh-CN.ts)|\n-|配置文件|[/conf/artalk.example.[LANG].yml](https://github.com/ArtalkJS/Artalk/tree/master/conf)|[artalk.example.zh-CN.yml](https://github.com/ArtalkJS/Artalk/blob/master/conf/artalk.example.zh-CN.yml)\n-|说明文档|[/docs/[LANG]/**\\/*.md](https://github.com/ArtalkJS/Artalk/tree/master/docs)|[/docs/**\\/*.md](https://github.com/ArtalkJS/Artalk/tree/master/docs)\n+| 翻译内容 | 语言文件目录                                                                                       | 模板文件                                                                                                 |\n+| -------- | -------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |\n+| 后端程序 | [/i18n/[LANG].yml](https://github.com/ArtalkJS/Artalk/tree/master/i18n)                            | [zh-CN.yml](https://github.com/ArtalkJS/Artalk/blob/master/i18n/zh-CN.yml)                               |\n+| 前端界面 | [/ui/artalk/src/i18n/[LANG].ts](https://github.com/ArtalkJS/Artalk/tree/master/ui/artalk/src/i18n) | [zh-CN.ts](https://github.com/ArtalkJS/Artalk/blob/master/ui/artalk/src/i18n/zh-CN.ts)                   |\n+| 配置文件 | [/conf/artalk.example.[LANG].yml](https://github.com/ArtalkJS/Artalk/tree/master/conf)             | [artalk.example.zh-CN.yml](https://github.com/ArtalkJS/Artalk/blob/master/conf/artalk.example.zh-CN.yml) |\n+| 说明文档 | [/docs/[LANG]/\\*_\\/_.md](https://github.com/ArtalkJS/Artalk/tree/master/docs)                      | [/docs/\\*_\\/_.md](https://github.com/ArtalkJS/Artalk/tree/master/docs)                                   |\n \n 更多参考：[开发文档](../../develop/index.md) / [CONTRIBUTING.md](https://github.com/ArtalkJS/Artalk/blob/master/CONTRIBUTING.md#translation)\n \n@@ -36,7 +36,7 @@ locale 配置项格式遵循 Unicode BCP 47 规范，默认为 \"zh-CN\" (简体\n \n ```js\n Artalk.init({\n-  locale: 'en-US'\n+  locale: 'en-US',\n })\n ```\n \n@@ -46,7 +46,7 @@ Artalk.init({\n \n ```js\n Artalk.init({\n-  locale: \"auto\"\n+  locale: 'auto',\n })\n ```\n \n@@ -59,6 +59,6 @@ Artalk.init({\n   locale: {\n     email: 'Eメール',\n     //...\n-  }\n+  },\n })\n ```"
    },
    {
      "sha": "758f73f05ac481f3d82a9e379485ba356cda1b0a",
      "filename": "docs/docs/guide/frontend/import-blog.md",
      "status": "modified",
      "additions": 12,
      "deletions": 13,
      "changes": 25,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fimport-blog.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fimport-blog.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Fimport-blog.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,31 +13,33 @@\n \n 创建模板文件 `/主题目录/layouts/partials/comment/artalk.html`：\n \n+<!-- prettier-ignore-start -->\n+\n ```html\n-<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\">\n+<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\" />\n <script src=\"/lib/artalk/Artalk.js\"></script>\n \n <!-- Artalk -->\n <div id=\"Comments\"></div>\n \n <script>\n   Artalk.init({\n-    el:        '#Comments',\n-    pageKey:   '{{ .Permalink }}',\n+    el: '#Comments',\n+    pageKey: '{{ .Permalink }}',\n     pageTitle: '{{ .Title }}',\n-    server:    '{{ $.Site.Params.artalk.server }}',\n-    site:      '{{ $.Site.Params.artalk.site }}',\n+    server: '{{ $.Site.Params.artalk.server }}',\n+    site: '{{ $.Site.Params.artalk.site }}',\n     // ...你的其他配置\n   })\n </script>\n ```\n \n+<!-- prettier-ignore-end -->\n+\n 文章页模板 `/主题目录/layouts/_default/single.html` 合适的位置添加：\n \n ```html\n-<div class=\"article-comments\">\n-  {{- partial \"comment/artalk\" . -}}\n-</div>\n+<div class=\"article-comments\">{{- partial \"comment/artalk\" . -}}</div>\n ```\n \n 修改 Hugo 配置文件：\n@@ -50,7 +52,6 @@ server = 'https://artalk.example.org'\n site = '你的站点名'\n ```\n \n-\n ```yaml [config.yaml]\n params:\n   artalk:\n@@ -65,7 +66,7 @@ params:\n 创建 `/主题目录/layout/comment/artalk.ejs`：\n \n ```html\n-<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\">\n+<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\" />\n <script src=\"/lib/artalk/Artalk.js\"></script>\n \n <div id=\"Comments\"></div>\n@@ -84,9 +85,7 @@ params:\n 修改文章模板文件，例如 `/主题目录/layout/post.ejs`：\n \n ```html\n-<div class=\"article-comments\">\n-  <%- partial('comment/artalk') %>\n-</div>\n+<div class=\"article-comments\"><%- partial('comment/artalk') %></div>\n ```\n \n 编辑主题配置 `/主题目录/_config.example.yml`："
    },
    {
      "sha": "dbe70a9e82a5d6f4c6b57a50cb83fc65ce285136",
      "filename": "docs/docs/guide/frontend/import-framework.md",
      "status": "modified",
      "additions": 41,
      "deletions": 41,
      "changes": 82,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fimport-framework.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fimport-framework.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Fimport-framework.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,15 +13,12 @@ pnpm add artalk\n Vue 3 + TypeScript 例：\n \n ```vue\n-<template>\n-  <view ref=\"el\"></view>\n-</template>\n-\n <script lang=\"ts\" setup>\n-import { onMounted, onUnmounted, ref } from 'vue'\n+import Artalk from 'artalk'\n+import { onBeforeUnmounted, onMounted, ref } from 'vue'\n import { useRoute } from 'vue-router'\n+\n import 'artalk/dist/Artalk.css'\n-import Artalk from 'artalk'\n \n const el = ref<HTMLElement>()\n const route = useRoute()\n@@ -30,33 +27,37 @@ let artalk: Artalk\n \n onMounted(() => {\n   artalk = Artalk.init({\n-    el:        el.value,\n-    pageKey:   route.path,\n+    el: el.value,\n+    pageKey: route.path,\n     pageTitle: `${document.title}`,\n-    server:    'http://localhost:8080',\n-    site:      'Artalk 的博客',\n+    server: 'http://localhost:8080',\n+    site: 'Artalk 的博客',\n     // ...\n   })\n })\n \n-onUnmounted(() => {\n+onBeforeUnmounted(() => {\n   artalk.destroy()\n })\n </script>\n+\n+<template>\n+  <view ref=\"el\"></view>\n+</template>\n ```\n \n ## React\n \n ```tsx\n-import React, { useEffect, useRef } from 'react';\n-import { useLocation } from 'react-router-dom';\n-import 'artalk/dist/Artalk.css';\n-import Artalk from 'artalk';\n+import React, { useEffect, useRef } from 'react'\n+import { useLocation } from 'react-router-dom'\n+import 'artalk/dist/Artalk.css'\n+import Artalk from 'artalk'\n \n const ArtalkComment = () => {\n-  const el = useRef(null);\n-  const location = useLocation();\n-  let artalk = null;\n+  const el = useRef(null)\n+  const location = useLocation()\n+  let artalk = null\n \n   useEffect(() => {\n     artalk = new Artalk({\n@@ -66,19 +67,19 @@ const ArtalkComment = () => {\n       server: 'http://localhost:8080',\n       site: 'Artalk 的博客',\n       // ...\n-    });\n+    })\n \n     return () => {\n       if (artalk) {\n-        artalk.destroy();\n+        artalk.destroy()\n       }\n-    };\n-  }, [location.pathname]);\n+    }\n+  }, [location.pathname])\n \n-  return <div ref={el}></div>;\n-};\n+  return <div ref={el}></div>\n+}\n \n-export default ArtalkComment;\n+export default ArtalkComment\n ```\n \n ```jsx\n@@ -93,10 +94,10 @@ export default class Artalk extends React.Component {\n   componentDidMount() {\n     this.artalk = Artalk.init({\n       el: this.el.current,\n-      pageKey:   `${location.pathname}`,\n+      pageKey: `${location.pathname}`,\n       pageTitle: `${document.title}`,\n-      server:    'http://localhost:8080',\n-      site:      'Artalk 的博客',\n+      server: 'http://localhost:8080',\n+      site: 'Artalk 的博客',\n       // ...\n     })\n   }\n@@ -106,9 +107,7 @@ export default class Artalk extends React.Component {\n   }\n \n   render() {\n-    return (\n-      <div ref={this.el} />\n-    )\n+    return <div ref={this.el} />\n   }\n }\n ```\n@@ -117,12 +116,13 @@ export default class Artalk extends React.Component {\n \n ```html\n <script>\n-  import { onMount, onDestroy } from 'svelte';\n-  import 'artalk/dist/Artalk.css';\n-  import Artalk from 'artalk';\n+  import Artalk from 'artalk'\n+  import { onMount, onDestroy } from 'svelte'\n+\n+  import 'artalk/dist/Artalk.css'\n \n-  let el;\n-  let artalk;\n+  let el\n+  let artalk\n \n   onMount(() => {\n     artalk = Artalk.init({\n@@ -132,15 +132,15 @@ export default class Artalk extends React.Component {\n       server: 'http://localhost:8080',\n       site: 'Artalk 的博客',\n       // ...\n-    });\n+    })\n \n     onDestroy(() => {\n       if (artalk) {\n-        artalk.destroy();\n+        artalk.destroy()\n       }\n-    });\n-  });\n+    })\n+  })\n </script>\n \n-<div bind:this={el}></div>\n+<div bind:this=\"{el}\"></div>\n ```"
    },
    {
      "sha": "e58b01402e75316ee8da04101242783ae12faded",
      "filename": "docs/docs/guide/frontend/ip-region.md",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fip-region.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fip-region.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Fip-region.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,19 +8,19 @@ Artalk 内置用户 IP 属地展示功能，并且你可以设置显示的精度\n \n 在开启 IP 属地展示功能之前，你需要下载一个数据库文件：\n \n- - [GitHub 下载](https://github.com/lionsoul2014/ip2region/raw/master/data/ip2region.xdb) / [镜像站下载](https://gh-proxy.com/?q=https%3A%2F%2Fgithub.com%2Flionsoul2014%2Fip2region%2Fblob%2Fmaster%2Fdata%2Fip2region.xdb) (境内推荐)\n+- [GitHub 下载](https://github.com/lionsoul2014/ip2region/raw/master/data/ip2region.xdb) / [镜像站下载](https://gh-proxy.com/?q=https%3A%2F%2Fgithub.com%2Flionsoul2014%2Fip2region%2Fblob%2Fmaster%2Fdata%2Fip2region.xdb) (境内推荐)\n \n 下载后请手动放置到 `./data/` 目录下，文件命名为：`ip2region.xdb`\n \n ## 精度设置\n \n 你可在设置中找到该配置项。\n \n-|显示精度|描述|示例|\n-|-|-|-|\n-|`province`|精确到省（默认）|`四川`|\n-|`city`|精确到城市|`浙江杭州`|\n-|`country`|精确到国家、地区|`美国`|\n+| 显示精度   | 描述             | 示例       |\n+| ---------- | ---------------- | ---------- |\n+| `province` | 精确到省（默认） | `四川`     |\n+| `city`     | 精确到城市       | `浙江杭州` |\n+| `country`  | 精确到国家、地区 | `美国`     |\n \n 配置文件：\n \n@@ -30,9 +30,9 @@ ip_region:\n   # 启用 IP 属地展示\n   enabled: false\n   # 数据文件路径 (.xdb 格式)\n-  db_path: \"./data/ip2region.xdb\"\n+  db_path: ./data/ip2region.xdb\n   # 显示精度 [\"province\", \"city\", \"country\"]\n-  precision: \"province\"\n+  precision: province\n ```\n \n ## 隐私权"
    },
    {
      "sha": "597950b0abe081a0a8c81097513be00aa653d989",
      "filename": "docs/docs/guide/frontend/latex.md",
      "status": "modified",
      "additions": 7,
      "deletions": 5,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Flatex.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Flatex.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Flatex.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,11 +4,14 @@\n \n ```html\n <!-- 1. 引入 Katex -->\n-<link rel=\"stylesheet\" href=\"https://unpkg.com/katex@0.15.3/dist/katex.min.css\">\n+<link\n+  rel=\"stylesheet\"\n+  href=\"https://unpkg.com/katex@0.15.3/dist/katex.min.css\"\n+/>\n <script defer src=\"https://unpkg.com/katex@0.15.3/dist/katex.min.js\"></script>\n \n <!-- 2. 引入 Artalk -->\n-<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\">\n+<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\" />\n <script src=\"/lib/artalk/Artalk.js\"></script>\n \n <!-- 3. 引入 Artalk Katex 插件 -->\n@@ -17,11 +20,10 @@\n \n 之后，你可以回复：\n \n-```\n-$$ P(A) = \\sum P(\\{ (e_1,...,e_N) \\})  =  {{N}\\choose{k}} \\cdot p^kq^{N-k} $$\n+```md\n+$$ P(A) = \\sum P(\\{ (e_1,...,e_N) \\}) = {{N}\\choose{k}} \\cdot p^kq^{N-k} $$\n ```\n \n 查看效果：\n \n ![](/images/latex-support/1.png)\n-"
    },
    {
      "sha": "86ea9b0f2463d2607a46d01f266cba933ab73955",
      "filename": "docs/docs/guide/frontend/lightbox.md",
      "status": "modified",
      "additions": 19,
      "deletions": 13,
      "changes": 32,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Flightbox.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Flightbox.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Flightbox.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,7 +7,7 @@ Artalk LightBox 插件能帮助你将网站**现有的图片灯箱**功能自动\n <script src=\"lightgallery.js\"></script>\n \n <!-- 2. 引入 Artalk -->\n-<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\">\n+<link href=\"/lib/artalk/Artalk.css\" rel=\"stylesheet\" />\n <script src=\"/lib/artalk/Artalk.js\"></script>\n \n <!-- 3. 引入 Artalk LightBox 插件 -->\n@@ -26,17 +26,23 @@ Artalk LightBox 插件能帮助你将网站**现有的图片灯箱**功能自动\n \n #### LightGallery\n \n-  ```html\n-  <link rel=\"stylesheet\" href=\"https://unpkg.com/lightgallery@2.5.0/css/lightgallery.css\">\n-  <script src=\"https://unpkg.com/lightgallery@2.5.0/lightgallery.min.js\"></script>\n-  ```\n+```html\n+<link\n+  rel=\"stylesheet\"\n+  href=\"https://unpkg.com/lightgallery@2.5.0/css/lightgallery.css\"\n+/>\n+<script src=\"https://unpkg.com/lightgallery@2.5.0/lightgallery.min.js\"></script>\n+```\n \n #### FancyBox\n \n-  ```html\n-  <link rel=\"stylesheet\" href=\"https://unpkg.com/@fancyapps/ui@4.0.27/dist/fancybox.css\">\n-  <script src=\"https://unpkg.com/@fancyapps/ui@4.0.27/dist/fancybox.umd.js\"></script>\n-  ```\n+```html\n+<link\n+  rel=\"stylesheet\"\n+  href=\"https://unpkg.com/@fancyapps/ui@4.0.27/dist/fancybox.css\"\n+/>\n+<script src=\"https://unpkg.com/@fancyapps/ui@4.0.27/dist/fancybox.umd.js\"></script>\n+```\n \n :::\n \n@@ -46,10 +52,10 @@ Artalk LightBox 插件能帮助你将网站**现有的图片灯箱**功能自动\n \n ```html\n <script>\n-window.ATK_LIGHTBOX_CONF = {\n-  groupAll: true,\n-  // ...其他配置\n-}\n+  window.ATK_LIGHTBOX_CONF = {\n+    groupAll: true,\n+    // ...其他配置\n+  }\n </script>\n <script src=\"artalk-plugin-lightbox.js\"></script>\n ```"
    },
    {
      "sha": "575a9cb5da4e7ab8b14b5620ec0a683d1cd8d01c",
      "filename": "docs/docs/guide/frontend/pv.md",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fpv.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ffrontend%2Fpv.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ffrontend%2Fpv.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -28,16 +28,20 @@ Artalk.init({\n \n 在非评论页，无需调用 `Artalk.init` 加载评论框 (会使页面浏览量 PV 数增加)，仅调用 `loadCountWidget` 静态方法即可：\n \n+<!-- prettier-ignore-start -->\n+\n \n ```js\n Artalk.loadCountWidget({\n-  server:  '服务器地址',\n-  site:    '站点名',\n-  pvEl:    '#ArtalkPV',\n+  server: '服务器地址',\n+  site: '站点名',\n+  pvEl: '#ArtalkPV',\n   countEl: '#ArtalkCount',\n-});\n+})\n ```\n \n+<!-- prettier-ignore-end -->\n+\n 然后你可以放置多个 `#ArtalkPV` 元素，通过属性 `data-page-key` 来指定需要查询的页面：\n \n ```html"
    },
    {
      "sha": "e61c81792aadc022b6a89e122773da20e0fd2485",
      "filename": "docs/docs/guide/intro.md",
      "status": "modified",
      "additions": 27,
      "deletions": 27,
      "changes": 54,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fintro.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Fintro.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Fintro.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,33 +8,33 @@\n \n ## 功能亮点\n \n- - **轻量设计**\n+- **轻量设计**\n \n-   前端采用 TypeScript (Vanilla JS)，轻量级，无冗余依赖，仅 ~30KB (gzipped)。\n+  前端采用 TypeScript (Vanilla JS)，轻量级，无冗余依赖，仅 ~30KB (gzipped)。\n \n-   后端采用 Golang 重制 (Artalk v2)，跨平台，体积小巧，五脏俱全，快速部署。\n+  后端采用 Golang 重制 (Artalk v2)，跨平台，体积小巧，五脏俱全，快速部署。\n \n- - **“麻雀虽小，五脏俱全”**\n-   \n-   - Markdown 语法 + 代码高亮\n-   - [通知中心](./frontend/sidebar.md) - 站内：侧边栏 + 红点标记\n-   - [多形式推送](./backend/admin_notify.md) - 站外：邮件、TG、钉钉、飞书 + 异步执行\n-   - [评论审核](./backend/moderator.md)：折叠 / 反垃圾 / 频率限制 / 滑动验证\n-   - [多站点](./backend/multi-site.md)：共用同一个后端程序，多站点集中化管理\n-   - [表情包](./frontend/emoticons.md)：支持 OwO 格式 + 动态加载\n-   - [Artrans](./transfer.md)：评论数据快速迁移 (导入 / 导出) 工具\n-   - 评论投票 / 身份徽章 / 密码验证 / 说说模式 \n-   - 评论盖楼 / 评论分页 / 滚动加载 / 实时预览\n-   - 评论排序 / 评论置顶 / 评论防丢 / 自动填充\n-   - 图片上传 / 页面管理 / 站点隔离 / 夜间模式\n+- **“麻雀虽小，五脏俱全”**\n \n-   穷举不是我们的特长，更多有趣的功能期待你来探索！\n+  - Markdown 语法 + 代码高亮\n+  - [通知中心](./frontend/sidebar.md) - 站内：侧边栏 + 红点标记\n+  - [多形式推送](./backend/admin_notify.md) - 站外：邮件、TG、钉钉、飞书 + 异步执行\n+  - [评论审核](./backend/moderator.md)：折叠 / 反垃圾 / 频率限制 / 滑动验证\n+  - [多站点](./backend/multi-site.md)：共用同一个后端程序，多站点集中化管理\n+  - [表情包](./frontend/emoticons.md)：支持 OwO 格式 + 动态加载\n+  - [Artrans](./transfer.md)：评论数据快速迁移 (导入 / 导出) 工具\n+  - 评论投票 / 身份徽章 / 密码验证 / 说说模式\n+  - 评论盖楼 / 评论分页 / 滚动加载 / 实时预览\n+  - 评论排序 / 评论置顶 / 评论防丢 / 自动填充\n+  - 图片上传 / 页面管理 / 站点隔离 / 夜间模式\n+\n+  穷举不是我们的特长，更多有趣的功能期待你来探索！\n \n - **“Unlimited Blade Works”**\n \n-   Artalk 正在持续成长，创意由你发挥，价值由你赋予！\n+  Artalk 正在持续成长，创意由你发挥，价值由你赋予！\n \n-   不论是 Vue、React、Svelte 的前端项目，还是 WordPress、Typecho、Hexo 等博客系统，都可以快速引入 Artalk，结合诸位的聪明才智，我们相信 Artalk 能够自如应对各种业务场景。\n+  不论是 Vue、React、Svelte 的前端项目，还是 WordPress、Typecho、Hexo 等博客系统，都可以快速引入 Artalk，结合诸位的聪明才智，我们相信 Artalk 能够自如应对各种业务场景。\n \n > 更多支持 / 计划的功能，详见：[README.md](https://github.com/ArtalkJS/Artalk#todos)。\n \n@@ -67,14 +67,14 @@ Artalk 社区是包容开放的社区，我们欢迎不同水平的人员帮助\n 我们作为开源精神的推崇者以及实践者，希望我们所创造的自由软件，都应该被自由的使用，自由的研究，自由的更改和自由的分享。本项目主程序使用 [MIT](https://github.com/ArtalkJS/Artalk/blob/master/LICENSE) 协议开源，文档使用 [CC](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh) 许可协议。\n ::: tip 立即为社区贡献力量？\n \n-  - 浏览开发者资料（[开发文档](../develop/index.md) / [CONTRIBUTING.md](https://github.com/ArtalkJS/Artalk/blob/master/CONTRIBUTING.md)）\n-  - 维护 Artalk 后端（代码仓库 [@ArtalkJS/Artalk:/](https://github.com/ArtalkJS/Artalk)）\n-  - 维护 Artalk 前端（代码仓库 [@ArtalkJS/Artalk:/ui](https://github.com/ArtalkJS/Artalk/tree/master/ui)）\n-  - 完善 Artalk 文档（代码仓库 [@ArtalkJS/Artalk:/docs](https://github.com/ArtalkJS/Artalk/tree/master/docs)）\n-  - 翻译 多语言 i18n（前往查看 [多语言说明](./frontend/i18n.html)）\n-  - 改进数据迁移工具（代码仓库 [@ArtalkJS/Artransfer](https://github.com/ArtalkJS/Artransfer)）\n-  - 分享你的想法创意（下方留言 / [Discussions](https://github.com/ArtalkJS/Artalk/discussions)）\n-  - 编写相关社区项目（扩展插件 / 部署教程等）\n+- 浏览开发者资料（[开发文档](../develop/index.md) / [CONTRIBUTING.md](https://github.com/ArtalkJS/Artalk/blob/master/CONTRIBUTING.md)）\n+- 维护 Artalk 后端（代码仓库 [@ArtalkJS/Artalk:/](https://github.com/ArtalkJS/Artalk)）\n+- 维护 Artalk 前端（代码仓库 [@ArtalkJS/Artalk:/ui](https://github.com/ArtalkJS/Artalk/tree/master/ui)）\n+- 完善 Artalk 文档（代码仓库 [@ArtalkJS/Artalk:/docs](https://github.com/ArtalkJS/Artalk/tree/master/docs)）\n+- 翻译 多语言 i18n（前往查看 [多语言说明](./frontend/i18n.html)）\n+- 改进数据迁移工具（代码仓库 [@ArtalkJS/Artransfer](https://github.com/ArtalkJS/Artransfer)）\n+- 分享你的想法创意（下方留言 / [Discussions](https://github.com/ArtalkJS/Artalk/discussions)）\n+- 编写相关社区项目（扩展插件 / 部署教程等）\n \n :::\n "
    },
    {
      "sha": "9bbde5a4a9d9d8258ab110899b7680ccf1e3d0c0",
      "filename": "docs/docs/guide/transfer.md",
      "status": "modified",
      "additions": 30,
      "deletions": 30,
      "changes": 60,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ftransfer.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Fguide%2Ftransfer.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fguide%2Ftransfer.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -10,28 +10,28 @@\n \n ```json\n {\n-    \"id\": \"123\", \n-    \"rid\": \"233\", \n-    \"content\": \"Hello Artalk\", \n-    \"ua\": \"Artalk/6.6\", \n-    \"ip\": \"233.233.233.233\",\n-    \"created_at\": \"2021-10-28 20:50:15 +0800 +0800\", \n-    \"updated_at\": \"2021-10-28 20:50:15 +0800 +0800\", \n-    \"is_collapsed\": \"false\", \n-    \"is_pending\": \"false\", \n-    \"vote_up\": \"666\", \n-    \"vote_down\": \"0\", \n-    \"nick\": \"qwqcode\", \n-    \"email\": \"qwqcode@github.com\", \n-    \"link\": \"https://qwqaq.com\", \n-    \"password\": \"\", \n-    \"badge_name\": \"管理员\", \n-    \"badge_color\": \"#FF716D\", \n-    \"page_key\": \"https://artalk.js.org/guide/transfer.html\", \n-    \"page_title\": \"数据迁移\", \n-    \"page_admin_only\": \"false\", \n-    \"site_name\": \"Artalk\",\n-    \"site_urls\": \"http://localhost:3000/demo/,https://artalk.js.org\"\n+  \"id\": \"123\",\n+  \"rid\": \"233\",\n+  \"content\": \"Hello Artalk\",\n+  \"ua\": \"Artalk/6.6\",\n+  \"ip\": \"233.233.233.233\",\n+  \"created_at\": \"2021-10-28 20:50:15 +0800 +0800\",\n+  \"updated_at\": \"2021-10-28 20:50:15 +0800 +0800\",\n+  \"is_collapsed\": \"false\",\n+  \"is_pending\": \"false\",\n+  \"vote_up\": \"666\",\n+  \"vote_down\": \"0\",\n+  \"nick\": \"qwqcode\",\n+  \"email\": \"qwqcode@github.com\",\n+  \"link\": \"https://qwqaq.com\",\n+  \"password\": \"\",\n+  \"badge_name\": \"管理员\",\n+  \"badge_color\": \"#FF716D\",\n+  \"page_key\": \"https://artalk.js.org/guide/transfer.html\",\n+  \"page_title\": \"数据迁移\",\n+  \"page_admin_only\": \"false\",\n+  \"site_name\": \"Artalk\",\n+  \"site_urls\": \"http://localhost:3000/demo/,https://artalk.js.org\"\n }\n ```\n \n@@ -180,14 +180,14 @@ typecho-20220424-202246.artrans\n \n Artalk 导入功能的通用启动参数：\n \n-|   参数   | 类型   | 说明         |\n-| :------: | ------ | ------------ |\n-| `target_site_name` | String | 导入站点名称 |\n-| `target_site_url`  | String | 导入站点 URL |\n-| `url_resolver`     | Boolean | 默认关闭，URL 解析器。将 `page_key` 基于 `target_site_url` 参数重新生成为完整 URL 作为评论的新 `page_key` |\n-| `json_file`  | String | JSON 数据文件路径 |\n-| `json_data`  | String | JSON 数据字符串内容 |\n-| `assumeyes`  | Boolean | 不提确认 `y/n`，直接执行 |\n+|        参数        | 类型    | 说明                                                                                                      |\n+| :----------------: | ------- | --------------------------------------------------------------------------------------------------------- |\n+| `target_site_name` | String  | 导入站点名称                                                                                              |\n+| `target_site_url`  | String  | 导入站点 URL                                                                                              |\n+|   `url_resolver`   | Boolean | 默认关闭，URL 解析器。将 `page_key` 基于 `target_site_url` 参数重新生成为完整 URL 作为评论的新 `page_key` |\n+|    `json_file`     | String  | JSON 数据文件路径                                                                                         |\n+|    `json_data`     | String  | JSON 数据字符串内容                                                                                       |\n+|    `assumeyes`     | Boolean | 不提确认 `y/n`，直接执行                                                                                  |\n \n ## 数据备份\n "
    },
    {
      "sha": "1bd064416b362803b6e845717976ef962ebf329a",
      "filename": "docs/docs/tsconfig.json",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Ftsconfig.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/docs%2Fdocs%2Ftsconfig.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Ftsconfig.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,5 +4,5 @@\n     \"types\": [\"vite/client\"],\n     \"resolveJsonModule\": true\n   },\n-  \"include\": [\"**/.vitepress/**/*\"],\n+  \"include\": [\"**/.vitepress/**/*\"]\n }"
    },
    {
      "sha": "78f6d119753ac01600e2cfc0aa85f8c28df66779",
      "filename": "i18n/fr.yml",
      "status": "modified",
      "additions": 13,
      "deletions": 13,
      "changes": 26,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/i18n%2Ffr.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/i18n%2Ffr.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/i18n%2Ffr.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -25,7 +25,7 @@\n \"Import complete\": Importation complète\n \"Invalid request\": Requête invalide\n \"Invalid request. Please check your `trusted_domains` config.\": Requête invalide. Veuillez vérifier votre configuration `trusted_domains`.\n-\"Invalid {{name}}\": {{name}} invalide\n+\"Invalid {{name}}\": \"{{name}} invalide\"\n \"Link\": Lien\n \"Login failed\": La connexion a échoué\n \"Name\": Nom\n@@ -42,7 +42,7 @@\n \"Password\": Mot de passe\n \"Pending\": En attente\n \"Please review\": Veuillez réviser\n-\"Retype {{name}}\": Saisir à nouveau {{name}}\n+\"Retype {{name}}\": \"Saisir à nouveau {{name}}\"\n \"Save failed\": L'enregistrement a échoué\n \"Saving\": Sauver\n \"Services restart complete\": Redémarrage des services terminé\n@@ -54,23 +54,23 @@\n \"Task in progress, please wait a moment\": Tâche en cours, veuillez patienter un instant\n \"Type\": Type\n \"URL Resolver\": Résolveur d'URL\n-\"Unable to get `{{name}}`\": Impossible d'obtenir `{{name}}`\n+\"Unable to get `{{name}}`\": \"Impossible d'obtenir `{{name}}`\"\n \"Unspecified\": Non spécifié\n \"Unsupported formats\": Formats non supporté\n \"Update complete\": Mise à jour terminée\n \"Update failed\": Échec de la mise à jour\n-\"Upload image via {{method}} failed\": Échec de l'envoie d'une image via {{méthod}}\n+\"Upload image via {{method}} failed\": \"Échec de l'envoie d'une image via {{méthod}}\"\n \"User\": Utilisateur\n \"Username\": Nom d'utilisateur\n \"Verification failed\": Échec de la vérification\n \"Working directory retrieval failed\": Échec de la récupération du répertoire de travail\n \"Wrong captcha\": Mauvais captcha\n-\"{{count}} items imported\": {{count}} articles importés\"\n-\"{{done}} of {{total}} done\": {{done}} de {{total}} fait\n-\"{{name}} already exists\": {{name}} existe déjà\n-\"{{name}} cannot be empty\": {{name}} ne peut pas être vide\n-\"{{name}} creation failed\": La création de {{name}} a échoué\n-\"{{name}} deletion failed\": Échec de la suppression de {{name}}\n-\"{{name}} is required\": {{name}} est obligatoire\n-\"{{name}} not found\": {{name}} introuvable\n-\"{{name}} save failed\": Échec de la sauvegarde de {{name}}\n+\"{{count}} items imported\": \"{{count}} articles importés\"\n+\"{{done}} of {{total}} done\": \"{{done}} de {{total}} fait\"\n+\"{{name}} already exists\": \"{{name}} existe déjà\"\n+\"{{name}} cannot be empty\": \"{{name}} ne peut pas être vide\"\n+\"{{name}} creation failed\": \"La création de {{name}} a échoué\"\n+\"{{name}} deletion failed\": \"Échec de la suppression de {{name}}\"\n+\"{{name}} is required\": \"{{name}} est obligatoire\"\n+\"{{name}} not found\": \"{{name}} introuvable\"\n+\"{{name}} save failed\": \"Échec de la sauvegarde de {{name}}\""
    },
    {
      "sha": "704c7f1569336f9b485df55fcb914257dc55a280",
      "filename": "i18n/zh-CN.yml",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/i18n%2Fzh-CN.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/i18n%2Fzh-CN.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/i18n%2Fzh-CN.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -67,10 +67,10 @@\n \"Wrong captcha\": 验证码错误\n \"{{count}} items imported\": 已导入 {{count}} 个项目\n \"{{done}} of {{total}} done\": 已完成 {{done}} 共 {{total}} 个\n-\"{{name}} already exists\": '{{name}}已存在'\n-\"{{name}} cannot be empty\": '{{name}}不能为空'\n-\"{{name}} creation failed\": '{{name}}创建失败'\n-\"{{name}} deletion failed\": '{{name}}删除失败'\n-\"{{name}} is required\": '{{name}}必须填写'\n-\"{{name}} not found\": '{{name}}未找到'\n-\"{{name}} save failed\": '{{name}}保存失败'\n+\"{{name}} already exists\": \"{{name}}已存在\"\n+\"{{name}} cannot be empty\": \"{{name}}不能为空\"\n+\"{{name}} creation failed\": \"{{name}}创建失败\"\n+\"{{name}} deletion failed\": \"{{name}}删除失败\"\n+\"{{name}} is required\": \"{{name}}必须填写\"\n+\"{{name}} not found\": \"{{name}}未找到\"\n+\"{{name}} save failed\": \"{{name}}保存失败\""
    },
    {
      "sha": "98335f4ea0440b54131696d62dafe88ed72b86f7",
      "filename": "i18n/zh-TW.yml",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/i18n%2Fzh-TW.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/i18n%2Fzh-TW.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/i18n%2Fzh-TW.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -67,10 +67,10 @@\n \"Wrong captcha\": 驗證碼錯誤\n \"{{count}} items imported\": 已導入 {{count}} 個項目\n \"{{done}} of {{total}} done\": 已完成 {{done}} 共 {{total}} 個\n-\"{{name}} already exists\": '{{name}}已存在'\n-\"{{name}} cannot be empty\": '{{name}}不能為空'\n-\"{{name}} creation failed\": '{{name}}創建失敗'\n-\"{{name}} deletion failed\": '{{name}}刪除失敗'\n-\"{{name}} is required\": '{{name}}必須填寫'\n-\"{{name}} not found\": '{{name}}未找到'\n-\"{{name}} save failed\": '{{name}}保存失敗'\n+\"{{name}} already exists\": \"{{name}}已存在\"\n+\"{{name}} cannot be empty\": \"{{name}}不能為空\"\n+\"{{name}} creation failed\": \"{{name}}創建失敗\"\n+\"{{name}} deletion failed\": \"{{name}}刪除失敗\"\n+\"{{name}} is required\": \"{{name}}必須填寫\"\n+\"{{name}} not found\": \"{{name}}未找到\"\n+\"{{name}} save failed\": \"{{name}}保存失敗\""
    },
    {
      "sha": "bceec1dd025b8898b5b221c61d0cd6e7a354892f",
      "filename": "internal/captcha/pages/geetest.html",
      "status": "modified",
      "additions": 56,
      "deletions": 50,
      "changes": 106,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Fgeetest.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Fgeetest.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/internal%2Fcaptcha%2Fpages%2Fgeetest.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,58 +1,64 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <title>Geetest</title>\n-  <script src=\"//static.geetest.com/v4/gt4.js\"></script>\n-  <style>\n-    body, html { margin: 0;padding: 0; }\n-    body { display: flex;justify-content: center;height: 100vh;align-items: center; }\n-  </style>\n-</head>\n-<body>\n-  <div id=\"captcha\"></div>\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <title>Geetest</title>\n+    <script src=\"//static.geetest.com/v4/gt4.js\"></script>\n+    <style>\n+      body,\n+      html {\n+        margin: 0;\n+        padding: 0;\n+      }\n+      body {\n+        display: flex;\n+        justify-content: center;\n+        height: 100vh;\n+        align-items: center;\n+      }\n+    </style>\n+  </head>\n+  <body>\n+    <div id=\"captcha\"></div>\n \n-  <script>\n-  // var params = new URLSearchParams(document.location.search)\n-  // var captchaId = params.get('captcha_id')\n+    <script>\n+      const captchaId = '{{.gt_id}}' // gt_id\n \n-  var captchaId = \"{{.gt_id}}\" // gt_id\n+      /**\n+       * @link https://docs.geetest.com/gt4/apirefer/api/web\n+       */\n+      initGeetest4({ captchaId, product: 'popup' }, (gt) => {\n+        window.gt = gt\n \n-  // @link https://docs.geetest.com/gt4/apirefer/api/web\n-  initGeetest4({\n-    captchaId: captchaId,\n-    product: \"popup\",\n-  }, function (gt) {\n-    window.gt = gt\n+        gt.appendTo('#captcha').onSuccess((e) => {\n+          var result = gt.getValidate()\n \n-    gt.appendTo(\"#captcha\").onSuccess(function (e) {\n-      var result = gt.getValidate();\n-      console.log(\"[极验验证结果] \", result)\n-      fetch(\"./verify\", {\n-          method: 'POST',\n-          headers: {\n-            'Accept': 'application/json',\n-            'Content-Type': 'application/json'\n-          },\n-          body: JSON.stringify({ value: JSON.stringify(result) }),\n-      })\n-      .then(function (res) {\n-        if (!res.ok) {\n-          res.json().then(json => {\n-            alert(\"验证失败：\" + res.status + \" \" + json.msg || '')\n+          console.log('[极验验证结果]:', result)\n+\n+          fetch('./verify', {\n+            method: 'POST',\n+            headers: {\n+              Accept: 'application/json',\n+              'Content-Type': 'application/json',\n+            },\n+            body: JSON.stringify({ value: JSON.stringify(result) }),\n           })\n-        }\n-      })\n-      .catch(function (err) {\n-          console.error(err)\n-          alert(\"后端 API 请求失败：\" + err)\n-      });\n-    });\n+            .then((res) => {\n+              if (!res.ok)\n+                res.json().then((json) => {\n+                  alert('验证失败：' + res.status + ' ' + json.msg || '')\n+                })\n+            })\n+            .catch((err) => {\n+              console.error(err)\n+              alert('后端 API 请求失败：' + err.message || '')\n+            })\n+        })\n \n-    gt.showCaptcha();\n-  })\n-  </script>\n-</body>\n+        gt.showCaptcha()\n+      })\n+    </script>\n+  </body>\n </html>"
    },
    {
      "sha": "a714da99af8116d8951a847586875405a55cf4be",
      "filename": "internal/captcha/pages/hcaptcha.html",
      "status": "modified",
      "additions": 49,
      "deletions": 42,
      "changes": 91,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Fhcaptcha.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Fhcaptcha.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/internal%2Fcaptcha%2Fpages%2Fhcaptcha.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,47 +1,54 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <title>hCaptcha</title>\n-  <style>\n-    body, html { margin: 0;padding: 0; }\n-    body { display: flex;justify-content: center;height: 100vh;align-items: center; }\n-  </style>\n-</head>\n-<body>\n-  <div id=\"container\"></div>\n-  <script>\n-  var script = document.createElement('script')\n-  script.src = 'https://js.hcaptcha.com/1/api.js?onload=hCaptchaLoaded'\n-  document.body.appendChild(script)\n-  var hCaptchaLoaded = function () {\n-    hcaptcha.render(\"container\", {\n-      sitekey: \"{{.site_key}}\",\n-      callback: function(token) {\n-        fetch(\"./verify\", {\n-          method: 'POST',\n-          headers: {\n-            'Accept': 'application/json',\n-            'Content-Type': 'application/json'\n-          },\n-          body: JSON.stringify({ value: token }),\n-        })\n-        .then(function (res) {\n-          if (!res.ok) {\n-            res.json().then(json => {\n-              alert(\"验证失败：\" + res.status + \" \" + json.msg || '')\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <title>hCaptcha</title>\n+    <style>\n+      body,\n+      html {\n+        margin: 0;\n+        padding: 0;\n+      }\n+      body {\n+        display: flex;\n+        justify-content: center;\n+        height: 100vh;\n+        align-items: center;\n+      }\n+    </style>\n+  </head>\n+  <body>\n+    <div id=\"container\"></div>\n+    <script src=\"https://js.hcaptcha.com/1/api.js?onload=loadHCaptcha\" async defer></script>\n+    <script>\n+      const loadHCaptcha = () => {\n+        hcaptcha.render('container', {\n+          sitekey: '{{.site_key}}',\n+          callback: function (token) {\n+            fetch('./verify', {\n+              method: 'POST',\n+              headers: {\n+                Accept: 'application/json',\n+                'Content-Type': 'application/json',\n+              },\n+              body: JSON.stringify({ value: token }),\n             })\n-          }\n-        })\n-        .catch(function (err) {\n-          console.error(err)\n-          alert(\"后端 API 请求失败：\" + err)\n+              .then(function (res) {\n+                if (!res.ok) {\n+                  res.json().then((json) => {\n+                    alert('验证失败：' + res.status + ' ' + json.msg || '')\n+                  })\n+                }\n+              })\n+              .catch(function (err) {\n+                console.error(err)\n+                alert('后端 API 请求失败：' + err)\n+              })\n+          },\n         })\n       }\n-    });\n-  }\n-  </script>\n-</body>\n+    </script>\n+  </body>\n </html>"
    },
    {
      "sha": "ac5aa3d4bc9827141d4eb45b1e4d684bf8789a48",
      "filename": "internal/captcha/pages/recaptcha.html",
      "status": "modified",
      "additions": 49,
      "deletions": 41,
      "changes": 90,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Frecaptcha.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Frecaptcha.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/internal%2Fcaptcha%2Fpages%2Frecaptcha.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,45 +1,53 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <title>reCaptcha</title>\n-  <script src=\"https://www.google.com/recaptcha/api.js\"></script>\n-  <style>\n-    body, html { margin: 0;padding: 0; }\n-    body { display: flex;justify-content: center;height: 100vh;align-items: center; }\n-  </style>\n-</head>\n-<body>\n-  <div id=\"container\"></div>\n-  <script>\n-  grecaptcha.ready(function() {\n-    grecaptcha.render(\"container\", {\n-      sitekey: \"{{.site_key}}\",\n-      callback: function(token) {\n-        fetch(\"./verify\", {\n-          method: 'POST',\n-          headers: {\n-            'Accept': 'application/json',\n-            'Content-Type': 'application/json'\n-          },\n-          body: JSON.stringify({ value: token }),\n-        })\n-        .then(function (res) {\n-          if (!res.ok) {\n-            res.json().then(json => {\n-              alert(\"验证失败：\" + res.status + \" \" + json.msg || '')\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <title>reCaptcha</title>\n+    <script src=\"https://www.google.com/recaptcha/api.js\"></script>\n+    <style>\n+      body,\n+      html {\n+        margin: 0;\n+        padding: 0;\n+      }\n+      body {\n+        display: flex;\n+        justify-content: center;\n+        height: 100vh;\n+        align-items: center;\n+      }\n+    </style>\n+  </head>\n+  <body>\n+    <div id=\"container\"></div>\n+    <script>\n+      grecaptcha.ready(() => {\n+        grecaptcha.render('container', {\n+          sitekey: '{{.site_key}}',\n+          callback: (token) => {\n+            fetch('./verify', {\n+              method: 'POST',\n+              headers: {\n+                Accept: 'application/json',\n+                'Content-Type': 'application/json',\n+              },\n+              body: JSON.stringify({ value: token }),\n             })\n-          }\n-        })\n-        .catch(function (err) {\n-          console.error(err)\n-          alert(\"后端 API 请求失败：\" + err)\n+              .then((res) => {\n+                if (!res.ok)\n+                  res.json().then((json) => {\n+                    alert('验证失败：' + res.status + ' ' + json.msg || '')\n+                  })\n+              })\n+              .catch(function (err) {\n+                console.error(err)\n+                alert('后端 API 请求失败：' + err.message)\n+              })\n+          },\n         })\n-      }\n-    });\n-  });\n-  </script>\n-</body>\n+      })\n+    </script>\n+  </body>\n </html>"
    },
    {
      "sha": "17f3de4bd55191bf5e7eebefe5b2bf14e5f42199",
      "filename": "internal/captcha/pages/turnstile.html",
      "status": "modified",
      "additions": 50,
      "deletions": 43,
      "changes": 93,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Fturnstile.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Fcaptcha%2Fpages%2Fturnstile.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/internal%2Fcaptcha%2Fpages%2Fturnstile.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,46 +1,53 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <title>Turnstile</title>\n-  <script src=\"https://challenges.cloudflare.com/turnstile/v0/api.js\"></script>\n-  <style>\n-    body, html { margin: 0;padding: 0; }\n-    body { display: flex;justify-content: center;height: 100vh;align-items: center; }\n-  </style>\n-</head>\n-<body>\n-  <div id=\"container\"></div>\n-  <script>\n-  turnstile.ready(function () {\n-      const turnstileOptions = {\n-        sitekey: '{{.site_key}}',\n-        callback: function(token) {\n-          fetch(\"./verify\", {\n-            method: 'POST',\n-            headers: {\n-              'Accept': 'application/json',\n-              'Content-Type': 'application/json'\n-            },\n-            body: JSON.stringify({ value: token }),\n-          })\n-          .then(function (res) {\n-            if (!res.ok) {\n-              res.json().then(json => {\n-                alert(\"验证失败：\" + res.status + \" \" + json.msg || '')\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <title>Turnstile</title>\n+    <script src=\"https://challenges.cloudflare.com/turnstile/v0/api.js\"></script>\n+    <style>\n+      body,\n+      html {\n+        margin: 0;\n+        padding: 0;\n+      }\n+      body {\n+        display: flex;\n+        justify-content: center;\n+        height: 100vh;\n+        align-items: center;\n+      }\n+    </style>\n+  </head>\n+  <body>\n+    <div id=\"container\"></div>\n+    <script>\n+      turnstile.ready(() => {\n+        turnstile.render('#container', {\n+          sitekey: '{{.site_key}}',\n+          callback: (token) => {\n+            fetch('./verify', {\n+              method: 'POST',\n+              headers: {\n+                Accept: 'application/json',\n+                'Content-Type': 'application/json',\n+              },\n+              body: JSON.stringify({ value: token }),\n+            })\n+              .then((res) => {\n+                if (!res.ok)\n+                  res.json().then((json) => {\n+                    alert('验证失败：' + res.status + ' ' + json.msg || '')\n+                  })\n               })\n-            }\n-          })\n-          .catch(function (err) {\n-            console.error(err)\n-            alert(\"后端 API 请求失败：\" + err)\n-          });\n-        }\n-      };\n-      turnstile.render('#container', turnstileOptions);\n-  })\n-  </script>\n-</body>\n+              .catch(function (err) {\n+                console.error(err)\n+                alert('后端 API 请求失败：' + err.message)\n+              })\n+          },\n+        })\n+      })\n+    </script>\n+  </body>\n </html>"
    },
    {
      "sha": "29bed990d464d55197f19f2405541af2a4454d27",
      "filename": "internal/template/email_tpl/default.html",
      "status": "modified",
      "additions": 45,
      "deletions": 12,
      "changes": 57,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Ftemplate%2Femail_tpl%2Fdefault.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/internal%2Ftemplate%2Femail_tpl%2Fdefault.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/internal%2Ftemplate%2Femail_tpl%2Fdefault.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,12 +1,45 @@\n-<div style=\"padding: 5px 0;\">\n-    <p style=\"margin-left: 10px;font-size: 16px;\">Hi, {{nick}}：</p>\n-    <p style=\"margin-left: 20px;\">\n-        您在 “{{page_title}}” 收到了回复：\n-    </p>\n-    <div style=\"background:#fbfbfb;padding:15px 20px;font-size:18px;border-left:3px solid #0083ff;margin-top:17px;\">\n-        <div style=\"font-size: 16px;\">@{{reply_nick}}:</div>\n-        <div>{{reply_content}}</div>\n-    </div>\n-    <p style=\"margin-bottom:25px;margin-left: 10px;\"><a href=\"{{link_to_reply}}\" target=\"_blank\" style=\"display:inline-block;padding: 5px 20px;color: #0083ff;background: #fff;border-radius: 40px;border: 2px solid #0083ff;text-decoration:none;margin-top:10px;\"\">回复 &nbsp;»</a></p>\n-    <p style=\"text-align: right;color: #757e91;margin-right: 10px;\">-- <a href=\"{{site_url}}\" target=\"_blank\" style=\"color: #0083ff;text-decoration:none;\">{{site_name}}</a><br /><span style=\"font-size: 16px;\">Powered By Artalk<span style=\"color: #06abd7;\">Go</span></span></p>\n-</div>\n\\ No newline at end of file\n+<div style=\"padding: 5px 0\">\n+  <p style=\"margin-left: 10px; font-size: 16px\">Hi, {{nick}}：</p>\n+  <p style=\"margin-left: 20px\">您在 “{{page_title}}” 收到了回复：</p>\n+  <div\n+    style=\"\n+      background: #fbfbfb;\n+      padding: 15px 20px;\n+      font-size: 18px;\n+      border-left: 3px solid #0083ff;\n+      margin-top: 17px;\n+    \"\n+  >\n+    <div style=\"font-size: 16px\">@{{reply_nick}}:</div>\n+    <div>{{reply_content}}</div>\n+  </div>\n+  <p style=\"margin-bottom: 25px; margin-left: 10px\">\n+    <a\n+      href=\"{{link_to_reply}}\"\n+      target=\"_blank\"\n+      style=\"\n+        display: inline-block;\n+        padding: 5px 20px;\n+        color: #0083ff;\n+        background: #fff;\n+        border-radius: 40px;\n+        border: 2px solid #0083ff;\n+        text-decoration: none;\n+        margin-top: 10px;\n+      \"\n+    >\n+      回复 &nbsp;»\n+    </a>\n+  </p>\n+  <p style=\"text-align: right; color: #757e91; margin-right: 10px\">\n+    --\n+    <a href=\"{{site_url}}\" target=\"_blank\" style=\"color: #0083ff; text-decoration: none\">\n+      {{site_name}}\n+    </a>\n+    <br />\n+    <span style=\"font-size: 16px\">\n+      Powered By Artalk\n+      <span style=\"color: #06abd7\">Go</span>\n+    </span>\n+  </p>\n+</div>"
    },
    {
      "sha": "6bb3dbf8914c56bbbded0c8e28da164d386adc0d",
      "filename": "package.json",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/package.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/package.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/package.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,6 +11,9 @@\n     \"build:all\": \"pnpm build && pnpm build:sidebar\",\n     \"build:docs\": \"pnpm build && pnpm -F=docs-landing build && pnpm -F=docs-swagger swagger:build && pnpm -F=docs build:docs && pnpm patch:docs\",\n     \"patch:docs\": \"cp -rf docs/landing/dist/* docs/swagger/dist/* docs/docs/.vitepress/dist\",\n+    \"lint\": \"pnpm lint:prettier && pnpm lint:eslint\",\n+    \"lint:eslint\": \"eslint --fix --ext .ts,.tsx,.js,.jsx,.vue .\",\n+    \"lint:prettier\": \"prettier --check --write .\",\n     \"test\": \"pnpm -F artalk test\"\n   },\n   \"devDependencies\": {"
    },
    {
      "sha": "0231c3ded72d9c09865979c31600bb12d8ddfd2a",
      "filename": "pnpm-lock.yaml",
      "status": "modified",
      "additions": 68,
      "deletions": 22,
      "changes": 90,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/pnpm-lock.yaml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/pnpm-lock.yaml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/pnpm-lock.yaml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -113,7 +113,7 @@ importers:\n         version: 1.74.1\n       vitepress:\n         specifier: 1.0.2\n-        version: 1.0.2(@types/node@20.12.5)(postcss@8.4.38)(sass@1.74.1)(search-insights@2.13.0)(terser@5.30.3)(typescript@5.4.4)\n+        version: 1.0.2(@algolia/client-search@4.23.2)(@types/node@20.12.5)(postcss@8.4.38)(sass@1.74.1)(search-insights@2.13.0)(terser@5.30.3)(typescript@5.4.4)\n \n   docs/landing:\n     dependencies:\n@@ -173,6 +173,56 @@ importers:\n         specifier: 1.11.0\n         version: 1.11.0\n \n+  test/ssg-test:\n+    dependencies:\n+      artalk:\n+        specifier: workspace:*\n+        version: link:../../ui/artalk\n+      vue:\n+        specifier: ^3.4.21\n+        version: 3.4.21(typescript@5.4.4)\n+    devDependencies:\n+      vitepress:\n+        specifier: 1.0.2\n+        version: 1.0.2(@algolia/client-search@4.23.2)(@types/node@20.12.5)(postcss@8.4.38)(sass@1.74.1)(search-insights@2.13.0)(terser@5.30.3)(typescript@5.4.4)\n+\n+  test/vue-test:\n+    dependencies:\n+      artalk:\n+        specifier: workspace:*\n+        version: link:../../ui/artalk\n+      vue:\n+        specifier: ^3.4.21\n+        version: 3.4.21(typescript@5.4.4)\n+      vue-router:\n+        specifier: ^4.3.0\n+        version: 4.3.0(vue@3.4.21)\n+    devDependencies:\n+      '@tsconfig/node18':\n+        specifier: ^18.2.4\n+        version: 18.2.4\n+      '@types/node':\n+        specifier: ^20.12.5\n+        version: 20.12.5\n+      '@vitejs/plugin-vue':\n+        specifier: ^5.0.4\n+        version: 5.0.4(vite@5.2.8)(vue@3.4.21)\n+      '@vue/tsconfig':\n+        specifier: ^0.5.1\n+        version: 0.5.1\n+      npm-run-all2:\n+        specifier: ^6.1.2\n+        version: 6.1.2\n+      typescript:\n+        specifier: ~5.4.4\n+        version: 5.4.4\n+      vite:\n+        specifier: ^5.2.8\n+        version: 5.2.8(@types/node@20.12.5)(sass@1.74.1)(terser@5.30.3)\n+      vue-tsc:\n+        specifier: ^2.0.11\n+        version: 2.0.11(typescript@5.4.4)\n+\n   ui/artalk:\n     dependencies:\n       abortcontroller-polyfill:\n@@ -281,51 +331,47 @@ packages:\n     engines: {node: '>=0.10.0'}\n     dev: true\n \n-  /@algolia/autocomplete-core@1.9.3(algoliasearch@4.23.2)(search-insights@2.13.0):\n+  /@algolia/autocomplete-core@1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)(search-insights@2.13.0):\n     resolution: {integrity: sha512-009HdfugtGCdC4JdXUbVJClA0q0zh24yyePn+KUGk3rP7j8FEe/m5Yo/z65gn6nP/cM39PxpzqKrL7A6fP6PPw==}\n     dependencies:\n-      '@algolia/autocomplete-plugin-algolia-insights': 1.9.3(algoliasearch@4.23.2)(search-insights@2.13.0)\n-      '@algolia/autocomplete-shared': 1.9.3(algoliasearch@4.23.2)\n+      '@algolia/autocomplete-plugin-algolia-insights': 1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)(search-insights@2.13.0)\n+      '@algolia/autocomplete-shared': 1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)\n     transitivePeerDependencies:\n       - '@algolia/client-search'\n       - algoliasearch\n       - search-insights\n     dev: true\n \n-  /@algolia/autocomplete-plugin-algolia-insights@1.9.3(algoliasearch@4.23.2)(search-insights@2.13.0):\n+  /@algolia/autocomplete-plugin-algolia-insights@1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)(search-insights@2.13.0):\n     resolution: {integrity: sha512-a/yTUkcO/Vyy+JffmAnTWbr4/90cLzw+CC3bRbhnULr/EM0fGNvM13oQQ14f2moLMcVDyAx/leczLlAOovhSZg==}\n     peerDependencies:\n       search-insights: '>= 1 < 3'\n     dependencies:\n-      '@algolia/autocomplete-shared': 1.9.3(algoliasearch@4.23.2)\n+      '@algolia/autocomplete-shared': 1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)\n       search-insights: 2.13.0\n     transitivePeerDependencies:\n       - '@algolia/client-search'\n       - algoliasearch\n     dev: true\n \n-  /@algolia/autocomplete-preset-algolia@1.9.3(algoliasearch@4.23.2):\n+  /@algolia/autocomplete-preset-algolia@1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2):\n     resolution: {integrity: sha512-d4qlt6YmrLMYy95n5TB52wtNDr6EgAIPH81dvvvW8UmuWRgxEtY0NJiPwl/h95JtG2vmRM804M0DSwMCNZlzRA==}\n     peerDependencies:\n       '@algolia/client-search': '>= 4.9.1 < 6'\n       algoliasearch: '>= 4.9.1 < 6'\n-    peerDependenciesMeta:\n-      '@algolia/client-search':\n-        optional: true\n     dependencies:\n-      '@algolia/autocomplete-shared': 1.9.3(algoliasearch@4.23.2)\n+      '@algolia/autocomplete-shared': 1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)\n+      '@algolia/client-search': 4.23.2\n       algoliasearch: 4.23.2\n     dev: true\n \n-  /@algolia/autocomplete-shared@1.9.3(algoliasearch@4.23.2):\n+  /@algolia/autocomplete-shared@1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2):\n     resolution: {integrity: sha512-Wnm9E4Ye6Rl6sTTqjoymD+l8DjSTHsHboVRYrKgEt8Q7UHm9nYbqhN/i0fhUYA3OAEH7WA8x3jfpnmJm3rKvaQ==}\n     peerDependencies:\n       '@algolia/client-search': '>= 4.9.1 < 6'\n       algoliasearch: '>= 4.9.1 < 6'\n-    peerDependenciesMeta:\n-      '@algolia/client-search':\n-        optional: true\n     dependencies:\n+      '@algolia/client-search': 4.23.2\n       algoliasearch: 4.23.2\n     dev: true\n \n@@ -537,10 +583,10 @@ packages:\n     resolution: {integrity: sha512-+sbxb71sWre+PwDK7X2T8+bhS6clcVMLwBPznX45Qu6opJcgRjAp7gYSDzVFp187J+feSj5dNBN1mJoi6ckkUQ==}\n     dev: true\n \n-  /@docsearch/js@3.6.0(search-insights@2.13.0):\n+  /@docsearch/js@3.6.0(@algolia/client-search@4.23.2)(search-insights@2.13.0):\n     resolution: {integrity: sha512-QujhqINEElrkIfKwyyyTfbsfMAYCkylInLYMRqHy7PHc8xTBQCow73tlo/Kc7oIwBrCLf0P3YhjlOeV4v8hevQ==}\n     dependencies:\n-      '@docsearch/react': 3.6.0(search-insights@2.13.0)\n+      '@docsearch/react': 3.6.0(@algolia/client-search@4.23.2)(search-insights@2.13.0)\n       preact: 10.20.1\n     transitivePeerDependencies:\n       - '@algolia/client-search'\n@@ -550,7 +596,7 @@ packages:\n       - search-insights\n     dev: true\n \n-  /@docsearch/react@3.6.0(search-insights@2.13.0):\n+  /@docsearch/react@3.6.0(@algolia/client-search@4.23.2)(search-insights@2.13.0):\n     resolution: {integrity: sha512-HUFut4ztcVNmqy9gp/wxNbC7pTOHhgVVkHVGCACTuLhUKUhKAF9KYHJtMiLUJxEqiFLQiuri1fWF8zqwM/cu1w==}\n     peerDependencies:\n       '@types/react': '>= 16.8.0 < 19.0.0'\n@@ -567,8 +613,8 @@ packages:\n       search-insights:\n         optional: true\n     dependencies:\n-      '@algolia/autocomplete-core': 1.9.3(algoliasearch@4.23.2)(search-insights@2.13.0)\n-      '@algolia/autocomplete-preset-algolia': 1.9.3(algoliasearch@4.23.2)\n+      '@algolia/autocomplete-core': 1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)(search-insights@2.13.0)\n+      '@algolia/autocomplete-preset-algolia': 1.9.3(@algolia/client-search@4.23.2)(algoliasearch@4.23.2)\n       '@docsearch/css': 3.6.0\n       algoliasearch: 4.23.2\n       search-insights: 2.13.0\n@@ -6420,7 +6466,7 @@ packages:\n       fsevents: 2.3.3\n     dev: true\n \n-  /vitepress@1.0.2(@types/node@20.12.5)(postcss@8.4.38)(sass@1.74.1)(search-insights@2.13.0)(terser@5.30.3)(typescript@5.4.4):\n+  /vitepress@1.0.2(@algolia/client-search@4.23.2)(@types/node@20.12.5)(postcss@8.4.38)(sass@1.74.1)(search-insights@2.13.0)(terser@5.30.3)(typescript@5.4.4):\n     resolution: {integrity: sha512-bEj9yTEdWyewJFOhEREZF+mXuAgOq27etuJZT6DZSp+J3XpQstXMJc5piSVwhZBtuj8OfA0iXy+jdP1c71KMYQ==}\n     hasBin: true\n     peerDependencies:\n@@ -6433,7 +6479,7 @@ packages:\n         optional: true\n     dependencies:\n       '@docsearch/css': 3.6.0\n-      '@docsearch/js': 3.6.0(search-insights@2.13.0)\n+      '@docsearch/js': 3.6.0(@algolia/client-search@4.23.2)(search-insights@2.13.0)\n       '@shikijs/core': 1.2.4\n       '@shikijs/transformers': 1.2.4\n       '@types/markdown-it': 13.0.7"
    },
    {
      "sha": "d8e5954aaea40a803cb9d6ba81b970ca63b7a2d4",
      "filename": "pnpm-workspace.yaml",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/pnpm-workspace.yaml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/pnpm-workspace.yaml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/pnpm-workspace.yaml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,3 +1,4 @@\n packages:\n-  - 'ui/*'\n-  - 'docs/*'\n+  - \"ui/*\"\n+  - \"docs/*\"\n+  - \"test/*\""
    },
    {
      "sha": "09b08daa688e09c7e454802fcf382d9977f55751",
      "filename": "public/index.html",
      "status": "modified",
      "additions": 17,
      "deletions": 9,
      "changes": 26,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/public%2Findex.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/public%2Findex.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/public%2Findex.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,12 +1,20 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-    <meta charset=\"UTF-8\">\n+  <head>\n+    <meta charset=\"UTF-8\" />\n     <title>Welcome to Artalk!</title>\n-</head>\n-<body style=\"text-align: center;\">\n-    <h2>Welcome to Artalk<span style=\"color: #06abd7;\">Go</span>!</h2>\n-    <p>For online documentation and support please refer to <a href=\"https://artalk.js.org\">artalk.js.org</a>.</p>\n+  </head>\n+  <body style=\"text-align: center\">\n+    <h2>\n+      Welcome to Artalk\n+      <span style=\"color: #06abd7\">Go</span>\n+      !\n+    </h2>\n+    <p>\n+      For online documentation and support please refer to\n+      <a href=\"https://artalk.js.org\">artalk.js.org</a>\n+      .\n+    </p>\n     <p>Thank you for using Artalk.</p>\n-</body>\n-</html>\n\\ No newline at end of file\n+  </body>\n+</html>"
    },
    {
      "sha": "1c94c5f252822d4e0a5b2b539bbb577f29cbad26",
      "filename": "test/fixtures/comments.yml",
      "status": "modified",
      "additions": 58,
      "deletions": 58,
      "changes": 116,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ffixtures%2Fcomments.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ffixtures%2Fcomments.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Ffixtures%2Fcomments.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,6 +1,6 @@\n - id: 1000\n   rid: 0\n-  content: \"Hello Artalk, 你好 Artalk!\"\n+  content: Hello Artalk, 你好 Artalk!\n   page_key: /test/1000.html\n   site_name: Site A\n   user_id: 1000\n@@ -11,7 +11,7 @@\n \n - id: 1001\n   rid: 1000\n-  content: \"回复测试 1001\"\n+  content: 回复测试 1001\n   page_key: /test/1000.html\n   site_name: Site A\n   user_id: 1001\n@@ -22,7 +22,7 @@\n \n - id: 1002\n   rid: 1001\n-  content: \"测试二层嵌套回复 A\"\n+  content: 测试二层嵌套回复 A\n   page_key: /test/1000.html\n   site_name: Site A\n   user_id: 1001\n@@ -33,7 +33,7 @@\n \n - id: 1003\n   rid: 1001\n-  content: \"测试二层嵌套回复 B\"\n+  content: 测试二层嵌套回复 B\n   page_key: /test/1000.html\n   site_name: Site A\n   user_id: 1001\n@@ -44,7 +44,7 @@\n \n - id: 1004\n   rid: 1002\n-  content: \"测试第三层嵌套回复\"\n+  content: 测试第三层嵌套回复\n   page_key: /test/1000.html\n   site_name: Site A\n   user_id: 1001\n@@ -66,7 +66,7 @@\n \n - id: 1006\n   rid: 0\n-  content: \"在测试站点 2 的评论\"\n+  content: 在测试站点 2 的评论\n   page_key: /site_b/1001.html\n   site_name: Site B\n   user_id: 1001\n@@ -77,7 +77,7 @@\n \n - id: 1007\n   rid: 1006\n-  content: \"测试在站点 2 的『待审评论』\"\n+  content: 测试在站点 2 的『待审评论』\n   page_key: /site_b/1001.html\n   site_name: Site B\n   user_id: 1002\n@@ -99,257 +99,257 @@\n # }\n # console.log(str)\n - id: 1010\n-  content: \"评论 1010\"\n+  content: 评论 1010\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1011\n-  content: \"评论 1011\"\n+  content: 评论 1011\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1012\n-  content: \"评论 1012\"\n+  content: 评论 1012\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1013\n-  content: \"评论 1013\"\n+  content: 评论 1013\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1014\n-  content: \"评论 1014\"\n+  content: 评论 1014\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1015\n-  content: \"评论 1015\"\n+  content: 评论 1015\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1016\n-  content: \"评论 1016\"\n+  content: 评论 1016\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1017\n-  content: \"评论 1017\"\n+  content: 评论 1017\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1018\n-  content: \"评论 1018\"\n+  content: 评论 1018\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1019\n-  content: \"评论 1019\"\n+  content: 评论 1019\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1020\n-  content: \"评论 1020\"\n+  content: 评论 1020\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1021\n-  content: \"评论 1021\"\n+  content: 评论 1021\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1022\n-  content: \"评论 1022\"\n+  content: 评论 1022\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1023\n-  content: \"评论 1023\"\n+  content: 评论 1023\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1024\n-  content: \"评论 1024\"\n+  content: 评论 1024\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1025\n-  content: \"评论 1025\"\n+  content: 评论 1025\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1026\n-  content: \"评论 1026\"\n+  content: 评论 1026\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1027\n-  content: \"评论 1027\"\n+  content: 评论 1027\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1028\n-  content: \"评论 1028\"\n+  content: 评论 1028\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1029\n-  content: \"评论 1029\"\n+  content: 评论 1029\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1030\n-  content: \"评论 1030\"\n+  content: 评论 1030\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1031\n-  content: \"评论 1031\"\n+  content: 评论 1031\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1032\n-  content: \"评论 1032\"\n+  content: 评论 1032\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1033\n-  content: \"评论 1033\"\n+  content: 评论 1033\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1034\n-  content: \"评论 1034\"\n+  content: 评论 1034\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1035\n-  content: \"评论 1035\"\n+  content: 评论 1035\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1036\n-  content: \"评论 1036\"\n+  content: 评论 1036\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1037\n-  content: \"评论 1037\"\n+  content: 评论 1037\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1038\n-  content: \"评论 1038\"\n+  content: 评论 1038\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1039\n-  content: \"评论 1039\"\n+  content: 评论 1039\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1040\n-  content: \"评论 1040\"\n+  content: 评论 1040\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1041\n-  content: \"评论 1041\"\n+  content: 评论 1041\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1042\n-  content: \"评论 1042\"\n+  content: 评论 1042\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1043\n-  content: \"评论 1043\"\n+  content: 评论 1043\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1044\n-  content: \"评论 1044\"\n+  content: 评论 1044\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1045\n-  content: \"评论 1045\"\n+  content: 评论 1045\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1046\n-  content: \"评论 1046\"\n+  content: 评论 1046\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1047\n-  content: \"评论 1047\"\n+  content: 评论 1047\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1048\n-  content: \"评论 1048\"\n+  content: 评论 1048\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1049\n-  content: \"评论 1049\"\n+  content: 评论 1049\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1050\n-  content: \"评论 1050\"\n+  content: 评论 1050\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1051\n-  content: \"评论 1051\"\n+  content: 评论 1051\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1052\n-  content: \"评论 1052\"\n+  content: 评论 1052\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1053\n-  content: \"评论 1053\"\n+  content: 评论 1053\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1054\n-  content: \"评论 1054\"\n+  content: 评论 1054\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1055\n-  content: \"评论 1055\"\n+  content: 评论 1055\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1056\n-  content: \"评论 1056\"\n+  content: 评论 1056\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1057\n-  content: \"评论 1057\"\n+  content: 评论 1057\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1058\n-  content: \"评论 1058\"\n+  content: 评论 1058\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1059\n-  content: \"评论 1059\"\n+  content: 评论 1059\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001\n - id: 1060\n-  content: \"评论 1060\"\n+  content: 评论 1060\n   page_key: /test_pagination.html\n   site_name: Site A\n   user_id: 1001"
    },
    {
      "sha": "262504113f210141d7bc806c7643f76baa8fe86b",
      "filename": "test/fixtures/pages.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ffixtures%2Fpages.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ffixtures%2Fpages.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Ffixtures%2Fpages.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -20,4 +20,4 @@\n   admin_only: false\n   site_name: Site A\n   created_at: 2022-04-29 14:47:59\n-  updated_at: 2022-04-29 14:47:59\n\\ No newline at end of file\n+  updated_at: 2022-04-29 14:47:59"
    },
    {
      "sha": "ad3dea814f95b38cbdbd0d41b8db201d3e3fb500",
      "filename": "test/ssg-test/.vitepress/config.mts",
      "status": "modified",
      "additions": 8,
      "deletions": 10,
      "changes": 18,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Fconfig.mts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Fconfig.mts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2F.vitepress%2Fconfig.mts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,27 +2,25 @@ import { defineConfig } from 'vitepress'\n \n // https://vitepress.dev/reference/site-config\n export default defineConfig({\n-  title: \"My Awesome Project\",\n-  description: \"A VitePress Site\",\n+  title: 'My Awesome Project',\n+  description: 'A VitePress Site',\n   themeConfig: {\n     // https://vitepress.dev/reference/default-theme-config\n     nav: [\n       { text: 'Home', link: '/' },\n-      { text: 'Examples', link: '/markdown-examples' }\n+      { text: 'Examples', link: '/markdown-examples' },\n     ],\n \n     sidebar: [\n       {\n         text: 'Examples',\n         items: [\n           { text: 'Markdown Examples', link: '/markdown-examples' },\n-          { text: 'Runtime API Examples', link: '/api-examples' }\n-        ]\n-      }\n+          { text: 'Runtime API Examples', link: '/api-examples' },\n+        ],\n+      },\n     ],\n \n-    socialLinks: [\n-      { icon: 'github', link: 'https://github.com/vuejs/vitepress' }\n-    ]\n-  }\n+    socialLinks: [{ icon: 'github', link: 'https://github.com/vuejs/vitepress' }],\n+  },\n })"
    },
    {
      "sha": "27f278a36ee3ca58b84f7a8afa0fbf797472ddd7",
      "filename": "test/ssg-test/.vitepress/theme/Artalk.vue",
      "status": "modified",
      "additions": 18,
      "deletions": 19,
      "changes": 37,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2FArtalk.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2FArtalk.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2F.vitepress%2Ftheme%2FArtalk.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,5 +1,5 @@\n <template>\n-  <div ref=\"el\" style=\"margin-top: 20px;\"></div>\n+  <div ref=\"el\" style=\"margin-top: 20px\"></div>\n </template>\n \n <script setup lang=\"ts\">\n@@ -25,36 +25,39 @@ onMounted(() => {\n   })\n })\n \n-watch(() => router.route.path, () => {\n-  nextTick(() => {\n-    artalk.update(getConfByPage())\n-    artalk.reload()\n-  })\n-})\n+watch(\n+  () => router.route.path,\n+  () => {\n+    nextTick(() => {\n+      artalk.update(getConfByPage())\n+      artalk.reload()\n+    })\n+  },\n+)\n \n onUnmounted(() => {\n   artalk.destroy()\n })\n \n function initArtalk(conf: any) {\n   artalk = Artalk.init({\n-    el:        el.value,\n+    el: el.value,\n     emoticons: '/assets/emoticons/default.json',\n-    gravatar:   {\n-      mirror: 'https://cravatar.cn/avatar/'\n+    gravatar: {\n+      mirror: 'https://cravatar.cn/avatar/',\n     },\n-    ...conf\n+    ...conf,\n   })\n \n   loadExtraFuncs()\n }\n \n function getConfByPage() {\n   return {\n-    pageKey:   'https://artalk.js.org'+router.route.path,\n-    pageTitle:  page.value.title,\n-    server:    'http://localhost:23366',\n-    site:      'ArtalkDocs',\n+    pageKey: 'https://artalk.js.org' + router.route.path,\n+    pageTitle: page.value.title,\n+    server: 'http://localhost:23366',\n+    site: 'ArtalkDocs',\n   }\n }\n \n@@ -74,7 +77,3 @@ function loadExtraFuncs() {\n   }).observe(document.querySelector('html')!, { attributes: true })\n }\n </script>\n-\n-<style>\n-\n-</style>"
    },
    {
      "sha": "8f2ba8e4e6d08c49acebe409da879eace5da1129",
      "filename": "test/ssg-test/.vitepress/theme/Footer.vue",
      "status": "modified",
      "additions": 1,
      "deletions": 6,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2FFooter.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2FFooter.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2F.vitepress%2Ftheme%2FFooter.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,12 +1,7 @@\n <script lang=\"ts\" setup>\n-import { onMounted } from 'vue'\n-import Artalk from './Artalk.vue';\n+import Artalk from './Artalk.vue'\n </script>\n \n <template>\n   <Artalk />\n </template>\n-\n-<style lang=\"scss\" scoped>\n-\n-</style>"
    },
    {
      "sha": "c5cef54cb46cdd4a8057d0ba3a91c388bd7485fc",
      "filename": "test/ssg-test/.vitepress/theme/Layout.vue",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2FLayout.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2FLayout.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2F.vitepress%2Ftheme%2FLayout.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,13 +1,9 @@\n <script setup>\n import DefaultTheme from 'vitepress/theme'\n-import { onMounted } from 'vue'\n import Artalk from './Artalk.vue'\n import './style.scss'\n \n const { Layout } = DefaultTheme\n-\n-onMounted(() => {\n-})\n </script>\n \n <template>"
    },
    {
      "sha": "fe9c259abbdc29e4c8aed1adae291e44b2f2188a",
      "filename": "test/ssg-test/.vitepress/theme/index.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2F.vitepress%2Ftheme%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,11 +9,11 @@ export default {\n   extends: DefaultTheme,\n   Layout: () => {\n     return h(DefaultTheme.Layout, null, {\n-      'doc-after': () => h(Artalk)\n+      'doc-after': () => h(Artalk),\n       // https://vitepress.dev/guide/extending-default-theme#layout-slots\n     })\n   },\n   enhanceApp({ app, router, siteData }) {\n     // ...\n-  }\n+  },\n } satisfies Theme"
    },
    {
      "sha": "ad92c97673df17592e0e35a34f3ac8af61bbed92",
      "filename": "test/ssg-test/.vitepress/theme/style.css",
      "status": "modified",
      "additions": 4,
      "deletions": 13,
      "changes": 17,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2Fstyle.css",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2F.vitepress%2Ftheme%2Fstyle.css",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2F.vitepress%2Ftheme%2Fstyle.css?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -43,7 +43,7 @@\n  *   in custom container, badges, etc.\n  * -------------------------------------------------------------------------- */\n \n- :root {\n+:root {\n   --vp-c-default-1: var(--vp-c-gray-1);\n   --vp-c-default-2: var(--vp-c-gray-2);\n   --vp-c-default-3: var(--vp-c-gray-3);\n@@ -92,17 +92,9 @@\n \n :root {\n   --vp-home-hero-name-color: transparent;\n-  --vp-home-hero-name-background: -webkit-linear-gradient(\n-    120deg,\n-    #bd34fe 30%,\n-    #41d1ff\n-  );\n-\n-  --vp-home-hero-image-background-image: linear-gradient(\n-    -45deg,\n-    #bd34fe 50%,\n-    #47caff 50%\n-  );\n+  --vp-home-hero-name-background: -webkit-linear-gradient(120deg, #bd34fe 30%, #41d1ff);\n+\n+  --vp-home-hero-image-background-image: linear-gradient(-45deg, #bd34fe 50%, #47caff 50%);\n   --vp-home-hero-image-filter: blur(44px);\n }\n \n@@ -136,4 +128,3 @@\n .DocSearch {\n   --docsearch-primary-color: var(--vp-c-brand-1) !important;\n }\n-"
    },
    {
      "sha": "691df9cc7e79cadb5ea52c07b34d381d530c21b2",
      "filename": "test/ssg-test/api-examples.md",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2Fapi-examples.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2Fapi-examples.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2Fapi-examples.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -18,12 +18,15 @@ const { theme, page, frontmatter } = useData()\n ## Results\n \n ### Theme Data\n+\n <pre>{{ theme }}</pre>\n \n ### Page Data\n+\n <pre>{{ page }}</pre>\n \n ### Page Frontmatter\n+\n <pre>{{ frontmatter }}</pre>\n ```\n \n@@ -36,12 +39,15 @@ const { site, theme, page, frontmatter } = useData()\n ## Results\n \n ### Theme Data\n+\n <pre>{{ theme }}</pre>\n \n ### Page Data\n+\n <pre>{{ page }}</pre>\n \n ### Page Frontmatter\n+\n <pre>{{ frontmatter }}</pre>\n \n ## More"
    },
    {
      "sha": "1aaaba5aeb0c44d1a69af6ff325182edc7c69ca8",
      "filename": "test/ssg-test/index.md",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2Findex.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2Findex.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2Findex.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,8 +3,8 @@\n layout: home\n \n hero:\n-  name: \"My Awesome Project\"\n-  text: \"A VitePress Site\"\n+  name: My Awesome Project\n+  text: A VitePress Site\n   tagline: My great project tagline\n   actions:\n     - theme: brand\n@@ -22,4 +22,3 @@ features:\n   - title: Feature C\n     details: Lorem ipsum dolor sit amet, consectetur adipiscing elit\n ---\n-"
    },
    {
      "sha": "b2d2ebc33869e8f07f5e8f2fbd298e89dad1681b",
      "filename": "test/ssg-test/package.json",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2Fpackage.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fssg-test%2Fpackage.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2Fpackage.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -16,7 +16,7 @@\n     \"vitepress\": \"1.0.2\"\n   },\n   \"dependencies\": {\n-    \"artalk\": \"link:ui/artalk\",\n+    \"artalk\": \"workspace:*\",\n     \"vue\": \"^3.4.21\"\n   }\n }"
    },
    {
      "sha": "097594865e64145efd1498d8cf4e6ced227a0b51",
      "filename": "test/ssg-test/pnpm-lock.yaml",
      "status": "removed",
      "additions": 0,
      "deletions": 1249,
      "changes": 1249,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/16527ec4f336bf1ddbb73d5a770f9f6eb759aa52/test%2Fssg-test%2Fpnpm-lock.yaml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/16527ec4f336bf1ddbb73d5a770f9f6eb759aa52/test%2Fssg-test%2Fpnpm-lock.yaml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fssg-test%2Fpnpm-lock.yaml?ref=16527ec4f336bf1ddbb73d5a770f9f6eb759aa52",
      "patch": "@@ -1,1249 +0,0 @@\n-lockfileVersion: '6.0'\n-\n-settings:\n-  autoInstallPeers: true\n-  excludeLinksFromLockfile: false\n-\n-dependencies:\n-  artalk:\n-    specifier: link:ui/artalk\n-    version: link:../../ui/artalk\n-  vue:\n-    specifier: ^3.3.12\n-    version: 3.3.12\n-\n-devDependencies:\n-  vitepress:\n-    specifier: 1.0.0-rc.32\n-    version: 1.0.0-rc.32(@algolia/client-search@4.22.0)(search-insights@2.13.0)\n-\n-packages:\n-\n-  /@algolia/autocomplete-core@1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)(search-insights@2.13.0):\n-    resolution: {integrity: sha512-009HdfugtGCdC4JdXUbVJClA0q0zh24yyePn+KUGk3rP7j8FEe/m5Yo/z65gn6nP/cM39PxpzqKrL7A6fP6PPw==}\n-    dependencies:\n-      '@algolia/autocomplete-plugin-algolia-insights': 1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)(search-insights@2.13.0)\n-      '@algolia/autocomplete-shared': 1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)\n-    transitivePeerDependencies:\n-      - '@algolia/client-search'\n-      - algoliasearch\n-      - search-insights\n-    dev: true\n-\n-  /@algolia/autocomplete-plugin-algolia-insights@1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)(search-insights@2.13.0):\n-    resolution: {integrity: sha512-a/yTUkcO/Vyy+JffmAnTWbr4/90cLzw+CC3bRbhnULr/EM0fGNvM13oQQ14f2moLMcVDyAx/leczLlAOovhSZg==}\n-    peerDependencies:\n-      search-insights: '>= 1 < 3'\n-    dependencies:\n-      '@algolia/autocomplete-shared': 1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)\n-      search-insights: 2.13.0\n-    transitivePeerDependencies:\n-      - '@algolia/client-search'\n-      - algoliasearch\n-    dev: true\n-\n-  /@algolia/autocomplete-preset-algolia@1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0):\n-    resolution: {integrity: sha512-d4qlt6YmrLMYy95n5TB52wtNDr6EgAIPH81dvvvW8UmuWRgxEtY0NJiPwl/h95JtG2vmRM804M0DSwMCNZlzRA==}\n-    peerDependencies:\n-      '@algolia/client-search': '>= 4.9.1 < 6'\n-      algoliasearch: '>= 4.9.1 < 6'\n-    dependencies:\n-      '@algolia/autocomplete-shared': 1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)\n-      '@algolia/client-search': 4.22.0\n-      algoliasearch: 4.22.0\n-    dev: true\n-\n-  /@algolia/autocomplete-shared@1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0):\n-    resolution: {integrity: sha512-Wnm9E4Ye6Rl6sTTqjoymD+l8DjSTHsHboVRYrKgEt8Q7UHm9nYbqhN/i0fhUYA3OAEH7WA8x3jfpnmJm3rKvaQ==}\n-    peerDependencies:\n-      '@algolia/client-search': '>= 4.9.1 < 6'\n-      algoliasearch: '>= 4.9.1 < 6'\n-    dependencies:\n-      '@algolia/client-search': 4.22.0\n-      algoliasearch: 4.22.0\n-    dev: true\n-\n-  /@algolia/cache-browser-local-storage@4.22.0:\n-    resolution: {integrity: sha512-uZ1uZMLDZb4qODLfTSNHxSi4fH9RdrQf7DXEzW01dS8XK7QFtFh29N5NGKa9S+Yudf1vUMIF+/RiL4i/J0pWlQ==}\n-    dependencies:\n-      '@algolia/cache-common': 4.22.0\n-    dev: true\n-\n-  /@algolia/cache-common@4.22.0:\n-    resolution: {integrity: sha512-TPwUMlIGPN16eW67qamNQUmxNiGHg/WBqWcrOoCddhqNTqGDPVqmgfaM85LPbt24t3r1z0zEz/tdsmuq3Q6oaA==}\n-    dev: true\n-\n-  /@algolia/cache-in-memory@4.22.0:\n-    resolution: {integrity: sha512-kf4Cio9NpPjzp1+uXQgL4jsMDeck7MP89BYThSvXSjf2A6qV/0KeqQf90TL2ECS02ovLOBXkk98P7qVarM+zGA==}\n-    dependencies:\n-      '@algolia/cache-common': 4.22.0\n-    dev: true\n-\n-  /@algolia/client-account@4.22.0:\n-    resolution: {integrity: sha512-Bjb5UXpWmJT+yGWiqAJL0prkENyEZTBzdC+N1vBuHjwIJcjLMjPB6j1hNBRbT12Lmwi55uzqeMIKS69w+0aPzA==}\n-    dependencies:\n-      '@algolia/client-common': 4.22.0\n-      '@algolia/client-search': 4.22.0\n-      '@algolia/transporter': 4.22.0\n-    dev: true\n-\n-  /@algolia/client-analytics@4.22.0:\n-    resolution: {integrity: sha512-os2K+kHUcwwRa4ArFl5p/3YbF9lN3TLOPkbXXXxOvDpqFh62n9IRZuzfxpHxMPKAQS3Et1s0BkKavnNP02E9Hg==}\n-    dependencies:\n-      '@algolia/client-common': 4.22.0\n-      '@algolia/client-search': 4.22.0\n-      '@algolia/requester-common': 4.22.0\n-      '@algolia/transporter': 4.22.0\n-    dev: true\n-\n-  /@algolia/client-common@4.22.0:\n-    resolution: {integrity: sha512-BlbkF4qXVWuwTmYxVWvqtatCR3lzXwxx628p1wj1Q7QP2+LsTmGt1DiUYRuy9jG7iMsnlExby6kRMOOlbhv2Ag==}\n-    dependencies:\n-      '@algolia/requester-common': 4.22.0\n-      '@algolia/transporter': 4.22.0\n-    dev: true\n-\n-  /@algolia/client-personalization@4.22.0:\n-    resolution: {integrity: sha512-pEOftCxeBdG5pL97WngOBi9w5Vxr5KCV2j2D+xMVZH8MuU/JX7CglDSDDb0ffQWYqcUN+40Ry+xtXEYaGXTGow==}\n-    dependencies:\n-      '@algolia/client-common': 4.22.0\n-      '@algolia/requester-common': 4.22.0\n-      '@algolia/transporter': 4.22.0\n-    dev: true\n-\n-  /@algolia/client-search@4.22.0:\n-    resolution: {integrity: sha512-bn4qQiIdRPBGCwsNuuqB8rdHhGKKWIij9OqidM1UkQxnSG8yzxHdb7CujM30pvp5EnV7jTqDZRbxacbjYVW20Q==}\n-    dependencies:\n-      '@algolia/client-common': 4.22.0\n-      '@algolia/requester-common': 4.22.0\n-      '@algolia/transporter': 4.22.0\n-    dev: true\n-\n-  /@algolia/logger-common@4.22.0:\n-    resolution: {integrity: sha512-HMUQTID0ucxNCXs5d1eBJ5q/HuKg8rFVE/vOiLaM4Abfeq1YnTtGV3+rFEhOPWhRQxNDd+YHa4q864IMc0zHpQ==}\n-    dev: true\n-\n-  /@algolia/logger-console@4.22.0:\n-    resolution: {integrity: sha512-7JKb6hgcY64H7CRm3u6DRAiiEVXMvCJV5gRE672QFOUgDxo4aiDpfU61g6Uzy8NKjlEzHMmgG4e2fklELmPXhQ==}\n-    dependencies:\n-      '@algolia/logger-common': 4.22.0\n-    dev: true\n-\n-  /@algolia/requester-browser-xhr@4.22.0:\n-    resolution: {integrity: sha512-BHfv1h7P9/SyvcDJDaRuIwDu2yrDLlXlYmjvaLZTtPw6Ok/ZVhBR55JqW832XN/Fsl6k3LjdkYHHR7xnsa5Wvg==}\n-    dependencies:\n-      '@algolia/requester-common': 4.22.0\n-    dev: true\n-\n-  /@algolia/requester-common@4.22.0:\n-    resolution: {integrity: sha512-Y9cEH/cKjIIZgzvI1aI0ARdtR/xRrOR13g5psCxkdhpgRN0Vcorx+zePhmAa4jdQNqexpxtkUdcKYugBzMZJgQ==}\n-    dev: true\n-\n-  /@algolia/requester-node-http@4.22.0:\n-    resolution: {integrity: sha512-8xHoGpxVhz3u2MYIieHIB6MsnX+vfd5PS4REgglejJ6lPigftRhTdBCToe6zbwq4p0anZXjjPDvNWMlgK2+xYA==}\n-    dependencies:\n-      '@algolia/requester-common': 4.22.0\n-    dev: true\n-\n-  /@algolia/transporter@4.22.0:\n-    resolution: {integrity: sha512-ieO1k8x2o77GNvOoC+vAkFKppydQSVfbjM3YrSjLmgywiBejPTvU1R1nEvG59JIIUvtSLrZsLGPkd6vL14zopA==}\n-    dependencies:\n-      '@algolia/cache-common': 4.22.0\n-      '@algolia/logger-common': 4.22.0\n-      '@algolia/requester-common': 4.22.0\n-    dev: true\n-\n-  /@babel/helper-string-parser@7.23.4:\n-    resolution: {integrity: sha512-803gmbQdqwdf4olxrX4AJyFBV/RTr3rSmOj0rKwesmzlfhYNDEs+/iOcznzpNWlJlIlTJC2QfPFcHB6DlzdVLQ==}\n-    engines: {node: '>=6.9.0'}\n-\n-  /@babel/helper-validator-identifier@7.22.20:\n-    resolution: {integrity: sha512-Y4OZ+ytlatR8AI+8KZfKuL5urKp7qey08ha31L8b3BwewJAoJamTzyvxPR/5D+KkdJCGPq/+8TukHBlY10FX9A==}\n-    engines: {node: '>=6.9.0'}\n-\n-  /@babel/parser@7.23.6:\n-    resolution: {integrity: sha512-Z2uID7YJ7oNvAI20O9X0bblw7Qqs8Q2hFy0R9tAfnfLkp5MW0UH9eUvnDSnFwKZ0AvgS1ucqR4KzvVHgnke1VQ==}\n-    engines: {node: '>=6.0.0'}\n-    hasBin: true\n-    dependencies:\n-      '@babel/types': 7.23.6\n-\n-  /@babel/types@7.23.6:\n-    resolution: {integrity: sha512-+uarb83brBzPKN38NX1MkB6vb6+mwvR6amUulqAE7ccQw1pEl+bCia9TbdG1lsnFP7lZySvUn37CHyXQdfTwzg==}\n-    engines: {node: '>=6.9.0'}\n-    dependencies:\n-      '@babel/helper-string-parser': 7.23.4\n-      '@babel/helper-validator-identifier': 7.22.20\n-      to-fast-properties: 2.0.0\n-\n-  /@docsearch/css@3.5.2:\n-    resolution: {integrity: sha512-SPiDHaWKQZpwR2siD0KQUwlStvIAnEyK6tAE2h2Wuoq8ue9skzhlyVQ1ddzOxX6khULnAALDiR/isSF3bnuciA==}\n-    dev: true\n-\n-  /@docsearch/js@3.5.2(@algolia/client-search@4.22.0)(search-insights@2.13.0):\n-    resolution: {integrity: sha512-p1YFTCDflk8ieHgFJYfmyHBki1D61+U9idwrLh+GQQMrBSP3DLGKpy0XUJtPjAOPltcVbqsTjiPFfH7JImjUNg==}\n-    dependencies:\n-      '@docsearch/react': 3.5.2(@algolia/client-search@4.22.0)(search-insights@2.13.0)\n-      preact: 10.19.3\n-    transitivePeerDependencies:\n-      - '@algolia/client-search'\n-      - '@types/react'\n-      - react\n-      - react-dom\n-      - search-insights\n-    dev: true\n-\n-  /@docsearch/react@3.5.2(@algolia/client-search@4.22.0)(search-insights@2.13.0):\n-    resolution: {integrity: sha512-9Ahcrs5z2jq/DcAvYtvlqEBHImbm4YJI8M9y0x6Tqg598P40HTEkX7hsMcIuThI+hTFxRGZ9hll0Wygm2yEjng==}\n-    peerDependencies:\n-      '@types/react': '>= 16.8.0 < 19.0.0'\n-      react: '>= 16.8.0 < 19.0.0'\n-      react-dom: '>= 16.8.0 < 19.0.0'\n-      search-insights: '>= 1 < 3'\n-    peerDependenciesMeta:\n-      '@types/react':\n-        optional: true\n-      react:\n-        optional: true\n-      react-dom:\n-        optional: true\n-      search-insights:\n-        optional: true\n-    dependencies:\n-      '@algolia/autocomplete-core': 1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)(search-insights@2.13.0)\n-      '@algolia/autocomplete-preset-algolia': 1.9.3(@algolia/client-search@4.22.0)(algoliasearch@4.22.0)\n-      '@docsearch/css': 3.5.2\n-      algoliasearch: 4.22.0\n-      search-insights: 2.13.0\n-    transitivePeerDependencies:\n-      - '@algolia/client-search'\n-    dev: true\n-\n-  /@esbuild/android-arm64@0.19.9:\n-    resolution: {integrity: sha512-q4cR+6ZD0938R19MyEW3jEsMzbb/1rulLXiNAJQADD/XYp7pT+rOS5JGxvpRW8dFDEfjW4wLgC/3FXIw4zYglQ==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/android-arm@0.19.9:\n-    resolution: {integrity: sha512-jkYjjq7SdsWuNI6b5quymW0oC83NN5FdRPuCbs9HZ02mfVdAP8B8eeqLSYU3gb6OJEaY5CQabtTFbqBf26H3GA==}\n-    engines: {node: '>=12'}\n-    cpu: [arm]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/android-x64@0.19.9:\n-    resolution: {integrity: sha512-KOqoPntWAH6ZxDwx1D6mRntIgZh9KodzgNOy5Ebt9ghzffOk9X2c1sPwtM9P+0eXbefnDhqYfkh5PLP5ULtWFA==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/darwin-arm64@0.19.9:\n-    resolution: {integrity: sha512-KBJ9S0AFyLVx2E5D8W0vExqRW01WqRtczUZ8NRu+Pi+87opZn5tL4Y0xT0mA4FtHctd0ZgwNoN639fUUGlNIWw==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/darwin-x64@0.19.9:\n-    resolution: {integrity: sha512-vE0VotmNTQaTdX0Q9dOHmMTao6ObjyPm58CHZr1UK7qpNleQyxlFlNCaHsHx6Uqv86VgPmR4o2wdNq3dP1qyDQ==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/freebsd-arm64@0.19.9:\n-    resolution: {integrity: sha512-uFQyd/o1IjiEk3rUHSwUKkqZwqdvuD8GevWF065eqgYfexcVkxh+IJgwTaGZVu59XczZGcN/YMh9uF1fWD8j1g==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [freebsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/freebsd-x64@0.19.9:\n-    resolution: {integrity: sha512-WMLgWAtkdTbTu1AWacY7uoj/YtHthgqrqhf1OaEWnZb7PQgpt8eaA/F3LkV0E6K/Lc0cUr/uaVP/49iE4M4asA==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [freebsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-arm64@0.19.9:\n-    resolution: {integrity: sha512-PiPblfe1BjK7WDAKR1Cr9O7VVPqVNpwFcPWgfn4xu0eMemzRp442hXyzF/fSwgrufI66FpHOEJk0yYdPInsmyQ==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-arm@0.19.9:\n-    resolution: {integrity: sha512-C/ChPohUYoyUaqn1h17m/6yt6OB14hbXvT8EgM1ZWaiiTYz7nWZR0SYmMnB5BzQA4GXl3BgBO1l8MYqL/He3qw==}\n-    engines: {node: '>=12'}\n-    cpu: [arm]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-ia32@0.19.9:\n-    resolution: {integrity: sha512-f37i/0zE0MjDxijkPSQw1CO/7C27Eojqb+r3BbHVxMLkj8GCa78TrBZzvPyA/FNLUMzP3eyHCVkAopkKVja+6Q==}\n-    engines: {node: '>=12'}\n-    cpu: [ia32]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-loong64@0.19.9:\n-    resolution: {integrity: sha512-t6mN147pUIf3t6wUt3FeumoOTPfmv9Cc6DQlsVBpB7eCpLOqQDyWBP1ymXn1lDw4fNUSb/gBcKAmvTP49oIkaA==}\n-    engines: {node: '>=12'}\n-    cpu: [loong64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-mips64el@0.19.9:\n-    resolution: {integrity: sha512-jg9fujJTNTQBuDXdmAg1eeJUL4Jds7BklOTkkH80ZgQIoCTdQrDaHYgbFZyeTq8zbY+axgptncko3v9p5hLZtw==}\n-    engines: {node: '>=12'}\n-    cpu: [mips64el]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-ppc64@0.19.9:\n-    resolution: {integrity: sha512-tkV0xUX0pUUgY4ha7z5BbDS85uI7ABw3V1d0RNTii7E9lbmV8Z37Pup2tsLV46SQWzjOeyDi1Q7Wx2+QM8WaCQ==}\n-    engines: {node: '>=12'}\n-    cpu: [ppc64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-riscv64@0.19.9:\n-    resolution: {integrity: sha512-DfLp8dj91cufgPZDXr9p3FoR++m3ZJ6uIXsXrIvJdOjXVREtXuQCjfMfvmc3LScAVmLjcfloyVtpn43D56JFHg==}\n-    engines: {node: '>=12'}\n-    cpu: [riscv64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-s390x@0.19.9:\n-    resolution: {integrity: sha512-zHbglfEdC88KMgCWpOl/zc6dDYJvWGLiUtmPRsr1OgCViu3z5GncvNVdf+6/56O2Ca8jUU+t1BW261V6kp8qdw==}\n-    engines: {node: '>=12'}\n-    cpu: [s390x]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-x64@0.19.9:\n-    resolution: {integrity: sha512-JUjpystGFFmNrEHQnIVG8hKwvA2DN5o7RqiO1CVX8EN/F/gkCjkUMgVn6hzScpwnJtl2mPR6I9XV1oW8k9O+0A==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/netbsd-x64@0.19.9:\n-    resolution: {integrity: sha512-GThgZPAwOBOsheA2RUlW5UeroRfESwMq/guy8uEe3wJlAOjpOXuSevLRd70NZ37ZrpO6RHGHgEHvPg1h3S1Jug==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [netbsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/openbsd-x64@0.19.9:\n-    resolution: {integrity: sha512-Ki6PlzppaFVbLnD8PtlVQfsYw4S9n3eQl87cqgeIw+O3sRr9IghpfSKY62mggdt1yCSZ8QWvTZ9jo9fjDSg9uw==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [openbsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/sunos-x64@0.19.9:\n-    resolution: {integrity: sha512-MLHj7k9hWh4y1ddkBpvRj2b9NCBhfgBt3VpWbHQnXRedVun/hC7sIyTGDGTfsGuXo4ebik2+3ShjcPbhtFwWDw==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [sunos]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/win32-arm64@0.19.9:\n-    resolution: {integrity: sha512-GQoa6OrQ8G08guMFgeXPH7yE/8Dt0IfOGWJSfSH4uafwdC7rWwrfE6P9N8AtPGIjUzdo2+7bN8Xo3qC578olhg==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/win32-ia32@0.19.9:\n-    resolution: {integrity: sha512-UOozV7Ntykvr5tSOlGCrqU3NBr3d8JqPes0QWN2WOXfvkWVGRajC+Ym0/Wj88fUgecUCLDdJPDF0Nna2UK3Qtg==}\n-    engines: {node: '>=12'}\n-    cpu: [ia32]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/win32-x64@0.19.9:\n-    resolution: {integrity: sha512-oxoQgglOP7RH6iasDrhY+R/3cHrfwIDvRlT4CGChflq6twk8iENeVvMJjmvBb94Ik1Z+93iGO27err7w6l54GQ==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@jridgewell/sourcemap-codec@1.4.15:\n-    resolution: {integrity: sha512-eF2rxCRulEKXHTRiDrDy6erMYWqNw4LPdQ8UQA4huuxaQsVeRPFl2oM8oDGxMFhJUWZf9McpLtJasDDZb/Bpeg==}\n-\n-  /@rollup/rollup-android-arm-eabi@4.9.1:\n-    resolution: {integrity: sha512-6vMdBZqtq1dVQ4CWdhFwhKZL6E4L1dV6jUjuBvsavvNJSppzi6dLBbuV+3+IyUREaj9ZFvQefnQm28v4OCXlig==}\n-    cpu: [arm]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-android-arm64@4.9.1:\n-    resolution: {integrity: sha512-Jto9Fl3YQ9OLsTDWtLFPtaIMSL2kwGyGoVCmPC8Gxvym9TCZm4Sie+cVeblPO66YZsYH8MhBKDMGZ2NDxuk/XQ==}\n-    cpu: [arm64]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-darwin-arm64@4.9.1:\n-    resolution: {integrity: sha512-LtYcLNM+bhsaKAIGwVkh5IOWhaZhjTfNOkGzGqdHvhiCUVuJDalvDxEdSnhFzAn+g23wgsycmZk1vbnaibZwwA==}\n-    cpu: [arm64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-darwin-x64@4.9.1:\n-    resolution: {integrity: sha512-KyP/byeXu9V+etKO6Lw3E4tW4QdcnzDG/ake031mg42lob5tN+5qfr+lkcT/SGZaH2PdW4Z1NX9GHEkZ8xV7og==}\n-    cpu: [x64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-arm-gnueabihf@4.9.1:\n-    resolution: {integrity: sha512-Yqz/Doumf3QTKplwGNrCHe/B2p9xqDghBZSlAY0/hU6ikuDVQuOUIpDP/YcmoT+447tsZTmirmjgG3znvSCR0Q==}\n-    cpu: [arm]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-arm64-gnu@4.9.1:\n-    resolution: {integrity: sha512-u3XkZVvxcvlAOlQJ3UsD1rFvLWqu4Ef/Ggl40WAVCuogf4S1nJPHh5RTgqYFpCOvuGJ7H5yGHabjFKEZGExk5Q==}\n-    cpu: [arm64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-arm64-musl@4.9.1:\n-    resolution: {integrity: sha512-0XSYN/rfWShW+i+qjZ0phc6vZ7UWI8XWNz4E/l+6edFt+FxoEghrJHjX1EY/kcUGCnZzYYRCl31SNdfOi450Aw==}\n-    cpu: [arm64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-riscv64-gnu@4.9.1:\n-    resolution: {integrity: sha512-LmYIO65oZVfFt9t6cpYkbC4d5lKHLYv5B4CSHRpnANq0VZUQXGcCPXHzbCXCz4RQnx7jvlYB1ISVNCE/omz5cw==}\n-    cpu: [riscv64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-x64-gnu@4.9.1:\n-    resolution: {integrity: sha512-kr8rEPQ6ns/Lmr/hiw8sEVj9aa07gh1/tQF2Y5HrNCCEPiCBGnBUt9tVusrcBBiJfIt1yNaXN6r1CCmpbFEDpg==}\n-    cpu: [x64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-x64-musl@4.9.1:\n-    resolution: {integrity: sha512-t4QSR7gN+OEZLG0MiCgPqMWZGwmeHhsM4AkegJ0Kiy6TnJ9vZ8dEIwHw1LcZKhbHxTY32hp9eVCMdR3/I8MGRw==}\n-    cpu: [x64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-win32-arm64-msvc@4.9.1:\n-    resolution: {integrity: sha512-7XI4ZCBN34cb+BH557FJPmh0kmNz2c25SCQeT9OiFWEgf8+dL6ZwJ8f9RnUIit+j01u07Yvrsuu1rZGxJCc51g==}\n-    cpu: [arm64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-win32-ia32-msvc@4.9.1:\n-    resolution: {integrity: sha512-yE5c2j1lSWOH5jp+Q0qNL3Mdhr8WuqCNVjc6BxbVfS5cAS6zRmdiw7ktb8GNpDCEUJphILY6KACoFoRtKoqNQg==}\n-    cpu: [ia32]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-win32-x64-msvc@4.9.1:\n-    resolution: {integrity: sha512-PyJsSsafjmIhVgaI1Zdj7m8BB8mMckFah/xbpplObyHfiXzKcI5UOUXRyOdHW7nz4DpMCuzLnF7v5IWHenCwYA==}\n-    cpu: [x64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@types/hast@3.0.3:\n-    resolution: {integrity: sha512-2fYGlaDy/qyLlhidX42wAH0KBi2TCjKMH8CHmBXgRlJ3Y+OXTiqsPQ6IWarZKwF1JoUcAJdPogv1d4b0COTpmQ==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-    dev: true\n-\n-  /@types/linkify-it@3.0.5:\n-    resolution: {integrity: sha512-yg6E+u0/+Zjva+buc3EIb+29XEg4wltq7cSmd4Uc2EE/1nUVmxyzpX6gUXD0V8jIrG0r7YeOGVIbYRkxeooCtw==}\n-    dev: true\n-\n-  /@types/markdown-it@13.0.7:\n-    resolution: {integrity: sha512-U/CBi2YUUcTHBt5tjO2r5QV/x0Po6nsYwQU4Y04fBS6vfoImaiZ6f8bi3CjTCxBPQSO1LMyUqkByzi8AidyxfA==}\n-    dependencies:\n-      '@types/linkify-it': 3.0.5\n-      '@types/mdurl': 1.0.5\n-    dev: true\n-\n-  /@types/mdast@4.0.3:\n-    resolution: {integrity: sha512-LsjtqsyF+d2/yFOYaN22dHZI1Cpwkrj+g06G8+qtUKlhovPW89YhqSnfKtMbkgmEtYpH2gydRNULd6y8mciAFg==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-    dev: true\n-\n-  /@types/mdurl@1.0.5:\n-    resolution: {integrity: sha512-6L6VymKTzYSrEf4Nev4Xa1LCHKrlTlYCBMTlQKFuddo1CvQcE52I0mwfOJayueUC7MJuXOeHTcIU683lzd0cUA==}\n-    dev: true\n-\n-  /@types/unist@3.0.2:\n-    resolution: {integrity: sha512-dqId9J8K/vGi5Zr7oo212BGii5m3q5Hxlkwy3WpYuKPklmBEvsbMYYyLxAQpSffdLl/gdW0XUpKWFvYmyoWCoQ==}\n-    dev: true\n-\n-  /@types/web-bluetooth@0.0.20:\n-    resolution: {integrity: sha512-g9gZnnXVq7gM7v3tJCWV/qw7w+KeOlSHAhgF9RytFyifW6AF61hdT2ucrYhPq9hLs5JIryeupHV3qGk95dH9ow==}\n-    dev: true\n-\n-  /@ungap/structured-clone@1.2.0:\n-    resolution: {integrity: sha512-zuVdFrMJiuCDQUMCzQaD6KL28MjnqqN8XnAqiEq9PNm/hCPTSGfrXCOfwj1ow4LFb/tNymJPwsNbVePc1xFqrQ==}\n-    dev: true\n-\n-  /@vitejs/plugin-vue@4.5.2(vite@5.0.10)(vue@3.3.12):\n-    resolution: {integrity: sha512-UGR3DlzLi/SaVBPX0cnSyE37vqxU3O6chn8l0HJNzQzDia6/Au2A4xKv+iIJW8w2daf80G7TYHhi1pAUjdZ0bQ==}\n-    engines: {node: ^14.18.0 || >=16.0.0}\n-    peerDependencies:\n-      vite: ^4.0.0 || ^5.0.0\n-      vue: ^3.2.25\n-    dependencies:\n-      vite: 5.0.10\n-      vue: 3.3.12\n-    dev: true\n-\n-  /@vue/compiler-core@3.3.12:\n-    resolution: {integrity: sha512-qAtjyG3GBLG0chzp5xGCyRLLe6wFCHmjI82aGzwuGKyznNP+GJJMxjc0wOYWDB2YKfho7niJFdoFpo0CZZQg9w==}\n-    dependencies:\n-      '@babel/parser': 7.23.6\n-      '@vue/shared': 3.3.12\n-      estree-walker: 2.0.2\n-      source-map-js: 1.0.2\n-\n-  /@vue/compiler-dom@3.3.12:\n-    resolution: {integrity: sha512-RdJU9oEYaoPKUdGXCy0l+i4clesdDeLmbvRlszoc9iagsnBnMmQtYfCPVQ5BHB6o7K4SCucDdJM2Dh3oXB0D6g==}\n-    dependencies:\n-      '@vue/compiler-core': 3.3.12\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/compiler-sfc@3.3.12:\n-    resolution: {integrity: sha512-yy5b9e7b79dsGbMmglCe/YnhCQgBkHO7Uf6JfjWPSf2/5XH+MKn18LhzhHyxbHdJgnA4lZCqtXzLaJz8Pd8lMw==}\n-    dependencies:\n-      '@babel/parser': 7.23.6\n-      '@vue/compiler-core': 3.3.12\n-      '@vue/compiler-dom': 3.3.12\n-      '@vue/compiler-ssr': 3.3.12\n-      '@vue/reactivity-transform': 3.3.12\n-      '@vue/shared': 3.3.12\n-      estree-walker: 2.0.2\n-      magic-string: 0.30.5\n-      postcss: 8.4.32\n-      source-map-js: 1.0.2\n-\n-  /@vue/compiler-ssr@3.3.12:\n-    resolution: {integrity: sha512-adCiMJPznfWcQyk/9HSuXGja859IaMV+b8UNSVzDatqv7h0PvT9BEeS22+gjkWofDiSg5d78/ZLls3sLA+cn3A==}\n-    dependencies:\n-      '@vue/compiler-dom': 3.3.12\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/devtools-api@6.5.1:\n-    resolution: {integrity: sha512-+KpckaAQyfbvshdDW5xQylLni1asvNSGme1JFs8I1+/H5pHEhqUKMEQD/qn3Nx5+/nycBq11qAEi8lk+LXI2dA==}\n-    dev: true\n-\n-  /@vue/reactivity-transform@3.3.12:\n-    resolution: {integrity: sha512-g5TijmML7FyKkLt6QnpqNmA4KD7K/T5SbXa88Bhq+hydNQEkzA8veVXWAQuNqg9rjaFYD0rPf0a9NofKA0ENgg==}\n-    dependencies:\n-      '@babel/parser': 7.23.6\n-      '@vue/compiler-core': 3.3.12\n-      '@vue/shared': 3.3.12\n-      estree-walker: 2.0.2\n-      magic-string: 0.30.5\n-\n-  /@vue/reactivity@3.3.12:\n-    resolution: {integrity: sha512-vOJORzO8DlIx88cgTnMLIf2GlLYpoXAKsuoQsK6SGdaqODjxO129pVPTd2s/N/Mb6KKZEFIHIEwWGmtN4YPs+g==}\n-    dependencies:\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/runtime-core@3.3.12:\n-    resolution: {integrity: sha512-5iL4w7MZrSGKEZU2wFAYhDZdZmgn+s//73EfgDXW1M+ZUOl36md7tlWp1QFK/ladiq4FvQ82shVjo0KiPDPr0A==}\n-    dependencies:\n-      '@vue/reactivity': 3.3.12\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/runtime-dom@3.3.12:\n-    resolution: {integrity: sha512-8mMzqiIdl+IYa/OXwKwk6/4ebLq7cYV1pUcwCSwBK2KerUa6cwGosen5xrCL9f8o2DJ9TfPFwbPEvH7OXzUpoA==}\n-    dependencies:\n-      '@vue/runtime-core': 3.3.12\n-      '@vue/shared': 3.3.12\n-      csstype: 3.1.3\n-\n-  /@vue/server-renderer@3.3.12(vue@3.3.12):\n-    resolution: {integrity: sha512-OZ0IEK5TU5GXb5J8/wSplyxvGGdIcwEmS8EIO302Vz8K6fGSgSJTU54X0Sb6PaefzZdiN3vHsLXO8XIeF8crQQ==}\n-    peerDependencies:\n-      vue: 3.3.12\n-    dependencies:\n-      '@vue/compiler-ssr': 3.3.12\n-      '@vue/shared': 3.3.12\n-      vue: 3.3.12\n-\n-  /@vue/shared@3.3.12:\n-    resolution: {integrity: sha512-6p0Yin0pclvnER7BLNOQuod9Z+cxSYh8pSh7CzHnWNjAIP6zrTlCdHRvSCb1aYEx6i3Q3kvfuWU7nG16CgG1ag==}\n-\n-  /@vueuse/core@10.7.0(vue@3.3.12):\n-    resolution: {integrity: sha512-4EUDESCHtwu44ZWK3Gc/hZUVhVo/ysvdtwocB5vcauSV4B7NiGY5972WnsojB3vRNdxvAt7kzJWE2h9h7C9d5w==}\n-    dependencies:\n-      '@types/web-bluetooth': 0.0.20\n-      '@vueuse/metadata': 10.7.0\n-      '@vueuse/shared': 10.7.0(vue@3.3.12)\n-      vue-demi: 0.14.6(vue@3.3.12)\n-    transitivePeerDependencies:\n-      - '@vue/composition-api'\n-      - vue\n-    dev: true\n-\n-  /@vueuse/integrations@10.7.0(focus-trap@7.5.4)(vue@3.3.12):\n-    resolution: {integrity: sha512-rxiMYgS+91n93qXpHZF9NbHhppWY6IJyVTDxt4acyChL0zZVx7P8FAAfpF1qVK8e4wfjerhpEiMJ0IZ1GWUZ2A==}\n-    peerDependencies:\n-      async-validator: '*'\n-      axios: '*'\n-      change-case: '*'\n-      drauu: '*'\n-      focus-trap: '*'\n-      fuse.js: '*'\n-      idb-keyval: '*'\n-      jwt-decode: '*'\n-      nprogress: '*'\n-      qrcode: '*'\n-      sortablejs: '*'\n-      universal-cookie: '*'\n-    peerDependenciesMeta:\n-      async-validator:\n-        optional: true\n-      axios:\n-        optional: true\n-      change-case:\n-        optional: true\n-      drauu:\n-        optional: true\n-      focus-trap:\n-        optional: true\n-      fuse.js:\n-        optional: true\n-      idb-keyval:\n-        optional: true\n-      jwt-decode:\n-        optional: true\n-      nprogress:\n-        optional: true\n-      qrcode:\n-        optional: true\n-      sortablejs:\n-        optional: true\n-      universal-cookie:\n-        optional: true\n-    dependencies:\n-      '@vueuse/core': 10.7.0(vue@3.3.12)\n-      '@vueuse/shared': 10.7.0(vue@3.3.12)\n-      focus-trap: 7.5.4\n-      vue-demi: 0.14.6(vue@3.3.12)\n-    transitivePeerDependencies:\n-      - '@vue/composition-api'\n-      - vue\n-    dev: true\n-\n-  /@vueuse/metadata@10.7.0:\n-    resolution: {integrity: sha512-GlaH7tKP2iBCZ3bHNZ6b0cl9g0CJK8lttkBNUX156gWvNYhTKEtbweWLm9rxCPIiwzYcr/5xML6T8ZUEt+DkvA==}\n-    dev: true\n-\n-  /@vueuse/shared@10.7.0(vue@3.3.12):\n-    resolution: {integrity: sha512-kc00uV6CiaTdc3i1CDC4a3lBxzaBE9AgYNtFN87B5OOscqeWElj/uza8qVDmk7/U8JbqoONLbtqiLJ5LGRuqlw==}\n-    dependencies:\n-      vue-demi: 0.14.6(vue@3.3.12)\n-    transitivePeerDependencies:\n-      - '@vue/composition-api'\n-      - vue\n-    dev: true\n-\n-  /algoliasearch@4.22.0:\n-    resolution: {integrity: sha512-gfceltjkwh7PxXwtkS8KVvdfK+TSNQAWUeNSxf4dA29qW5tf2EGwa8jkJujlT9jLm17cixMVoGNc+GJFO1Mxhg==}\n-    dependencies:\n-      '@algolia/cache-browser-local-storage': 4.22.0\n-      '@algolia/cache-common': 4.22.0\n-      '@algolia/cache-in-memory': 4.22.0\n-      '@algolia/client-account': 4.22.0\n-      '@algolia/client-analytics': 4.22.0\n-      '@algolia/client-common': 4.22.0\n-      '@algolia/client-personalization': 4.22.0\n-      '@algolia/client-search': 4.22.0\n-      '@algolia/logger-common': 4.22.0\n-      '@algolia/logger-console': 4.22.0\n-      '@algolia/requester-browser-xhr': 4.22.0\n-      '@algolia/requester-common': 4.22.0\n-      '@algolia/requester-node-http': 4.22.0\n-      '@algolia/transporter': 4.22.0\n-    dev: true\n-\n-  /ccount@2.0.1:\n-    resolution: {integrity: sha512-eyrF0jiFpY+3drT6383f1qhkbGsLSifNAjA61IUjZjmLCWjItY6LB9ft9YhoDgwfmclB2zhu51Lc7+95b8NRAg==}\n-    dev: true\n-\n-  /character-entities-html4@2.1.0:\n-    resolution: {integrity: sha512-1v7fgQRj6hnSwFpq1Eu0ynr/CDEw0rXo2B61qXrLNdHZmPKgb7fqS1a2JwF0rISo9q77jDI8VMEHoApn8qDoZA==}\n-    dev: true\n-\n-  /character-entities-legacy@3.0.0:\n-    resolution: {integrity: sha512-RpPp0asT/6ufRm//AJVwpViZbGM/MkjQFxJccQRHmISF/22NBtsHqAWmL+/pmkPWoIUJdWyeVleTl1wydHATVQ==}\n-    dev: true\n-\n-  /comma-separated-tokens@2.0.3:\n-    resolution: {integrity: sha512-Fu4hJdvzeylCfQPp9SGWidpzrMs7tTrlu6Vb8XGaRGck8QSNZJJp538Wrb60Lax4fPwR64ViY468OIUTbRlGZg==}\n-    dev: true\n-\n-  /csstype@3.1.3:\n-    resolution: {integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==}\n-\n-  /dequal@2.0.3:\n-    resolution: {integrity: sha512-0je+qPKHEMohvfRTCEo3CrPG6cAzAYgmzKyxRiYSSDkS6eGJdyVJm7WaYA5ECaAD9wLB2T4EEeymA5aFVcYXCA==}\n-    engines: {node: '>=6'}\n-    dev: true\n-\n-  /devlop@1.1.0:\n-    resolution: {integrity: sha512-RWmIqhcFf1lRYBvNmr7qTNuyCt/7/ns2jbpp1+PalgE/rDQcBT0fioSMUpJ93irlUhC5hrg4cYqe6U+0ImW0rA==}\n-    dependencies:\n-      dequal: 2.0.3\n-    dev: true\n-\n-  /entities@4.5.0:\n-    resolution: {integrity: sha512-V0hjH4dGPh9Ao5p0MoRY6BVqtwCjhz6vI5LT8AJ55H+4g9/4vbHx1I54fS0XuclLhDHArPQCiMjDxjaL8fPxhw==}\n-    engines: {node: '>=0.12'}\n-    dev: true\n-\n-  /esbuild@0.19.9:\n-    resolution: {integrity: sha512-U9CHtKSy+EpPsEBa+/A2gMs/h3ylBC0H0KSqIg7tpztHerLi6nrrcoUJAkNCEPumx8yJ+Byic4BVwHgRbN0TBg==}\n-    engines: {node: '>=12'}\n-    hasBin: true\n-    requiresBuild: true\n-    optionalDependencies:\n-      '@esbuild/android-arm': 0.19.9\n-      '@esbuild/android-arm64': 0.19.9\n-      '@esbuild/android-x64': 0.19.9\n-      '@esbuild/darwin-arm64': 0.19.9\n-      '@esbuild/darwin-x64': 0.19.9\n-      '@esbuild/freebsd-arm64': 0.19.9\n-      '@esbuild/freebsd-x64': 0.19.9\n-      '@esbuild/linux-arm': 0.19.9\n-      '@esbuild/linux-arm64': 0.19.9\n-      '@esbuild/linux-ia32': 0.19.9\n-      '@esbuild/linux-loong64': 0.19.9\n-      '@esbuild/linux-mips64el': 0.19.9\n-      '@esbuild/linux-ppc64': 0.19.9\n-      '@esbuild/linux-riscv64': 0.19.9\n-      '@esbuild/linux-s390x': 0.19.9\n-      '@esbuild/linux-x64': 0.19.9\n-      '@esbuild/netbsd-x64': 0.19.9\n-      '@esbuild/openbsd-x64': 0.19.9\n-      '@esbuild/sunos-x64': 0.19.9\n-      '@esbuild/win32-arm64': 0.19.9\n-      '@esbuild/win32-ia32': 0.19.9\n-      '@esbuild/win32-x64': 0.19.9\n-    dev: true\n-\n-  /estree-walker@2.0.2:\n-    resolution: {integrity: sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==}\n-\n-  /focus-trap@7.5.4:\n-    resolution: {integrity: sha512-N7kHdlgsO/v+iD/dMoJKtsSqs5Dz/dXZVebRgJw23LDk+jMi/974zyiOYDziY2JPp8xivq9BmUGwIJMiuSBi7w==}\n-    dependencies:\n-      tabbable: 6.2.0\n-    dev: true\n-\n-  /fsevents@2.3.3:\n-    resolution: {integrity: sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==}\n-    engines: {node: ^8.16.0 || ^10.6.0 || >=11.0.0}\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /hast-util-from-parse5@8.0.1:\n-    resolution: {integrity: sha512-Er/Iixbc7IEa7r/XLtuG52zoqn/b3Xng/w6aZQ0xGVxzhw5xUFxcRqdPzP6yFi/4HBYRaifaI5fQ1RH8n0ZeOQ==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-      '@types/unist': 3.0.2\n-      devlop: 1.1.0\n-      hastscript: 8.0.0\n-      property-information: 6.4.0\n-      vfile: 6.0.1\n-      vfile-location: 5.0.2\n-      web-namespaces: 2.0.1\n-    dev: true\n-\n-  /hast-util-parse-selector@4.0.0:\n-    resolution: {integrity: sha512-wkQCkSYoOGCRKERFWcxMVMOcYE2K1AaNLU8DXS9arxnLOUEWbOXKXiJUNzEpqZ3JOKpnha3jkFrumEjVliDe7A==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-    dev: true\n-\n-  /hast-util-raw@9.0.1:\n-    resolution: {integrity: sha512-5m1gmba658Q+lO5uqL5YNGQWeh1MYWZbZmWrM5lncdcuiXuo5E2HT/CIOp0rLF8ksfSwiCVJ3twlgVRyTGThGA==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-      '@types/unist': 3.0.2\n-      '@ungap/structured-clone': 1.2.0\n-      hast-util-from-parse5: 8.0.1\n-      hast-util-to-parse5: 8.0.0\n-      html-void-elements: 3.0.0\n-      mdast-util-to-hast: 13.0.2\n-      parse5: 7.1.2\n-      unist-util-position: 5.0.0\n-      unist-util-visit: 5.0.0\n-      vfile: 6.0.1\n-      web-namespaces: 2.0.1\n-      zwitch: 2.0.4\n-    dev: true\n-\n-  /hast-util-to-html@9.0.0:\n-    resolution: {integrity: sha512-IVGhNgg7vANuUA2XKrT6sOIIPgaYZnmLx3l/CCOAK0PtgfoHrZwX7jCSYyFxHTrGmC6S9q8aQQekjp4JPZF+cw==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-      '@types/unist': 3.0.2\n-      ccount: 2.0.1\n-      comma-separated-tokens: 2.0.3\n-      hast-util-raw: 9.0.1\n-      hast-util-whitespace: 3.0.0\n-      html-void-elements: 3.0.0\n-      mdast-util-to-hast: 13.0.2\n-      property-information: 6.4.0\n-      space-separated-tokens: 2.0.2\n-      stringify-entities: 4.0.3\n-      zwitch: 2.0.4\n-    dev: true\n-\n-  /hast-util-to-parse5@8.0.0:\n-    resolution: {integrity: sha512-3KKrV5ZVI8if87DVSi1vDeByYrkGzg4mEfeu4alwgmmIeARiBLKCZS2uw5Gb6nU9x9Yufyj3iudm6i7nl52PFw==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-      comma-separated-tokens: 2.0.3\n-      devlop: 1.1.0\n-      property-information: 6.4.0\n-      space-separated-tokens: 2.0.2\n-      web-namespaces: 2.0.1\n-      zwitch: 2.0.4\n-    dev: true\n-\n-  /hast-util-whitespace@3.0.0:\n-    resolution: {integrity: sha512-88JUN06ipLwsnv+dVn+OIYOvAuvBMy/Qoi6O7mQHxdPXpjy+Cd6xRkWwux7DKO+4sYILtLBRIKgsdpS2gQc7qw==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-    dev: true\n-\n-  /hastscript@8.0.0:\n-    resolution: {integrity: sha512-dMOtzCEd3ABUeSIISmrETiKuyydk1w0pa+gE/uormcTpSYuaNJPbX1NU3JLyscSLjwAQM8bWMhhIlnCqnRvDTw==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-      comma-separated-tokens: 2.0.3\n-      hast-util-parse-selector: 4.0.0\n-      property-information: 6.4.0\n-      space-separated-tokens: 2.0.2\n-    dev: true\n-\n-  /html-void-elements@3.0.0:\n-    resolution: {integrity: sha512-bEqo66MRXsUGxWHV5IP0PUiAWwoEjba4VCzg0LjFJBpchPaTfyfCKTG6bc5F8ucKec3q5y6qOdGyYTSBEvhCrg==}\n-    dev: true\n-\n-  /magic-string@0.30.5:\n-    resolution: {integrity: sha512-7xlpfBaQaP/T6Vh8MO/EqXSW5En6INHEvEXQiuff7Gku0PWjU3uf6w/j9o7O+SpB5fOAkrI5HeoNgwjEO0pFsA==}\n-    engines: {node: '>=12'}\n-    dependencies:\n-      '@jridgewell/sourcemap-codec': 1.4.15\n-\n-  /mark.js@8.11.1:\n-    resolution: {integrity: sha512-1I+1qpDt4idfgLQG+BNWmrqku+7/2bi5nLf4YwF8y8zXvmfiTBY3PV3ZibfrjBueCByROpuBjLLFCajqkgYoLQ==}\n-    dev: true\n-\n-  /mdast-util-to-hast@13.0.2:\n-    resolution: {integrity: sha512-U5I+500EOOw9e3ZrclN3Is3fRpw8c19SMyNZlZ2IS+7vLsNzb2Om11VpIVOR+/0137GhZsFEF6YiKD5+0Hr2Og==}\n-    dependencies:\n-      '@types/hast': 3.0.3\n-      '@types/mdast': 4.0.3\n-      '@ungap/structured-clone': 1.2.0\n-      devlop: 1.1.0\n-      micromark-util-sanitize-uri: 2.0.0\n-      trim-lines: 3.0.1\n-      unist-util-position: 5.0.0\n-      unist-util-visit: 5.0.0\n-    dev: true\n-\n-  /micromark-util-character@2.0.1:\n-    resolution: {integrity: sha512-3wgnrmEAJ4T+mGXAUfMvMAbxU9RDG43XmGce4j6CwPtVxB3vfwXSZ6KhFwDzZ3mZHhmPimMAXg71veiBGzeAZw==}\n-    dependencies:\n-      micromark-util-symbol: 2.0.0\n-      micromark-util-types: 2.0.0\n-    dev: true\n-\n-  /micromark-util-encode@2.0.0:\n-    resolution: {integrity: sha512-pS+ROfCXAGLWCOc8egcBvT0kf27GoWMqtdarNfDcjb6YLuV5cM3ioG45Ys2qOVqeqSbjaKg72vU+Wby3eddPsA==}\n-    dev: true\n-\n-  /micromark-util-sanitize-uri@2.0.0:\n-    resolution: {integrity: sha512-WhYv5UEcZrbAtlsnPuChHUAsu/iBPOVaEVsntLBIdpibO0ddy8OzavZz3iL2xVvBZOpolujSliP65Kq0/7KIYw==}\n-    dependencies:\n-      micromark-util-character: 2.0.1\n-      micromark-util-encode: 2.0.0\n-      micromark-util-symbol: 2.0.0\n-    dev: true\n-\n-  /micromark-util-symbol@2.0.0:\n-    resolution: {integrity: sha512-8JZt9ElZ5kyTnO94muPxIGS8oyElRJaiJO8EzV6ZSyGQ1Is8xwl4Q45qU5UOg+bGH4AikWziz0iN4sFLWs8PGw==}\n-    dev: true\n-\n-  /micromark-util-types@2.0.0:\n-    resolution: {integrity: sha512-oNh6S2WMHWRZrmutsRmDDfkzKtxF+bc2VxLC9dvtrDIRFln627VsFP6fLMgTryGDljgLPjkrzQSDcPrjPyDJ5w==}\n-    dev: true\n-\n-  /minisearch@6.3.0:\n-    resolution: {integrity: sha512-ihFnidEeU8iXzcVHy74dhkxh/dn8Dc08ERl0xwoMMGqp4+LvRSCgicb+zGqWthVokQKvCSxITlh3P08OzdTYCQ==}\n-    dev: true\n-\n-  /mrmime@1.0.1:\n-    resolution: {integrity: sha512-hzzEagAgDyoU1Q6yg5uI+AorQgdvMCur3FcKf7NhMKWsaYg+RnbTyHRa/9IlLF9rf455MOCtcqqrQQ83pPP7Uw==}\n-    engines: {node: '>=10'}\n-    dev: true\n-\n-  /nanoid@3.3.7:\n-    resolution: {integrity: sha512-eSRppjcPIatRIMC1U6UngP8XFcz8MQWGQdt1MTBQ7NaAmvXDfvNxbvWV3x2y6CdEUciCSsDHDQZbhYaB8QEo2g==}\n-    engines: {node: ^10 || ^12 || ^13.7 || ^14 || >=15.0.1}\n-    hasBin: true\n-\n-  /parse5@7.1.2:\n-    resolution: {integrity: sha512-Czj1WaSVpaoj0wbhMzLmWD69anp2WH7FXMB9n1Sy8/ZFF9jolSQVMu1Ij5WIyGmcBmhk7EOndpO4mIpihVqAXw==}\n-    dependencies:\n-      entities: 4.5.0\n-    dev: true\n-\n-  /picocolors@1.0.0:\n-    resolution: {integrity: sha512-1fygroTLlHu66zi26VoTDv8yRgm0Fccecssto+MhsZ0D/DGW2sm8E8AjW7NU5VVTRt5GxbeZ5qBuJr+HyLYkjQ==}\n-\n-  /postcss@8.4.32:\n-    resolution: {integrity: sha512-D/kj5JNu6oo2EIy+XL/26JEDTlIbB8hw85G8StOE6L74RQAVVP5rej6wxCNqyMbR4RkPfqvezVbPw81Ngd6Kcw==}\n-    engines: {node: ^10 || ^12 || >=14}\n-    dependencies:\n-      nanoid: 3.3.7\n-      picocolors: 1.0.0\n-      source-map-js: 1.0.2\n-\n-  /preact@10.19.3:\n-    resolution: {integrity: sha512-nHHTeFVBTHRGxJXKkKu5hT8C/YWBkPso4/Gad6xuj5dbptt9iF9NZr9pHbPhBrnT2klheu7mHTxTZ/LjwJiEiQ==}\n-    dev: true\n-\n-  /property-information@6.4.0:\n-    resolution: {integrity: sha512-9t5qARVofg2xQqKtytzt+lZ4d1Qvj8t5B8fEwXK6qOfgRLgH/b13QlgEyDh033NOS31nXeFbYv7CLUDG1CeifQ==}\n-    dev: true\n-\n-  /rollup@4.9.1:\n-    resolution: {integrity: sha512-pgPO9DWzLoW/vIhlSoDByCzcpX92bKEorbgXuZrqxByte3JFk2xSW2JEeAcyLc9Ru9pqcNNW+Ob7ntsk2oT/Xw==}\n-    engines: {node: '>=18.0.0', npm: '>=8.0.0'}\n-    hasBin: true\n-    optionalDependencies:\n-      '@rollup/rollup-android-arm-eabi': 4.9.1\n-      '@rollup/rollup-android-arm64': 4.9.1\n-      '@rollup/rollup-darwin-arm64': 4.9.1\n-      '@rollup/rollup-darwin-x64': 4.9.1\n-      '@rollup/rollup-linux-arm-gnueabihf': 4.9.1\n-      '@rollup/rollup-linux-arm64-gnu': 4.9.1\n-      '@rollup/rollup-linux-arm64-musl': 4.9.1\n-      '@rollup/rollup-linux-riscv64-gnu': 4.9.1\n-      '@rollup/rollup-linux-x64-gnu': 4.9.1\n-      '@rollup/rollup-linux-x64-musl': 4.9.1\n-      '@rollup/rollup-win32-arm64-msvc': 4.9.1\n-      '@rollup/rollup-win32-ia32-msvc': 4.9.1\n-      '@rollup/rollup-win32-x64-msvc': 4.9.1\n-      fsevents: 2.3.3\n-    dev: true\n-\n-  /search-insights@2.13.0:\n-    resolution: {integrity: sha512-Orrsjf9trHHxFRuo9/rzm0KIWmgzE8RMlZMzuhZOJ01Rnz3D0YBAe+V6473t6/H6c7irs6Lt48brULAiRWb3Vw==}\n-    dev: true\n-\n-  /shikiji-transformers@0.9.2:\n-    resolution: {integrity: sha512-WEBeNm+oUL/4OTENjnZ5G29ErNM2cPGJHRRhqjwoTFkHnsJsACtTluTaYjPEppCl46Vo3M4TV9GwrMxz2WeCSg==}\n-    dependencies:\n-      shikiji: 0.9.2\n-    dev: true\n-\n-  /shikiji@0.9.2:\n-    resolution: {integrity: sha512-bxXd5iOVvuPj0NVFWQG3YMNLAGkWHyjTGixM7wLzqJNz3WMaeiOZbOP12gjQWKMJg+Ca4jmgATrUWu/rFb3B8A==}\n-    dependencies:\n-      hast-util-to-html: 9.0.0\n-    dev: true\n-\n-  /source-map-js@1.0.2:\n-    resolution: {integrity: sha512-R0XvVJ9WusLiqTCEiGCmICCMplcCkIwwR11mOSD9CR5u+IXYdiseeEuXCVAjS54zqwkLcPNnmU4OeJ6tUrWhDw==}\n-    engines: {node: '>=0.10.0'}\n-\n-  /space-separated-tokens@2.0.2:\n-    resolution: {integrity: sha512-PEGlAwrG8yXGXRjW32fGbg66JAlOAwbObuqVoJpv/mRgoWDQfgH1wDPvtzWyUSNAXBGSk8h755YDbbcEy3SH2Q==}\n-    dev: true\n-\n-  /stringify-entities@4.0.3:\n-    resolution: {integrity: sha512-BP9nNHMhhfcMbiuQKCqMjhDP5yBCAxsPu4pHFFzJ6Alo9dZgY4VLDPutXqIjpRiMoKdp7Av85Gr73Q5uH9k7+g==}\n-    dependencies:\n-      character-entities-html4: 2.1.0\n-      character-entities-legacy: 3.0.0\n-    dev: true\n-\n-  /tabbable@6.2.0:\n-    resolution: {integrity: sha512-Cat63mxsVJlzYvN51JmVXIgNoUokrIaT2zLclCXjRd8boZ0004U4KCs/sToJ75C6sdlByWxpYnb5Boif1VSFew==}\n-    dev: true\n-\n-  /to-fast-properties@2.0.0:\n-    resolution: {integrity: sha512-/OaKK0xYrs3DmxRYqL/yDc+FxFUVYhDlXMhRmv3z915w2HF1tnN1omB354j8VUGO/hbRzyD6Y3sA7v7GS/ceog==}\n-    engines: {node: '>=4'}\n-\n-  /trim-lines@3.0.1:\n-    resolution: {integrity: sha512-kRj8B+YHZCc9kQYdWfJB2/oUl9rA99qbowYYBtr4ui4mZyAQ2JpvVBd/6U2YloATfqBhBTSMhTpgBHtU0Mf3Rg==}\n-    dev: true\n-\n-  /unist-util-is@6.0.0:\n-    resolution: {integrity: sha512-2qCTHimwdxLfz+YzdGfkqNlH0tLi9xjTnHddPmJwtIG9MGsdbutfTc4P+haPD7l7Cjxf/WZj+we5qfVPvvxfYw==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-    dev: true\n-\n-  /unist-util-position@5.0.0:\n-    resolution: {integrity: sha512-fucsC7HjXvkB5R3kTCO7kUjRdrS0BJt3M/FPxmHMBOm8JQi2BsHAHFsy27E0EolP8rp0NzXsJ+jNPyDWvOJZPA==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-    dev: true\n-\n-  /unist-util-stringify-position@4.0.0:\n-    resolution: {integrity: sha512-0ASV06AAoKCDkS2+xw5RXJywruurpbC4JZSm7nr7MOt1ojAzvyyaO+UxZf18j8FCF6kmzCZKcAgN/yu2gm2XgQ==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-    dev: true\n-\n-  /unist-util-visit-parents@6.0.1:\n-    resolution: {integrity: sha512-L/PqWzfTP9lzzEa6CKs0k2nARxTdZduw3zyh8d2NVBnsyvHjSX4TWse388YrrQKbvI8w20fGjGlhgT96WwKykw==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-      unist-util-is: 6.0.0\n-    dev: true\n-\n-  /unist-util-visit@5.0.0:\n-    resolution: {integrity: sha512-MR04uvD+07cwl/yhVuVWAtw+3GOR/knlL55Nd/wAdblk27GCVt3lqpTivy/tkJcZoNPzTwS1Y+KMojlLDhoTzg==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-      unist-util-is: 6.0.0\n-      unist-util-visit-parents: 6.0.1\n-    dev: true\n-\n-  /vfile-location@5.0.2:\n-    resolution: {integrity: sha512-NXPYyxyBSH7zB5U6+3uDdd6Nybz6o6/od9rk8bp9H8GR3L+cm/fC0uUTbqBmUTnMCUDslAGBOIKNfvvb+gGlDg==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-      vfile: 6.0.1\n-    dev: true\n-\n-  /vfile-message@4.0.2:\n-    resolution: {integrity: sha512-jRDZ1IMLttGj41KcZvlrYAaI3CfqpLpfpf+Mfig13viT6NKvRzWZ+lXz0Y5D60w6uJIBAOGq9mSHf0gktF0duw==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-      unist-util-stringify-position: 4.0.0\n-    dev: true\n-\n-  /vfile@6.0.1:\n-    resolution: {integrity: sha512-1bYqc7pt6NIADBJ98UiG0Bn/CHIVOoZ/IyEkqIruLg0mE1BKzkOXY2D6CSqQIcKqgadppE5lrxgWXJmXd7zZJw==}\n-    dependencies:\n-      '@types/unist': 3.0.2\n-      unist-util-stringify-position: 4.0.0\n-      vfile-message: 4.0.2\n-    dev: true\n-\n-  /vite@5.0.10:\n-    resolution: {integrity: sha512-2P8J7WWgmc355HUMlFrwofacvr98DAjoE52BfdbwQtyLH06XKwaL/FMnmKM2crF0iX4MpmMKoDlNCB1ok7zHCw==}\n-    engines: {node: ^18.0.0 || >=20.0.0}\n-    hasBin: true\n-    peerDependencies:\n-      '@types/node': ^18.0.0 || >=20.0.0\n-      less: '*'\n-      lightningcss: ^1.21.0\n-      sass: '*'\n-      stylus: '*'\n-      sugarss: '*'\n-      terser: ^5.4.0\n-    peerDependenciesMeta:\n-      '@types/node':\n-        optional: true\n-      less:\n-        optional: true\n-      lightningcss:\n-        optional: true\n-      sass:\n-        optional: true\n-      stylus:\n-        optional: true\n-      sugarss:\n-        optional: true\n-      terser:\n-        optional: true\n-    dependencies:\n-      esbuild: 0.19.9\n-      postcss: 8.4.32\n-      rollup: 4.9.1\n-    optionalDependencies:\n-      fsevents: 2.3.3\n-    dev: true\n-\n-  /vitepress@1.0.0-rc.32(@algolia/client-search@4.22.0)(search-insights@2.13.0):\n-    resolution: {integrity: sha512-yf00Skn5BGP+YOQvTbSrB5s9qEb/cV+i+wM5rw+mlaxcIYtK+ORvyBEYZLvKogs7OO70TppJtixb4ofeo5K7HA==}\n-    hasBin: true\n-    peerDependencies:\n-      markdown-it-mathjax3: ^4.3.2\n-      postcss: ^8.4.32\n-    peerDependenciesMeta:\n-      markdown-it-mathjax3:\n-        optional: true\n-      postcss:\n-        optional: true\n-    dependencies:\n-      '@docsearch/css': 3.5.2\n-      '@docsearch/js': 3.5.2(@algolia/client-search@4.22.0)(search-insights@2.13.0)\n-      '@types/markdown-it': 13.0.7\n-      '@vitejs/plugin-vue': 4.5.2(vite@5.0.10)(vue@3.3.12)\n-      '@vue/devtools-api': 6.5.1\n-      '@vueuse/core': 10.7.0(vue@3.3.12)\n-      '@vueuse/integrations': 10.7.0(focus-trap@7.5.4)(vue@3.3.12)\n-      focus-trap: 7.5.4\n-      mark.js: 8.11.1\n-      minisearch: 6.3.0\n-      mrmime: 1.0.1\n-      shikiji: 0.9.2\n-      shikiji-transformers: 0.9.2\n-      vite: 5.0.10\n-      vue: 3.3.12\n-    transitivePeerDependencies:\n-      - '@algolia/client-search'\n-      - '@types/node'\n-      - '@types/react'\n-      - '@vue/composition-api'\n-      - async-validator\n-      - axios\n-      - change-case\n-      - drauu\n-      - fuse.js\n-      - idb-keyval\n-      - jwt-decode\n-      - less\n-      - lightningcss\n-      - nprogress\n-      - qrcode\n-      - react\n-      - react-dom\n-      - sass\n-      - search-insights\n-      - sortablejs\n-      - stylus\n-      - sugarss\n-      - terser\n-      - typescript\n-      - universal-cookie\n-    dev: true\n-\n-  /vue-demi@0.14.6(vue@3.3.12):\n-    resolution: {integrity: sha512-8QA7wrYSHKaYgUxDA5ZC24w+eHm3sYCbp0EzcDwKqN3p6HqtTCGR/GVsPyZW92unff4UlcSh++lmqDWN3ZIq4w==}\n-    engines: {node: '>=12'}\n-    hasBin: true\n-    requiresBuild: true\n-    peerDependencies:\n-      '@vue/composition-api': ^1.0.0-rc.1\n-      vue: ^3.0.0-0 || ^2.6.0\n-    peerDependenciesMeta:\n-      '@vue/composition-api':\n-        optional: true\n-    dependencies:\n-      vue: 3.3.12\n-    dev: true\n-\n-  /vue@3.3.12:\n-    resolution: {integrity: sha512-jYNv2QmET2OTHsFzfWHMnqgCfqL4zfo97QwofdET+GBRCHhSCHuMTTvNIgeSn0/xF3JRT5OGah6MDwUFN7MPlg==}\n-    peerDependencies:\n-      typescript: '*'\n-    peerDependenciesMeta:\n-      typescript:\n-        optional: true\n-    dependencies:\n-      '@vue/compiler-dom': 3.3.12\n-      '@vue/compiler-sfc': 3.3.12\n-      '@vue/runtime-dom': 3.3.12\n-      '@vue/server-renderer': 3.3.12(vue@3.3.12)\n-      '@vue/shared': 3.3.12\n-\n-  /web-namespaces@2.0.1:\n-    resolution: {integrity: sha512-bKr1DkiNa2krS7qxNtdrtHAmzuYGFQLiQ13TsorsdT6ULTkPLKuu5+GsFpDlg6JFjUTwX2DyhMPG2be8uPrqsQ==}\n-    dev: true\n-\n-  /zwitch@2.0.4:\n-    resolution: {integrity: sha512-bXE4cR/kVZhKZX/RjPEflHaKVhUVl85noU3v6b8apfQEc1x4A+zBxjZ4lN8LqGd6WZ3dl98pY4o717VFmoPp+A==}\n-    dev: true"
    },
    {
      "sha": "e629a4f8c01198164224183cd9fe8331fe5db320",
      "filename": "test/testdata/example_site_conf.yml",
      "status": "modified",
      "additions": 39,
      "deletions": 39,
      "changes": 78,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ftestdata%2Fexample_site_conf.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ftestdata%2Fexample_site_conf.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Ftestdata%2Fexample_site_conf.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,45 +2,45 @@\n # Do not modify this script unless you know what you are doing.\n host: \"0.0.0.0\"\n port: 23366\n-app_key: \"test\"\n+app_key: test\n debug: false\n-timezone: \"Asia/Shanghai\"\n-site_default: \"Default Site\"\n+timezone: Asia/Shanghai\n+site_default: Default Site\n login_timeout: 259200\n db:\n-  type: \"sqlite\"\n-  file: \"./data/artalk.db\"\n+  type: sqlite\n+  file: ./data/artalk.db\n   table_prefix: \"\"\n-  name: \"artalk\"\n-  host: \"localhost\"\n+  name: artalk\n+  host: localhost\n   port: 3306\n-  user: \"root\"\n+  user: root\n   password: \"\"\n-  charset: \"utf8mb4\"\n+  charset: utf8mb4\n \n log:\n   enabled: true\n-  filename: \"./data/artalk.log\"\n+  filename: ./data/artalk.log\n cache:\n-  type: \"builtin\"\n+  type: builtin\n   expires: 30\n   warm_up: false\n   server: \"\"\n   redis:\n-    network: \"tcp\"\n+    network: tcp\n     username: \"\"\n     password: \"\"\n     db: 0\n-trusted_domains: [\"http://localhost:1313\"]\n+trusted_domains: [http://localhost:1313]\n ssl:\n   enabled: false\n   cert_path: \"\"\n   key_path: \"\"\n admin_users:\n-  - name: \"admin\"\n-    email: \"admin@test.com\"\n-    password: \"admin\"\n-    badge_name: \"Admin\"\n+  - name: admin\n+    email: admin@test.com\n+    password: admin\n+    badge_name: Admin\n     badge_color: \"#0083FF\"\n moderator:\n   pending_default: false\n@@ -50,18 +50,18 @@ moderator:\n     enabled: false\n     secret_id: \"\"\n     secret_key: \"\"\n-    region: \"ap-guangzhou\"\n+    region: ap-guangzhou\n   aliyun:\n     enabled: false\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    region: \"cn-shanghai\"\n+    region: cn-shanghai\n   keywords:\n     enabled: false\n     pending: false\n     files:\n     file_sep: \"\\n\"\n-    replac_to: \"x\"\n+    replac_to: x\n captcha:\n   enabled: true\n   always: false\n@@ -75,28 +75,28 @@ email:\n   enabled: false\n   send_type: \"smtp\"\n   send_name: \"{{reply_nick}}\"\n-  send_addr: \"noreply@example.com\"\n-  mail_tpl: \"default\"\n+  send_addr: noreply@example.com\n+  mail_tpl: default\n   smtp:\n-    host: \"smtp.qq.com\"\n+    host: smtp.qq.com\n     port: 587\n-    username: \"example@qq.com\"\n+    username: example@qq.com\n     password: \"\"\n   ali_dm:\n     access_key_id: \"\"\n     access_key_secret: \"\"\n-    account_name: \"noreply@example.com\"\n+    account_name: noreply@example.com\n img_upload:\n   enabled: true\n-  path: \"./data/artalk-img/\"\n+  path: ./data/artalk-img/\n   max_size: 5\n   public_path: null\n   upgit:\n     enabled: false\n-    exec: \"./upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\"\n+    exec: ./upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\n     del_local: true\n admin_notify:\n-  notify_tpl: \"default\"\n+  notify_tpl: default\n   noise_mode: false\n   email:\n     enabled: true\n@@ -108,7 +108,7 @@ admin_notify:\n       - 7777777\n   bark:\n     enabled: false\n-    server: \"http://day.app/xxxxxxx/\"\n+    server: http://day.app/xxxxxxx/\n   lark:\n     enabled: false\n     webhook_url: \"\"\n@@ -123,33 +123,33 @@ admin_notify:\n     enabled: false\n     oauth_token: \"\"\n     receivers:\n-      - \"CHANNEL_ID\"\n+      - CHANNEL_ID\n   line:\n     enabled: false\n     channel_secret: \"\"\n     channel_access_token: \"\"\n     receivers:\n-      - \"USER_ID_1\"\n-      - \"GROUP_ID_1\"\n+      - USER_ID_1\n+      - GROUP_ID_1\n frontend:\n-  placeholder: \"What do you think?\"\n-  noComment: \"No comments yet.\"\n-  sendBtn: \"Send\"\n+  placeholder: What do you think?\n+  noComment: No comments yet.\n+  sendBtn: Send\n   editorTravel: true\n-  emoticons: \"https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\"\n+  emoticons: https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\n   vote: true\n   voteDown: false\n   uaBadge: true\n   listSort: true\n   pvEl: \"#ArtalkPV\"\n   countEl: \"#ArtalkCount\"\n   preview: true\n-  flatMode: \"auto\"\n+  flatMode: auto\n   nestMax: 2\n   nestSort: DATE_ASC\n   gravatar:\n-    mirror: \"https://cravatar.cn/avatar/\"\n-    default: \"mp\"\n+    mirror: https://cravatar.cn/avatar/\n+    default: mp\n   pagination:\n     pageSize: 20\n     readMore: true"
    },
    {
      "sha": "1b0e7a57d7fc5ca43d179e16e796f41e6de50ed2",
      "filename": "test/testdata/model_test_conf.yml",
      "status": "modified",
      "additions": 10,
      "deletions": 11,
      "changes": 21,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ftestdata%2Fmodel_test_conf.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Ftestdata%2Fmodel_test_conf.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Ftestdata%2Fmodel_test_conf.yml?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,11 +1,11 @@\n # 加密密钥\n-app_key: \"test\"\n+app_key: test\n \n # 调试模式\n debug: false\n \n # 时区\n-timezone: \"Asia/Shanghai\"\n+timezone: Asia/Shanghai\n \n # 日志\n log:\n@@ -14,19 +14,18 @@ log:\n # 缓存\n cache:\n   enabled: false\n-  type: \"disabled\" # 支持 redis, memcache, builtin (自带缓存)\n-  expires: 30     # 缓存过期时间 (单位：分钟)\n-  warm_up: false  # 程序启动时预热缓存\n-  server: \"\"      # 连接缓存服务器 (例如：\"localhost:6379\")\n+  type: disabled # 支持 redis, memcache, builtin (自带缓存)\n+  expires: 30 # 缓存过期时间 (单位：分钟)\n+  warm_up: false # 程序启动时预热缓存\n+  server: \"\" # 连接缓存服务器 (例如：\"localhost:6379\")\n \n # 默认站点名\n-site_default: \"默认站点\"\n+site_default: 默认站点\n \n # 管理员账户\n admin_users:\n-  - name: \"admin_in_conf\"\n-    email: \"admin_in_conf@example.org\"\n+  - name: admin_in_conf\n+    email: admin_in_conf@example.org\n     password: \"123456\" # 密码支持 bcrypt 或 md5 加密，例如填写：\"(md5)50c21190c6e4e5418c6a90d2b5031119\"\n-    badge_name: \"管理员\"\n+    badge_name: 管理员\n     badge_color: \"#FF6C00\"\n-"
    },
    {
      "sha": "895cbf5f3c8ca9568c3084f289a337802bf33c49",
      "filename": "test/vue-test/README.md",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2FREADME.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2FREADME.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fvue-test%2FREADME.md?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,8 +13,8 @@ TypeScript cannot handle type information for `.vue` imports by default, so we r\n If the standalone TypeScript plugin doesn't feel fast enough to you, Volar has also implemented a [Take Over Mode](https://github.com/johnsoncodehk/volar/discussions/471#discussioncomment-1361669) that is more performant. You can enable it by the following steps:\n \n 1. Disable the built-in TypeScript Extension\n-    1) Run `Extensions: Show Built-in Extensions` from VSCode's command palette\n-    2) Find `TypeScript and JavaScript Language Features`, right click and select `Disable (Workspace)`\n+   1. Run `Extensions: Show Built-in Extensions` from VSCode's command palette\n+   2. Find `TypeScript and JavaScript Language Features`, right click and select `Disable (Workspace)`\n 2. Reload the VSCode window by running `Developer: Reload Window` from the command palette.\n \n ## Customize configuration"
    },
    {
      "sha": "dcd696757f46751953d8156e5d22e4831eaf388a",
      "filename": "test/vue-test/index.html",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Findex.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Findex.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fvue-test%2Findex.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,9 +1,9 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html lang=\"en\">\n   <head>\n-    <meta charset=\"UTF-8\">\n-    <link rel=\"icon\" href=\"/favicon.ico\">\n-    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+    <meta charset=\"UTF-8\" />\n+    <link rel=\"icon\" href=\"/favicon.ico\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n     <title>Vite App</title>\n   </head>\n   <body>"
    },
    {
      "sha": "031da9761a36f68c660c2ef22bb35d95a0f9bf97",
      "filename": "test/vue-test/package.json",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fpackage.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fpackage.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fvue-test%2Fpackage.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,7 +11,7 @@\n     \"type-check\": \"vue-tsc --build --force\"\n   },\n   \"dependencies\": {\n-    \"artalk\": \"link:artalk\",\n+    \"artalk\": \"workspace:*\",\n     \"vue\": \"^3.4.21\",\n     \"vue-router\": \"^4.3.0\"\n   },"
    },
    {
      "sha": "ebf079af3fb18fb1c8aaa681767420bbc7e1a9be",
      "filename": "test/vue-test/pnpm-lock.yaml",
      "status": "removed",
      "additions": 0,
      "deletions": 1012,
      "changes": 1012,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/16527ec4f336bf1ddbb73d5a770f9f6eb759aa52/test%2Fvue-test%2Fpnpm-lock.yaml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/16527ec4f336bf1ddbb73d5a770f9f6eb759aa52/test%2Fvue-test%2Fpnpm-lock.yaml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fvue-test%2Fpnpm-lock.yaml?ref=16527ec4f336bf1ddbb73d5a770f9f6eb759aa52",
      "patch": "@@ -1,1012 +0,0 @@\n-lockfileVersion: '6.0'\n-\n-settings:\n-  autoInstallPeers: true\n-  excludeLinksFromLockfile: false\n-\n-dependencies:\n-  artalk:\n-    specifier: link:artalk\n-    version: link:../../ui/artalk\n-  vue:\n-    specifier: ^3.3.11\n-    version: 3.3.12(typescript@5.3.3)\n-  vue-router:\n-    specifier: ^4.2.5\n-    version: 4.2.5(vue@3.3.12)\n-\n-devDependencies:\n-  '@tsconfig/node18':\n-    specifier: ^18.2.2\n-    version: 18.2.2\n-  '@types/node':\n-    specifier: ^18.19.3\n-    version: 18.19.3\n-  '@vitejs/plugin-vue':\n-    specifier: ^4.5.2\n-    version: 4.5.2(vite@5.0.10)(vue@3.3.12)\n-  '@vue/tsconfig':\n-    specifier: ^0.5.0\n-    version: 0.5.0\n-  npm-run-all2:\n-    specifier: ^6.1.1\n-    version: 6.1.1\n-  typescript:\n-    specifier: ~5.3.0\n-    version: 5.3.3\n-  vite:\n-    specifier: ^5.0.10\n-    version: 5.0.10(@types/node@18.19.3)\n-  vue-tsc:\n-    specifier: ^1.8.25\n-    version: 1.8.25(typescript@5.3.3)\n-\n-packages:\n-\n-  /@babel/code-frame@7.23.5:\n-    resolution: {integrity: sha512-CgH3s1a96LipHCmSUmYFPwY7MNx8C3avkq7i4Wl3cfa662ldtUe4VM1TPXX70pfmrlWTb6jLqTYrZyT2ZTJBgA==}\n-    engines: {node: '>=6.9.0'}\n-    dependencies:\n-      '@babel/highlight': 7.23.4\n-      chalk: 2.4.2\n-    dev: true\n-\n-  /@babel/helper-string-parser@7.23.4:\n-    resolution: {integrity: sha512-803gmbQdqwdf4olxrX4AJyFBV/RTr3rSmOj0rKwesmzlfhYNDEs+/iOcznzpNWlJlIlTJC2QfPFcHB6DlzdVLQ==}\n-    engines: {node: '>=6.9.0'}\n-\n-  /@babel/helper-validator-identifier@7.22.20:\n-    resolution: {integrity: sha512-Y4OZ+ytlatR8AI+8KZfKuL5urKp7qey08ha31L8b3BwewJAoJamTzyvxPR/5D+KkdJCGPq/+8TukHBlY10FX9A==}\n-    engines: {node: '>=6.9.0'}\n-\n-  /@babel/highlight@7.23.4:\n-    resolution: {integrity: sha512-acGdbYSfp2WheJoJm/EBBBLh/ID8KDc64ISZ9DYtBmC8/Q204PZJLHyzeB5qMzJ5trcOkybd78M4x2KWsUq++A==}\n-    engines: {node: '>=6.9.0'}\n-    dependencies:\n-      '@babel/helper-validator-identifier': 7.22.20\n-      chalk: 2.4.2\n-      js-tokens: 4.0.0\n-    dev: true\n-\n-  /@babel/parser@7.23.6:\n-    resolution: {integrity: sha512-Z2uID7YJ7oNvAI20O9X0bblw7Qqs8Q2hFy0R9tAfnfLkp5MW0UH9eUvnDSnFwKZ0AvgS1ucqR4KzvVHgnke1VQ==}\n-    engines: {node: '>=6.0.0'}\n-    hasBin: true\n-    dependencies:\n-      '@babel/types': 7.23.6\n-\n-  /@babel/types@7.23.6:\n-    resolution: {integrity: sha512-+uarb83brBzPKN38NX1MkB6vb6+mwvR6amUulqAE7ccQw1pEl+bCia9TbdG1lsnFP7lZySvUn37CHyXQdfTwzg==}\n-    engines: {node: '>=6.9.0'}\n-    dependencies:\n-      '@babel/helper-string-parser': 7.23.4\n-      '@babel/helper-validator-identifier': 7.22.20\n-      to-fast-properties: 2.0.0\n-\n-  /@esbuild/android-arm64@0.19.9:\n-    resolution: {integrity: sha512-q4cR+6ZD0938R19MyEW3jEsMzbb/1rulLXiNAJQADD/XYp7pT+rOS5JGxvpRW8dFDEfjW4wLgC/3FXIw4zYglQ==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/android-arm@0.19.9:\n-    resolution: {integrity: sha512-jkYjjq7SdsWuNI6b5quymW0oC83NN5FdRPuCbs9HZ02mfVdAP8B8eeqLSYU3gb6OJEaY5CQabtTFbqBf26H3GA==}\n-    engines: {node: '>=12'}\n-    cpu: [arm]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/android-x64@0.19.9:\n-    resolution: {integrity: sha512-KOqoPntWAH6ZxDwx1D6mRntIgZh9KodzgNOy5Ebt9ghzffOk9X2c1sPwtM9P+0eXbefnDhqYfkh5PLP5ULtWFA==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/darwin-arm64@0.19.9:\n-    resolution: {integrity: sha512-KBJ9S0AFyLVx2E5D8W0vExqRW01WqRtczUZ8NRu+Pi+87opZn5tL4Y0xT0mA4FtHctd0ZgwNoN639fUUGlNIWw==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/darwin-x64@0.19.9:\n-    resolution: {integrity: sha512-vE0VotmNTQaTdX0Q9dOHmMTao6ObjyPm58CHZr1UK7qpNleQyxlFlNCaHsHx6Uqv86VgPmR4o2wdNq3dP1qyDQ==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/freebsd-arm64@0.19.9:\n-    resolution: {integrity: sha512-uFQyd/o1IjiEk3rUHSwUKkqZwqdvuD8GevWF065eqgYfexcVkxh+IJgwTaGZVu59XczZGcN/YMh9uF1fWD8j1g==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [freebsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/freebsd-x64@0.19.9:\n-    resolution: {integrity: sha512-WMLgWAtkdTbTu1AWacY7uoj/YtHthgqrqhf1OaEWnZb7PQgpt8eaA/F3LkV0E6K/Lc0cUr/uaVP/49iE4M4asA==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [freebsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-arm64@0.19.9:\n-    resolution: {integrity: sha512-PiPblfe1BjK7WDAKR1Cr9O7VVPqVNpwFcPWgfn4xu0eMemzRp442hXyzF/fSwgrufI66FpHOEJk0yYdPInsmyQ==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-arm@0.19.9:\n-    resolution: {integrity: sha512-C/ChPohUYoyUaqn1h17m/6yt6OB14hbXvT8EgM1ZWaiiTYz7nWZR0SYmMnB5BzQA4GXl3BgBO1l8MYqL/He3qw==}\n-    engines: {node: '>=12'}\n-    cpu: [arm]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-ia32@0.19.9:\n-    resolution: {integrity: sha512-f37i/0zE0MjDxijkPSQw1CO/7C27Eojqb+r3BbHVxMLkj8GCa78TrBZzvPyA/FNLUMzP3eyHCVkAopkKVja+6Q==}\n-    engines: {node: '>=12'}\n-    cpu: [ia32]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-loong64@0.19.9:\n-    resolution: {integrity: sha512-t6mN147pUIf3t6wUt3FeumoOTPfmv9Cc6DQlsVBpB7eCpLOqQDyWBP1ymXn1lDw4fNUSb/gBcKAmvTP49oIkaA==}\n-    engines: {node: '>=12'}\n-    cpu: [loong64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-mips64el@0.19.9:\n-    resolution: {integrity: sha512-jg9fujJTNTQBuDXdmAg1eeJUL4Jds7BklOTkkH80ZgQIoCTdQrDaHYgbFZyeTq8zbY+axgptncko3v9p5hLZtw==}\n-    engines: {node: '>=12'}\n-    cpu: [mips64el]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-ppc64@0.19.9:\n-    resolution: {integrity: sha512-tkV0xUX0pUUgY4ha7z5BbDS85uI7ABw3V1d0RNTii7E9lbmV8Z37Pup2tsLV46SQWzjOeyDi1Q7Wx2+QM8WaCQ==}\n-    engines: {node: '>=12'}\n-    cpu: [ppc64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-riscv64@0.19.9:\n-    resolution: {integrity: sha512-DfLp8dj91cufgPZDXr9p3FoR++m3ZJ6uIXsXrIvJdOjXVREtXuQCjfMfvmc3LScAVmLjcfloyVtpn43D56JFHg==}\n-    engines: {node: '>=12'}\n-    cpu: [riscv64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-s390x@0.19.9:\n-    resolution: {integrity: sha512-zHbglfEdC88KMgCWpOl/zc6dDYJvWGLiUtmPRsr1OgCViu3z5GncvNVdf+6/56O2Ca8jUU+t1BW261V6kp8qdw==}\n-    engines: {node: '>=12'}\n-    cpu: [s390x]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/linux-x64@0.19.9:\n-    resolution: {integrity: sha512-JUjpystGFFmNrEHQnIVG8hKwvA2DN5o7RqiO1CVX8EN/F/gkCjkUMgVn6hzScpwnJtl2mPR6I9XV1oW8k9O+0A==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/netbsd-x64@0.19.9:\n-    resolution: {integrity: sha512-GThgZPAwOBOsheA2RUlW5UeroRfESwMq/guy8uEe3wJlAOjpOXuSevLRd70NZ37ZrpO6RHGHgEHvPg1h3S1Jug==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [netbsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/openbsd-x64@0.19.9:\n-    resolution: {integrity: sha512-Ki6PlzppaFVbLnD8PtlVQfsYw4S9n3eQl87cqgeIw+O3sRr9IghpfSKY62mggdt1yCSZ8QWvTZ9jo9fjDSg9uw==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [openbsd]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/sunos-x64@0.19.9:\n-    resolution: {integrity: sha512-MLHj7k9hWh4y1ddkBpvRj2b9NCBhfgBt3VpWbHQnXRedVun/hC7sIyTGDGTfsGuXo4ebik2+3ShjcPbhtFwWDw==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [sunos]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/win32-arm64@0.19.9:\n-    resolution: {integrity: sha512-GQoa6OrQ8G08guMFgeXPH7yE/8Dt0IfOGWJSfSH4uafwdC7rWwrfE6P9N8AtPGIjUzdo2+7bN8Xo3qC578olhg==}\n-    engines: {node: '>=12'}\n-    cpu: [arm64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/win32-ia32@0.19.9:\n-    resolution: {integrity: sha512-UOozV7Ntykvr5tSOlGCrqU3NBr3d8JqPes0QWN2WOXfvkWVGRajC+Ym0/Wj88fUgecUCLDdJPDF0Nna2UK3Qtg==}\n-    engines: {node: '>=12'}\n-    cpu: [ia32]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@esbuild/win32-x64@0.19.9:\n-    resolution: {integrity: sha512-oxoQgglOP7RH6iasDrhY+R/3cHrfwIDvRlT4CGChflq6twk8iENeVvMJjmvBb94Ik1Z+93iGO27err7w6l54GQ==}\n-    engines: {node: '>=12'}\n-    cpu: [x64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@jridgewell/sourcemap-codec@1.4.15:\n-    resolution: {integrity: sha512-eF2rxCRulEKXHTRiDrDy6erMYWqNw4LPdQ8UQA4huuxaQsVeRPFl2oM8oDGxMFhJUWZf9McpLtJasDDZb/Bpeg==}\n-\n-  /@rollup/rollup-android-arm-eabi@4.9.0:\n-    resolution: {integrity: sha512-+1ge/xmaJpm1KVBuIH38Z94zj9fBD+hp+/5WLaHgyY8XLq1ibxk/zj6dTXaqM2cAbYKq8jYlhHd6k05If1W5xA==}\n-    cpu: [arm]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-android-arm64@4.9.0:\n-    resolution: {integrity: sha512-im6hUEyQ7ZfoZdNvtwgEJvBWZYauC9KVKq1w58LG2Zfz6zMd8gRrbN+xCVoqA2hv/v6fm9lp5LFGJ3za8EQH3A==}\n-    cpu: [arm64]\n-    os: [android]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-darwin-arm64@4.9.0:\n-    resolution: {integrity: sha512-u7aTMskN6Dmg1lCT0QJ+tINRt+ntUrvVkhbPfFz4bCwRZvjItx2nJtwJnJRlKMMaQCHRjrNqHRDYvE4mBm3DlQ==}\n-    cpu: [arm64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-darwin-x64@4.9.0:\n-    resolution: {integrity: sha512-8FvEl3w2ExmpcOmX5RJD0yqXcVSOqAJJUJ29Lca29Ik+3zPS1yFimr2fr5JSZ4Z5gt8/d7WqycpgkX9nocijSw==}\n-    cpu: [x64]\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-arm-gnueabihf@4.9.0:\n-    resolution: {integrity: sha512-lHoKYaRwd4gge+IpqJHCY+8Vc3hhdJfU6ukFnnrJasEBUvVlydP8PuwndbWfGkdgSvZhHfSEw6urrlBj0TSSfg==}\n-    cpu: [arm]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-arm64-gnu@4.9.0:\n-    resolution: {integrity: sha512-JbEPfhndYeWHfOSeh4DOFvNXrj7ls9S/2omijVsao+LBPTPayT1uKcK3dHW3MwDJ7KO11t9m2cVTqXnTKpeaiw==}\n-    cpu: [arm64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-arm64-musl@4.9.0:\n-    resolution: {integrity: sha512-ahqcSXLlcV2XUBM3/f/C6cRoh7NxYA/W7Yzuv4bDU1YscTFw7ay4LmD7l6OS8EMhTNvcrWGkEettL1Bhjf+B+w==}\n-    cpu: [arm64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-riscv64-gnu@4.9.0:\n-    resolution: {integrity: sha512-uwvOYNtLw8gVtrExKhdFsYHA/kotURUmZYlinH2VcQxNCQJeJXnkmWgw2hI9Xgzhgu7J9QvWiq9TtTVwWMDa+w==}\n-    cpu: [riscv64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-x64-gnu@4.9.0:\n-    resolution: {integrity: sha512-m6pkSwcZZD2LCFHZX/zW2aLIISyzWLU3hrLLzQKMI12+OLEzgruTovAxY5sCZJkipklaZqPy/2bEEBNjp+Y7xg==}\n-    cpu: [x64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-linux-x64-musl@4.9.0:\n-    resolution: {integrity: sha512-VFAC1RDRSbU3iOF98X42KaVicAfKf0m0OvIu8dbnqhTe26Kh6Ym9JrDulz7Hbk7/9zGc41JkV02g+p3BivOdAg==}\n-    cpu: [x64]\n-    os: [linux]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-win32-arm64-msvc@4.9.0:\n-    resolution: {integrity: sha512-9jPgMvTKXARz4inw6jezMLA2ihDBvgIU9Ml01hjdVpOcMKyxFBJrn83KVQINnbeqDv0+HdO1c09hgZ8N0s820Q==}\n-    cpu: [arm64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-win32-ia32-msvc@4.9.0:\n-    resolution: {integrity: sha512-WE4pT2kTXQN2bAv40Uog0AsV7/s9nT9HBWXAou8+++MBCnY51QS02KYtm6dQxxosKi1VIz/wZIrTQO5UP2EW+Q==}\n-    cpu: [ia32]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@rollup/rollup-win32-x64-msvc@4.9.0:\n-    resolution: {integrity: sha512-aPP5Q5AqNGuT0tnuEkK/g4mnt3ZhheiXrDIiSVIHN9mcN21OyXDVbEMqmXPE7e2OplNLDkcvV+ZoGJa2ZImFgw==}\n-    cpu: [x64]\n-    os: [win32]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /@tsconfig/node18@18.2.2:\n-    resolution: {integrity: sha512-d6McJeGsuoRlwWZmVIeE8CUA27lu6jLjvv1JzqmpsytOYYbVi1tHZEnwCNVOXnj4pyLvneZlFlpXUK+X9wBWyw==}\n-    dev: true\n-\n-  /@types/node@18.19.3:\n-    resolution: {integrity: sha512-k5fggr14DwAytoA/t8rPrIz++lXK7/DqckthCmoZOKNsEbJkId4Z//BqgApXBUGrGddrigYa1oqheo/7YmW4rg==}\n-    dependencies:\n-      undici-types: 5.26.5\n-    dev: true\n-\n-  /@types/normalize-package-data@2.4.4:\n-    resolution: {integrity: sha512-37i+OaWTh9qeK4LSHPsyRC7NahnGotNuZvjLSgcPzblpHB3rrCJxAOgI5gCdKm7coonsaX1Of0ILiTcnZjbfxA==}\n-    dev: true\n-\n-  /@vitejs/plugin-vue@4.5.2(vite@5.0.10)(vue@3.3.12):\n-    resolution: {integrity: sha512-UGR3DlzLi/SaVBPX0cnSyE37vqxU3O6chn8l0HJNzQzDia6/Au2A4xKv+iIJW8w2daf80G7TYHhi1pAUjdZ0bQ==}\n-    engines: {node: ^14.18.0 || >=16.0.0}\n-    peerDependencies:\n-      vite: ^4.0.0 || ^5.0.0\n-      vue: ^3.2.25\n-    dependencies:\n-      vite: 5.0.10(@types/node@18.19.3)\n-      vue: 3.3.12(typescript@5.3.3)\n-    dev: true\n-\n-  /@volar/language-core@1.11.1:\n-    resolution: {integrity: sha512-dOcNn3i9GgZAcJt43wuaEykSluAuOkQgzni1cuxLxTV0nJKanQztp7FxyswdRILaKH+P2XZMPRp2S4MV/pElCw==}\n-    dependencies:\n-      '@volar/source-map': 1.11.1\n-    dev: true\n-\n-  /@volar/source-map@1.11.1:\n-    resolution: {integrity: sha512-hJnOnwZ4+WT5iupLRnuzbULZ42L7BWWPMmruzwtLhJfpDVoZLjNBxHDi2sY2bgZXCKlpU5XcsMFoYrsQmPhfZg==}\n-    dependencies:\n-      muggle-string: 0.3.1\n-    dev: true\n-\n-  /@volar/typescript@1.11.1:\n-    resolution: {integrity: sha512-iU+t2mas/4lYierSnoFOeRFQUhAEMgsFuQxoxvwn5EdQopw43j+J27a4lt9LMInx1gLJBC6qL14WYGlgymaSMQ==}\n-    dependencies:\n-      '@volar/language-core': 1.11.1\n-      path-browserify: 1.0.1\n-    dev: true\n-\n-  /@vue/compiler-core@3.3.12:\n-    resolution: {integrity: sha512-qAtjyG3GBLG0chzp5xGCyRLLe6wFCHmjI82aGzwuGKyznNP+GJJMxjc0wOYWDB2YKfho7niJFdoFpo0CZZQg9w==}\n-    dependencies:\n-      '@babel/parser': 7.23.6\n-      '@vue/shared': 3.3.12\n-      estree-walker: 2.0.2\n-      source-map-js: 1.0.2\n-\n-  /@vue/compiler-dom@3.3.12:\n-    resolution: {integrity: sha512-RdJU9oEYaoPKUdGXCy0l+i4clesdDeLmbvRlszoc9iagsnBnMmQtYfCPVQ5BHB6o7K4SCucDdJM2Dh3oXB0D6g==}\n-    dependencies:\n-      '@vue/compiler-core': 3.3.12\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/compiler-sfc@3.3.12:\n-    resolution: {integrity: sha512-yy5b9e7b79dsGbMmglCe/YnhCQgBkHO7Uf6JfjWPSf2/5XH+MKn18LhzhHyxbHdJgnA4lZCqtXzLaJz8Pd8lMw==}\n-    dependencies:\n-      '@babel/parser': 7.23.6\n-      '@vue/compiler-core': 3.3.12\n-      '@vue/compiler-dom': 3.3.12\n-      '@vue/compiler-ssr': 3.3.12\n-      '@vue/reactivity-transform': 3.3.12\n-      '@vue/shared': 3.3.12\n-      estree-walker: 2.0.2\n-      magic-string: 0.30.5\n-      postcss: 8.4.32\n-      source-map-js: 1.0.2\n-\n-  /@vue/compiler-ssr@3.3.12:\n-    resolution: {integrity: sha512-adCiMJPznfWcQyk/9HSuXGja859IaMV+b8UNSVzDatqv7h0PvT9BEeS22+gjkWofDiSg5d78/ZLls3sLA+cn3A==}\n-    dependencies:\n-      '@vue/compiler-dom': 3.3.12\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/devtools-api@6.5.1:\n-    resolution: {integrity: sha512-+KpckaAQyfbvshdDW5xQylLni1asvNSGme1JFs8I1+/H5pHEhqUKMEQD/qn3Nx5+/nycBq11qAEi8lk+LXI2dA==}\n-    dev: false\n-\n-  /@vue/language-core@1.8.25(typescript@5.3.3):\n-    resolution: {integrity: sha512-NJk/5DnAZlpvXX8BdWmHI45bWGLViUaS3R/RMrmFSvFMSbJKuEODpM4kR0F0Ofv5SFzCWuNiMhxameWpVdQsnA==}\n-    peerDependencies:\n-      typescript: '*'\n-    peerDependenciesMeta:\n-      typescript:\n-        optional: true\n-    dependencies:\n-      '@volar/language-core': 1.11.1\n-      '@volar/source-map': 1.11.1\n-      '@vue/compiler-dom': 3.3.12\n-      '@vue/shared': 3.3.12\n-      computeds: 0.0.1\n-      minimatch: 9.0.3\n-      muggle-string: 0.3.1\n-      path-browserify: 1.0.1\n-      typescript: 5.3.3\n-      vue-template-compiler: 2.7.15\n-    dev: true\n-\n-  /@vue/reactivity-transform@3.3.12:\n-    resolution: {integrity: sha512-g5TijmML7FyKkLt6QnpqNmA4KD7K/T5SbXa88Bhq+hydNQEkzA8veVXWAQuNqg9rjaFYD0rPf0a9NofKA0ENgg==}\n-    dependencies:\n-      '@babel/parser': 7.23.6\n-      '@vue/compiler-core': 3.3.12\n-      '@vue/shared': 3.3.12\n-      estree-walker: 2.0.2\n-      magic-string: 0.30.5\n-\n-  /@vue/reactivity@3.3.12:\n-    resolution: {integrity: sha512-vOJORzO8DlIx88cgTnMLIf2GlLYpoXAKsuoQsK6SGdaqODjxO129pVPTd2s/N/Mb6KKZEFIHIEwWGmtN4YPs+g==}\n-    dependencies:\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/runtime-core@3.3.12:\n-    resolution: {integrity: sha512-5iL4w7MZrSGKEZU2wFAYhDZdZmgn+s//73EfgDXW1M+ZUOl36md7tlWp1QFK/ladiq4FvQ82shVjo0KiPDPr0A==}\n-    dependencies:\n-      '@vue/reactivity': 3.3.12\n-      '@vue/shared': 3.3.12\n-\n-  /@vue/runtime-dom@3.3.12:\n-    resolution: {integrity: sha512-8mMzqiIdl+IYa/OXwKwk6/4ebLq7cYV1pUcwCSwBK2KerUa6cwGosen5xrCL9f8o2DJ9TfPFwbPEvH7OXzUpoA==}\n-    dependencies:\n-      '@vue/runtime-core': 3.3.12\n-      '@vue/shared': 3.3.12\n-      csstype: 3.1.3\n-\n-  /@vue/server-renderer@3.3.12(vue@3.3.12):\n-    resolution: {integrity: sha512-OZ0IEK5TU5GXb5J8/wSplyxvGGdIcwEmS8EIO302Vz8K6fGSgSJTU54X0Sb6PaefzZdiN3vHsLXO8XIeF8crQQ==}\n-    peerDependencies:\n-      vue: 3.3.12\n-    dependencies:\n-      '@vue/compiler-ssr': 3.3.12\n-      '@vue/shared': 3.3.12\n-      vue: 3.3.12(typescript@5.3.3)\n-\n-  /@vue/shared@3.3.12:\n-    resolution: {integrity: sha512-6p0Yin0pclvnER7BLNOQuod9Z+cxSYh8pSh7CzHnWNjAIP6zrTlCdHRvSCb1aYEx6i3Q3kvfuWU7nG16CgG1ag==}\n-\n-  /@vue/tsconfig@0.5.0:\n-    resolution: {integrity: sha512-vRNRhhZfoJganWuqWuePo7ol2MaG9XkQD3jVJy2WuZOWWa5LAjJqnBSBsTGKvCrcrVMe5nPM9Intp7o3ekRjUw==}\n-    dev: true\n-\n-  /ansi-styles@3.2.1:\n-    resolution: {integrity: sha512-VT0ZI6kZRdTh8YyJw3SMbYm/u+NqfsAxEpWO0Pf9sq8/e94WxxOpPKx9FR1FlyCtOVDNOQ+8ntlqFxiRc+r5qA==}\n-    engines: {node: '>=4'}\n-    dependencies:\n-      color-convert: 1.9.3\n-    dev: true\n-\n-  /ansi-styles@6.2.1:\n-    resolution: {integrity: sha512-bN798gFfQX+viw3R7yrGWRqnrN2oRkEkUjjl4JNn4E8GxxbjtG3FbrEIIY3l8/hrwUwIeCZvi4QuOTP4MErVug==}\n-    engines: {node: '>=12'}\n-    dev: true\n-\n-  /balanced-match@1.0.2:\n-    resolution: {integrity: sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==}\n-    dev: true\n-\n-  /brace-expansion@2.0.1:\n-    resolution: {integrity: sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==}\n-    dependencies:\n-      balanced-match: 1.0.2\n-    dev: true\n-\n-  /chalk@2.4.2:\n-    resolution: {integrity: sha512-Mti+f9lpJNcwF4tWV8/OrTTtF1gZi+f8FqlyAdouralcFWFQWF2+NgCHShjkCb+IFBLq9buZwE1xckQU4peSuQ==}\n-    engines: {node: '>=4'}\n-    dependencies:\n-      ansi-styles: 3.2.1\n-      escape-string-regexp: 1.0.5\n-      supports-color: 5.5.0\n-    dev: true\n-\n-  /color-convert@1.9.3:\n-    resolution: {integrity: sha512-QfAUtd+vFdAtFQcC8CCyYt1fYWxSqAiK2cSD6zDB8N3cpsEBAvRxp9zOGg6G/SHHJYAT88/az/IuDGALsNVbGg==}\n-    dependencies:\n-      color-name: 1.1.3\n-    dev: true\n-\n-  /color-name@1.1.3:\n-    resolution: {integrity: sha512-72fSenhMw2HZMTVHeCA9KCmpEIbzWiQsjN+BHcBbS9vr1mtt+vJjPdksIBNUmKAW8TFUDPJK5SUU3QhE9NEXDw==}\n-    dev: true\n-\n-  /computeds@0.0.1:\n-    resolution: {integrity: sha512-7CEBgcMjVmitjYo5q8JTJVra6X5mQ20uTThdK+0kR7UEaDrAWEQcRiBtWJzga4eRpP6afNwwLsX2SET2JhVB1Q==}\n-    dev: true\n-\n-  /cross-spawn@7.0.3:\n-    resolution: {integrity: sha512-iRDPJKUPVEND7dHPO8rkbOnPpyDygcDFtWjpeWNCgy8WP2rXcxXL8TskReQl6OrB2G7+UJrags1q15Fudc7G6w==}\n-    engines: {node: '>= 8'}\n-    dependencies:\n-      path-key: 3.1.1\n-      shebang-command: 2.0.0\n-      which: 2.0.2\n-    dev: true\n-\n-  /csstype@3.1.3:\n-    resolution: {integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==}\n-\n-  /de-indent@1.0.2:\n-    resolution: {integrity: sha512-e/1zu3xH5MQryN2zdVaF0OrdNLUbvWxzMbi+iNA6Bky7l1RoP8a2fIbRocyHclXt/arDrrR6lL3TqFD9pMQTsg==}\n-    dev: true\n-\n-  /error-ex@1.3.2:\n-    resolution: {integrity: sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==}\n-    dependencies:\n-      is-arrayish: 0.2.1\n-    dev: true\n-\n-  /esbuild@0.19.9:\n-    resolution: {integrity: sha512-U9CHtKSy+EpPsEBa+/A2gMs/h3ylBC0H0KSqIg7tpztHerLi6nrrcoUJAkNCEPumx8yJ+Byic4BVwHgRbN0TBg==}\n-    engines: {node: '>=12'}\n-    hasBin: true\n-    requiresBuild: true\n-    optionalDependencies:\n-      '@esbuild/android-arm': 0.19.9\n-      '@esbuild/android-arm64': 0.19.9\n-      '@esbuild/android-x64': 0.19.9\n-      '@esbuild/darwin-arm64': 0.19.9\n-      '@esbuild/darwin-x64': 0.19.9\n-      '@esbuild/freebsd-arm64': 0.19.9\n-      '@esbuild/freebsd-x64': 0.19.9\n-      '@esbuild/linux-arm': 0.19.9\n-      '@esbuild/linux-arm64': 0.19.9\n-      '@esbuild/linux-ia32': 0.19.9\n-      '@esbuild/linux-loong64': 0.19.9\n-      '@esbuild/linux-mips64el': 0.19.9\n-      '@esbuild/linux-ppc64': 0.19.9\n-      '@esbuild/linux-riscv64': 0.19.9\n-      '@esbuild/linux-s390x': 0.19.9\n-      '@esbuild/linux-x64': 0.19.9\n-      '@esbuild/netbsd-x64': 0.19.9\n-      '@esbuild/openbsd-x64': 0.19.9\n-      '@esbuild/sunos-x64': 0.19.9\n-      '@esbuild/win32-arm64': 0.19.9\n-      '@esbuild/win32-ia32': 0.19.9\n-      '@esbuild/win32-x64': 0.19.9\n-    dev: true\n-\n-  /escape-string-regexp@1.0.5:\n-    resolution: {integrity: sha512-vbRorB5FUQWvla16U8R/qgaFIya2qGzwDrNmCZuYKrbdSUMG6I1ZCGQRefkRVhuOkIGVne7BQ35DSfo1qvJqFg==}\n-    engines: {node: '>=0.8.0'}\n-    dev: true\n-\n-  /estree-walker@2.0.2:\n-    resolution: {integrity: sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==}\n-\n-  /fsevents@2.3.3:\n-    resolution: {integrity: sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==}\n-    engines: {node: ^8.16.0 || ^10.6.0 || >=11.0.0}\n-    os: [darwin]\n-    requiresBuild: true\n-    dev: true\n-    optional: true\n-\n-  /function-bind@1.1.2:\n-    resolution: {integrity: sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==}\n-    dev: true\n-\n-  /has-flag@3.0.0:\n-    resolution: {integrity: sha512-sKJf1+ceQBr4SMkvQnBDNDtf4TXpVhVGateu0t918bl30FnbE2m4vNLX+VWe/dpjlb+HugGYzW7uQXH98HPEYw==}\n-    engines: {node: '>=4'}\n-    dev: true\n-\n-  /hasown@2.0.0:\n-    resolution: {integrity: sha512-vUptKVTpIJhcczKBbgnS+RtcuYMB8+oNzPK2/Hp3hanz8JmpATdmmgLgSaadVREkDm+e2giHwY3ZRkyjSIDDFA==}\n-    engines: {node: '>= 0.4'}\n-    dependencies:\n-      function-bind: 1.1.2\n-    dev: true\n-\n-  /he@1.2.0:\n-    resolution: {integrity: sha512-F/1DnUGPopORZi0ni+CvrCgHQ5FyEAHRLSApuYWMmrbSwoN2Mn/7k+Gl38gJnR7yyDZk6WLXwiGod1JOWNDKGw==}\n-    hasBin: true\n-    dev: true\n-\n-  /hosted-git-info@7.0.1:\n-    resolution: {integrity: sha512-+K84LB1DYwMHoHSgaOY/Jfhw3ucPmSET5v98Ke/HdNSw4a0UktWzyW1mjhjpuxxTqOOsfWT/7iVshHmVZ4IpOA==}\n-    engines: {node: ^16.14.0 || >=18.0.0}\n-    dependencies:\n-      lru-cache: 10.1.0\n-    dev: true\n-\n-  /is-arrayish@0.2.1:\n-    resolution: {integrity: sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==}\n-    dev: true\n-\n-  /is-core-module@2.13.1:\n-    resolution: {integrity: sha512-hHrIjvZsftOsvKSn2TRYl63zvxsgE0K+0mYMoH6gD4omR5IWB2KynivBQczo3+wF1cCkjzvptnI9Q0sPU66ilw==}\n-    dependencies:\n-      hasown: 2.0.0\n-    dev: true\n-\n-  /isexe@2.0.0:\n-    resolution: {integrity: sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==}\n-    dev: true\n-\n-  /js-tokens@4.0.0:\n-    resolution: {integrity: sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==}\n-    dev: true\n-\n-  /json-parse-even-better-errors@3.0.1:\n-    resolution: {integrity: sha512-aatBvbL26wVUCLmbWdCpeu9iF5wOyWpagiKkInA+kfws3sWdBrTnsvN2CKcyCYyUrc7rebNBlK6+kteg7ksecg==}\n-    engines: {node: ^14.17.0 || ^16.13.0 || >=18.0.0}\n-    dev: true\n-\n-  /lines-and-columns@2.0.4:\n-    resolution: {integrity: sha512-wM1+Z03eypVAVUCE7QdSqpVIvelbOakn1M0bPDoA4SGWPx3sNDVUiMo3L6To6WWGClB7VyXnhQ4Sn7gxiJbE6A==}\n-    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n-    dev: true\n-\n-  /lru-cache@10.1.0:\n-    resolution: {integrity: sha512-/1clY/ui8CzjKFyjdvwPWJUYKiFVXG2I2cY0ssG7h4+hwk+XOIX7ZSG9Q7TW8TW3Kp3BUSqgFWBLgL4PJ+Blag==}\n-    engines: {node: 14 || >=16.14}\n-    dev: true\n-\n-  /lru-cache@6.0.0:\n-    resolution: {integrity: sha512-Jo6dJ04CmSjuznwJSS3pUeWmd/H0ffTlkXXgwZi+eq1UCmqQwCh+eLsYOYCwY991i2Fah4h1BEMCx4qThGbsiA==}\n-    engines: {node: '>=10'}\n-    dependencies:\n-      yallist: 4.0.0\n-    dev: true\n-\n-  /magic-string@0.30.5:\n-    resolution: {integrity: sha512-7xlpfBaQaP/T6Vh8MO/EqXSW5En6INHEvEXQiuff7Gku0PWjU3uf6w/j9o7O+SpB5fOAkrI5HeoNgwjEO0pFsA==}\n-    engines: {node: '>=12'}\n-    dependencies:\n-      '@jridgewell/sourcemap-codec': 1.4.15\n-\n-  /memorystream@0.3.1:\n-    resolution: {integrity: sha512-S3UwM3yj5mtUSEfP41UZmt/0SCoVYUcU1rkXv+BQ5Ig8ndL4sPoJNBUJERafdPb5jjHJGuMgytgKvKIf58XNBw==}\n-    engines: {node: '>= 0.10.0'}\n-    dev: true\n-\n-  /minimatch@9.0.3:\n-    resolution: {integrity: sha512-RHiac9mvaRw0x3AYRgDC1CxAP7HTcNrrECeA8YYJeWnpo+2Q5CegtZjaotWTWxDG3UeGA1coE05iH1mPjT/2mg==}\n-    engines: {node: '>=16 || 14 >=14.17'}\n-    dependencies:\n-      brace-expansion: 2.0.1\n-    dev: true\n-\n-  /muggle-string@0.3.1:\n-    resolution: {integrity: sha512-ckmWDJjphvd/FvZawgygcUeQCxzvohjFO5RxTjj4eq8kw359gFF3E1brjfI+viLMxss5JrHTDRHZvu2/tuy0Qg==}\n-    dev: true\n-\n-  /nanoid@3.3.7:\n-    resolution: {integrity: sha512-eSRppjcPIatRIMC1U6UngP8XFcz8MQWGQdt1MTBQ7NaAmvXDfvNxbvWV3x2y6CdEUciCSsDHDQZbhYaB8QEo2g==}\n-    engines: {node: ^10 || ^12 || ^13.7 || ^14 || >=15.0.1}\n-    hasBin: true\n-\n-  /normalize-package-data@6.0.0:\n-    resolution: {integrity: sha512-UL7ELRVxYBHBgYEtZCXjxuD5vPxnmvMGq0jp/dGPKKrN7tfsBh2IY7TlJ15WWwdjRWD3RJbnsygUurTK3xkPkg==}\n-    engines: {node: ^16.14.0 || >=18.0.0}\n-    dependencies:\n-      hosted-git-info: 7.0.1\n-      is-core-module: 2.13.1\n-      semver: 7.5.4\n-      validate-npm-package-license: 3.0.4\n-    dev: true\n-\n-  /npm-run-all2@6.1.1:\n-    resolution: {integrity: sha512-lWLbkPZ5BSdXtN8lR+0rc8caKoPdymycpZksyDEC9MOBvfdwTXZ0uVhb7bMcGeXv2/BKtfQuo6Zn3zfc8rxNXA==}\n-    engines: {node: ^14.18.0 || >=16.0.0, npm: '>= 8'}\n-    hasBin: true\n-    dependencies:\n-      ansi-styles: 6.2.1\n-      cross-spawn: 7.0.3\n-      memorystream: 0.3.1\n-      minimatch: 9.0.3\n-      pidtree: 0.6.0\n-      read-pkg: 8.1.0\n-      shell-quote: 1.8.1\n-    dev: true\n-\n-  /parse-json@7.1.1:\n-    resolution: {integrity: sha512-SgOTCX/EZXtZxBE5eJ97P4yGM5n37BwRU+YMsH4vNzFqJV/oWFXXCmwFlgWUM4PrakybVOueJJ6pwHqSVhTFDw==}\n-    engines: {node: '>=16'}\n-    dependencies:\n-      '@babel/code-frame': 7.23.5\n-      error-ex: 1.3.2\n-      json-parse-even-better-errors: 3.0.1\n-      lines-and-columns: 2.0.4\n-      type-fest: 3.13.1\n-    dev: true\n-\n-  /path-browserify@1.0.1:\n-    resolution: {integrity: sha512-b7uo2UCUOYZcnF/3ID0lulOJi/bafxa1xPe7ZPsammBSpjSWQkjNxlt635YGS2MiR9GjvuXCtz2emr3jbsz98g==}\n-    dev: true\n-\n-  /path-key@3.1.1:\n-    resolution: {integrity: sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==}\n-    engines: {node: '>=8'}\n-    dev: true\n-\n-  /picocolors@1.0.0:\n-    resolution: {integrity: sha512-1fygroTLlHu66zi26VoTDv8yRgm0Fccecssto+MhsZ0D/DGW2sm8E8AjW7NU5VVTRt5GxbeZ5qBuJr+HyLYkjQ==}\n-\n-  /pidtree@0.6.0:\n-    resolution: {integrity: sha512-eG2dWTVw5bzqGRztnHExczNxt5VGsE6OwTeCG3fdUf9KBsZzO3R5OIIIzWR+iZA0NtZ+RDVdaoE2dK1cn6jH4g==}\n-    engines: {node: '>=0.10'}\n-    hasBin: true\n-    dev: true\n-\n-  /postcss@8.4.32:\n-    resolution: {integrity: sha512-D/kj5JNu6oo2EIy+XL/26JEDTlIbB8hw85G8StOE6L74RQAVVP5rej6wxCNqyMbR4RkPfqvezVbPw81Ngd6Kcw==}\n-    engines: {node: ^10 || ^12 || >=14}\n-    dependencies:\n-      nanoid: 3.3.7\n-      picocolors: 1.0.0\n-      source-map-js: 1.0.2\n-\n-  /read-pkg@8.1.0:\n-    resolution: {integrity: sha512-PORM8AgzXeskHO/WEv312k9U03B8K9JSiWF/8N9sUuFjBa+9SF2u6K7VClzXwDXab51jCd8Nd36CNM+zR97ScQ==}\n-    engines: {node: '>=16'}\n-    dependencies:\n-      '@types/normalize-package-data': 2.4.4\n-      normalize-package-data: 6.0.0\n-      parse-json: 7.1.1\n-      type-fest: 4.8.3\n-    dev: true\n-\n-  /rollup@4.9.0:\n-    resolution: {integrity: sha512-bUHW/9N21z64gw8s6tP4c88P382Bq/L5uZDowHlHx6s/QWpjJXivIAbEw6LZthgSvlEizZBfLC4OAvWe7aoF7A==}\n-    engines: {node: '>=18.0.0', npm: '>=8.0.0'}\n-    hasBin: true\n-    optionalDependencies:\n-      '@rollup/rollup-android-arm-eabi': 4.9.0\n-      '@rollup/rollup-android-arm64': 4.9.0\n-      '@rollup/rollup-darwin-arm64': 4.9.0\n-      '@rollup/rollup-darwin-x64': 4.9.0\n-      '@rollup/rollup-linux-arm-gnueabihf': 4.9.0\n-      '@rollup/rollup-linux-arm64-gnu': 4.9.0\n-      '@rollup/rollup-linux-arm64-musl': 4.9.0\n-      '@rollup/rollup-linux-riscv64-gnu': 4.9.0\n-      '@rollup/rollup-linux-x64-gnu': 4.9.0\n-      '@rollup/rollup-linux-x64-musl': 4.9.0\n-      '@rollup/rollup-win32-arm64-msvc': 4.9.0\n-      '@rollup/rollup-win32-ia32-msvc': 4.9.0\n-      '@rollup/rollup-win32-x64-msvc': 4.9.0\n-      fsevents: 2.3.3\n-    dev: true\n-\n-  /semver@7.5.4:\n-    resolution: {integrity: sha512-1bCSESV6Pv+i21Hvpxp3Dx+pSD8lIPt8uVjRrxAUt/nbswYc+tK6Y2btiULjd4+fnq15PX+nqQDC7Oft7WkwcA==}\n-    engines: {node: '>=10'}\n-    hasBin: true\n-    dependencies:\n-      lru-cache: 6.0.0\n-    dev: true\n-\n-  /shebang-command@2.0.0:\n-    resolution: {integrity: sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==}\n-    engines: {node: '>=8'}\n-    dependencies:\n-      shebang-regex: 3.0.0\n-    dev: true\n-\n-  /shebang-regex@3.0.0:\n-    resolution: {integrity: sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==}\n-    engines: {node: '>=8'}\n-    dev: true\n-\n-  /shell-quote@1.8.1:\n-    resolution: {integrity: sha512-6j1W9l1iAs/4xYBI1SYOVZyFcCis9b4KCLQ8fgAGG07QvzaRLVVRQvAy85yNmmZSjYjg4MWh4gNvlPujU/5LpA==}\n-    dev: true\n-\n-  /source-map-js@1.0.2:\n-    resolution: {integrity: sha512-R0XvVJ9WusLiqTCEiGCmICCMplcCkIwwR11mOSD9CR5u+IXYdiseeEuXCVAjS54zqwkLcPNnmU4OeJ6tUrWhDw==}\n-    engines: {node: '>=0.10.0'}\n-\n-  /spdx-correct@3.2.0:\n-    resolution: {integrity: sha512-kN9dJbvnySHULIluDHy32WHRUu3Og7B9sbY7tsFLctQkIqnMh3hErYgdMjTYuqmcXX+lK5T1lnUt3G7zNswmZA==}\n-    dependencies:\n-      spdx-expression-parse: 3.0.1\n-      spdx-license-ids: 3.0.16\n-    dev: true\n-\n-  /spdx-exceptions@2.3.0:\n-    resolution: {integrity: sha512-/tTrYOC7PPI1nUAgx34hUpqXuyJG+DTHJTnIULG4rDygi4xu/tfgmq1e1cIRwRzwZgo4NLySi+ricLkZkw4i5A==}\n-    dev: true\n-\n-  /spdx-expression-parse@3.0.1:\n-    resolution: {integrity: sha512-cbqHunsQWnJNE6KhVSMsMeH5H/L9EpymbzqTQ3uLwNCLZ1Q481oWaofqH7nO6V07xlXwY6PhQdQ2IedWx/ZK4Q==}\n-    dependencies:\n-      spdx-exceptions: 2.3.0\n-      spdx-license-ids: 3.0.16\n-    dev: true\n-\n-  /spdx-license-ids@3.0.16:\n-    resolution: {integrity: sha512-eWN+LnM3GR6gPu35WxNgbGl8rmY1AEmoMDvL/QD6zYmPWgywxWqJWNdLGT+ke8dKNWrcYgYjPpG5gbTfghP8rw==}\n-    dev: true\n-\n-  /supports-color@5.5.0:\n-    resolution: {integrity: sha512-QjVjwdXIt408MIiAqCX4oUKsgU2EqAGzs2Ppkm4aQYbjm+ZEWEcW4SfFNTr4uMNZma0ey4f5lgLrkB0aX0QMow==}\n-    engines: {node: '>=4'}\n-    dependencies:\n-      has-flag: 3.0.0\n-    dev: true\n-\n-  /to-fast-properties@2.0.0:\n-    resolution: {integrity: sha512-/OaKK0xYrs3DmxRYqL/yDc+FxFUVYhDlXMhRmv3z915w2HF1tnN1omB354j8VUGO/hbRzyD6Y3sA7v7GS/ceog==}\n-    engines: {node: '>=4'}\n-\n-  /type-fest@3.13.1:\n-    resolution: {integrity: sha512-tLq3bSNx+xSpwvAJnzrK0Ep5CLNWjvFTOp71URMaAEWBfRb9nnJiBoUe0tF8bI4ZFO3omgBR6NvnbzVUT3Ly4g==}\n-    engines: {node: '>=14.16'}\n-    dev: true\n-\n-  /type-fest@4.8.3:\n-    resolution: {integrity: sha512-//BaTm14Q/gHBn09xlnKNqfI8t6bmdzx2DXYfPBNofN0WUybCEUDcbCWcTa0oF09lzLjZgPphXAsvRiMK0V6Bw==}\n-    engines: {node: '>=16'}\n-    dev: true\n-\n-  /typescript@5.3.3:\n-    resolution: {integrity: sha512-pXWcraxM0uxAS+tN0AG/BF2TyqmHO014Z070UsJ+pFvYuRSq8KH8DmWpnbXe0pEPDHXZV3FcAbJkijJ5oNEnWw==}\n-    engines: {node: '>=14.17'}\n-    hasBin: true\n-\n-  /undici-types@5.26.5:\n-    resolution: {integrity: sha512-JlCMO+ehdEIKqlFxk6IfVoAUVmgz7cU7zD/h9XZ0qzeosSHmUJVOzSQvvYSYWXkFXC+IfLKSIffhv0sVZup6pA==}\n-    dev: true\n-\n-  /validate-npm-package-license@3.0.4:\n-    resolution: {integrity: sha512-DpKm2Ui/xN7/HQKCtpZxoRWBhZ9Z0kqtygG8XCgNQ8ZlDnxuQmWhj566j8fN4Cu3/JmbhsDo7fcAJq4s9h27Ew==}\n-    dependencies:\n-      spdx-correct: 3.2.0\n-      spdx-expression-parse: 3.0.1\n-    dev: true\n-\n-  /vite@5.0.10(@types/node@18.19.3):\n-    resolution: {integrity: sha512-2P8J7WWgmc355HUMlFrwofacvr98DAjoE52BfdbwQtyLH06XKwaL/FMnmKM2crF0iX4MpmMKoDlNCB1ok7zHCw==}\n-    engines: {node: ^18.0.0 || >=20.0.0}\n-    hasBin: true\n-    peerDependencies:\n-      '@types/node': ^18.0.0 || >=20.0.0\n-      less: '*'\n-      lightningcss: ^1.21.0\n-      sass: '*'\n-      stylus: '*'\n-      sugarss: '*'\n-      terser: ^5.4.0\n-    peerDependenciesMeta:\n-      '@types/node':\n-        optional: true\n-      less:\n-        optional: true\n-      lightningcss:\n-        optional: true\n-      sass:\n-        optional: true\n-      stylus:\n-        optional: true\n-      sugarss:\n-        optional: true\n-      terser:\n-        optional: true\n-    dependencies:\n-      '@types/node': 18.19.3\n-      esbuild: 0.19.9\n-      postcss: 8.4.32\n-      rollup: 4.9.0\n-    optionalDependencies:\n-      fsevents: 2.3.3\n-    dev: true\n-\n-  /vue-router@4.2.5(vue@3.3.12):\n-    resolution: {integrity: sha512-DIUpKcyg4+PTQKfFPX88UWhlagBEBEfJ5A8XDXRJLUnZOvcpMF8o/dnL90vpVkGaPbjvXazV/rC1qBKrZlFugw==}\n-    peerDependencies:\n-      vue: ^3.2.0\n-    dependencies:\n-      '@vue/devtools-api': 6.5.1\n-      vue: 3.3.12(typescript@5.3.3)\n-    dev: false\n-\n-  /vue-template-compiler@2.7.15:\n-    resolution: {integrity: sha512-yQxjxMptBL7UAog00O8sANud99C6wJF+7kgbcwqkvA38vCGF7HWE66w0ZFnS/kX5gSoJr/PQ4/oS3Ne2pW37Og==}\n-    dependencies:\n-      de-indent: 1.0.2\n-      he: 1.2.0\n-    dev: true\n-\n-  /vue-tsc@1.8.25(typescript@5.3.3):\n-    resolution: {integrity: sha512-lHsRhDc/Y7LINvYhZ3pv4elflFADoEOo67vfClAfF2heVHpHmVquLSjojgCSIwzA4F0Pc4vowT/psXCYcfk+iQ==}\n-    hasBin: true\n-    peerDependencies:\n-      typescript: '*'\n-    dependencies:\n-      '@volar/typescript': 1.11.1\n-      '@vue/language-core': 1.8.25(typescript@5.3.3)\n-      semver: 7.5.4\n-      typescript: 5.3.3\n-    dev: true\n-\n-  /vue@3.3.12(typescript@5.3.3):\n-    resolution: {integrity: sha512-jYNv2QmET2OTHsFzfWHMnqgCfqL4zfo97QwofdET+GBRCHhSCHuMTTvNIgeSn0/xF3JRT5OGah6MDwUFN7MPlg==}\n-    peerDependencies:\n-      typescript: '*'\n-    peerDependenciesMeta:\n-      typescript:\n-        optional: true\n-    dependencies:\n-      '@vue/compiler-dom': 3.3.12\n-      '@vue/compiler-sfc': 3.3.12\n-      '@vue/runtime-dom': 3.3.12\n-      '@vue/server-renderer': 3.3.12(vue@3.3.12)\n-      '@vue/shared': 3.3.12\n-      typescript: 5.3.3\n-\n-  /which@2.0.2:\n-    resolution: {integrity: sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==}\n-    engines: {node: '>= 8'}\n-    hasBin: true\n-    dependencies:\n-      isexe: 2.0.0\n-    dev: true\n-\n-  /yallist@4.0.0:\n-    resolution: {integrity: sha512-3wdGidZyq5PB084XLES5TpOSRA3wjXAlIWMhum2kRcv/41Sn2emQ0dycQW4uZXLejwKvg6EsvbdlVL+FYEct7A==}\n-    dev: true"
    },
    {
      "sha": "d47303adddda3202e5d30c6e2ae0383d34b19ff4",
      "filename": "test/vue-test/src/components/Artalk.vue",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fsrc%2Fcomponents%2FArtalk.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fsrc%2Fcomponents%2FArtalk.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fvue-test%2Fsrc%2Fcomponents%2FArtalk.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -26,7 +26,3 @@ onUnmounted(() => {\n <template>\n   <view ref=\"el\"></view>\n </template>\n-\n-<style lang=\"scss\" scoped>\n-\n-</style>"
    },
    {
      "sha": "3e49915cae707b92441e745b76f9a7958cd8f2ac",
      "filename": "test/vue-test/src/router/index.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fsrc%2Frouter%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fsrc%2Frouter%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fvue-test%2Fsrc%2Frouter%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,17 +7,17 @@ const router = createRouter({\n     {\n       path: '/',\n       name: 'home',\n-      component: HomeView\n+      component: HomeView,\n     },\n     {\n       path: '/about',\n       name: 'about',\n       // route level code-splitting\n       // this generates a separate chunk (About.[hash].js) for this route\n       // which is lazy-loaded when the route is visited.\n-      component: () => import('../views/AboutView.vue')\n-    }\n-  ]\n+      component: () => import('../views/AboutView.vue'),\n+    },\n+  ],\n })\n \n export default router"
    },
    {
      "sha": "b8de208dfe55ab614261a332ef80385fe124adcd",
      "filename": "test/vue-test/vite.config.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 6,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fvite.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/test%2Fvue-test%2Fvite.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Fvue-test%2Fvite.config.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,12 +5,10 @@ import vue from '@vitejs/plugin-vue'\n \n // https://vitejs.dev/config/\n export default defineConfig({\n-  plugins: [\n-    vue(),\n-  ],\n+  plugins: [vue()],\n   resolve: {\n     alias: {\n-      '@': fileURLToPath(new URL('./src', import.meta.url))\n-    }\n-  }\n+      '@': fileURLToPath(new URL('./src', import.meta.url)),\n+    },\n+  },\n })"
    },
    {
      "sha": "5f64e11892434d95c973ca57a65cc5c07d61096f",
      "filename": "ui/artalk-sidebar/.eslintrc.cjs",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2F.eslintrc.cjs",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2F.eslintrc.cjs",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2F.eslintrc.cjs?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,18 +3,18 @@ require('@rushstack/eslint-patch/modern-module-resolution')\n \n module.exports = {\n   root: true,\n-  'extends': [\n+  extends: [\n     'plugin:vue/vue3-essential',\n     'eslint:recommended',\n     '@vue/eslint-config-typescript',\n-    '@vue/eslint-config-prettier/skip-formatting'\n+    '@vue/eslint-config-prettier/skip-formatting',\n   ],\n   parserOptions: {\n-    ecmaVersion: 'latest'\n+    ecmaVersion: 'latest',\n   },\n   rules: {\n     'vue/multi-word-component-names': 0,\n     'no-unused-vars': 0,\n     '@typescript-eslint/no-unused-vars': 0,\n-  }\n+  },\n }"
    },
    {
      "sha": "90462679f32828437c941f4ff2d89a169d3f3211",
      "filename": "ui/artalk-sidebar/index.html",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Findex.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Findex.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Findex.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,4 +1,4 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n   <head>\n     <meta charset=\"UTF-8\" />"
    },
    {
      "sha": "6e45cb0998df6930e21b23bb365489a41be2fef9",
      "filename": "ui/artalk-sidebar/src/App.vue",
      "status": "modified",
      "additions": 25,
      "deletions": 18,
      "changes": 43,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2FApp.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2FApp.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2FApp.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -48,23 +48,26 @@ function syncArtalk(artalk: Artalk) {\n   const artalkUser = artalk.ctx.get('user')\n   const artalkUserData = artalkUser.getData()\n \n-  artalk.ctx.getApi().user.getUserStatus({\n-    email: artalkUserData.email,\n-    name: artalkUserData.nick\n-  }).then(res => {\n-    if (res.data.is_admin && !res.data.is_login) {\n-      user.logout()\n-      nextTick(() => {\n-        router.replace('/login')\n-      })\n-    } else {\n-      // 将全部通知标记为已读\n-      artalk.ctx.getApi().notifies.markAllNotifyRead({\n-        email: artalkUserData.email,\n-        name: artalkUserData.nick\n-      })\n-    }\n-  })\n+  artalk.ctx\n+    .getApi()\n+    .user.getUserStatus({\n+      email: artalkUserData.email,\n+      name: artalkUserData.nick,\n+    })\n+    .then((res) => {\n+      if (res.data.is_admin && !res.data.is_login) {\n+        user.logout()\n+        nextTick(() => {\n+          router.replace('/login')\n+        })\n+      } else {\n+        // 将全部通知标记为已读\n+        artalk.ctx.getApi().notifies.markAllNotifyRead({\n+          email: artalkUserData.email,\n+          name: artalkUserData.nick,\n+        })\n+      }\n+    })\n }\n \n const darkMode = ref(bootParams.darkMode)\n@@ -79,7 +82,11 @@ const darkMode = ref(bootParams.darkMode)\n </script>\n \n <template>\n-  <div v-if=\"artalkLoaded\" class=\"app-wrap artalk atk-sidebar\" :class=\"{ 'atk-dark-mode': darkMode }\">\n+  <div\n+    v-if=\"artalkLoaded\"\n+    class=\"app-wrap artalk atk-sidebar\"\n+    :class=\"{ 'atk-dark-mode': darkMode }\"\n+  >\n     <Header />\n     <Tab />\n "
    },
    {
      "sha": "f0a4bad692219dd0d36bf75f2350b88c0d48bcb7",
      "filename": "ui/artalk-sidebar/src/components/FileUploader.vue",
      "status": "modified",
      "additions": 13,
      "deletions": 9,
      "changes": 22,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FFileUploader.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FFileUploader.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FFileUploader.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,8 +14,8 @@ const emit = defineEmits<{\n \n const { apiUrl } = toRefs(props)\n \n-let xhr: XMLHttpRequest|null = null\n-const fileInputEl = ref<HTMLInputElement|null>(null)\n+let xhr: XMLHttpRequest | null = null\n+const fileInputEl = ref<HTMLInputElement | null>(null)\n const remoteFilename = ref('')\n const isUploading = ref(false)\n const progress = ref(0)\n@@ -45,7 +45,7 @@ async function startUploadFile(file: File) {\n     const fileSize = file.size\n     if (evt.loaded <= fileSize) {\n       // 正在上传\n-      progress.value = Math.round(evt.loaded / fileSize * 100)\n+      progress.value = Math.round((evt.loaded / fileSize) * 100)\n     }\n   })\n \n@@ -56,7 +56,7 @@ async function startUploadFile(file: File) {\n \n   // 开始上传\n   xhr.open('post', apiUrl.value)\n-  xhr.timeout = 5*60*1000 // 5分钟超时\n+  xhr.timeout = 5 * 60 * 1000 // 5分钟超时\n   xhr.send(formData)\n \n   // 上传成功事件\n@@ -72,7 +72,7 @@ async function startUploadFile(file: File) {\n       return\n     }\n \n-    const ok = (xhr.status >= 200) && (xhr.status <= 299)\n+    const ok = xhr.status >= 200 && xhr.status <= 299\n     if (!ok) {\n       setErr(`Response HTTP Code: ${xhr.status}, Body: ${xhr.response}`)\n       return\n@@ -120,7 +120,13 @@ function abortUpload() {\n <template>\n   <div class=\"atk-file-upload-group\">\n     <div v-show=\"!isUploading\" class=\"atk-file-input-wrap atk-fade-in\">\n-      <input ref=\"fileInputEl\" type=\"file\" name=\"AtkDataFile\" accept=\".artrans\" @change=\"onFileInputChange()\" />\n+      <input\n+        ref=\"fileInputEl\"\n+        type=\"file\"\n+        name=\"AtkDataFile\"\n+        accept=\".artrans\"\n+        @change=\"onFileInputChange()\"\n+      />\n       <div class=\"atk-desc\">\n         <slot v-if=\"!isDone\" name=\"tip\"></slot>\n         <slot v-if=\"isDone\" name=\"done-msg\"></slot>\n@@ -140,6 +146,4 @@ function abortUpload() {\n   </div>\n </template>\n \n-<style scoped lang=\"scss\">\n-\n-</style>\n+<style scoped lang=\"scss\"></style>"
    },
    {
      "sha": "2b4406246974ce40d0bf8e1335fd1bbd9f45ad82",
      "filename": "ui/artalk-sidebar/src/components/Header.vue",
      "status": "modified",
      "additions": 7,
      "deletions": 6,
      "changes": 13,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FHeader.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FHeader.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FHeader.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -23,15 +23,15 @@ const userAvatarImgURL = computed(() => {\n     <template v-if=\"isAdmin\">\n       <div\n         class=\"avatar clickable\"\n-        :class=\"{ 'active': nav.siteSwitcherShow }\"\n+        :class=\"{ active: nav.siteSwitcherShow }\"\n         @click=\"nav.showSiteSwitcher()\"\n       >\n         <div class=\"site\">{{ curtSite.substring(0, 1) || '_' }}</div>\n       </div>\n     </template>\n     <template v-else>\n       <div class=\"avatar\">\n-        <img :src=\"userAvatarImgURL\">\n+        <img :src=\"userAvatarImgURL\" />\n       </div>\n     </template>\n \n@@ -75,7 +75,8 @@ const userAvatarImgURL = computed(() => {\n     &.clickable {\n       cursor: pointer;\n \n-      &:hover, &.active {\n+      &:hover,\n+      &.active {\n         background: var(--at-color-bg-grey);\n         border-right: 1px solid var(--at-color-border);\n       }\n@@ -100,7 +101,7 @@ const userAvatarImgURL = computed(() => {\n       text-align: center;\n       line-height: 30px;\n       font-size: 13px;\n-      color: #FFF;\n+      color: #fff;\n     }\n   }\n \n@@ -116,14 +117,14 @@ const userAvatarImgURL = computed(() => {\n       font-size: 20px;\n \n       &::after {\n-        content: \"\";\n+        content: '';\n         position: absolute;\n         bottom: 0;\n         left: 0;\n         width: 100%;\n         height: 6px;\n         background: #0083ff;\n-        opacity: .4;\n+        opacity: 0.4;\n       }\n     }\n   }"
    },
    {
      "sha": "6e51368ed10435804bd43d9a739bdecbd0e253e2",
      "filename": "ui/artalk-sidebar/src/components/ItemTextEditor.vue",
      "status": "modified",
      "additions": 12,
      "deletions": 12,
      "changes": 24,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FItemTextEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FItemTextEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FItemTextEditor.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,12 +6,12 @@ const props = defineProps<{\n }>()\n \n const emit = defineEmits<{\n-  (evt: 'yes', value: string): boolean|void|Promise<boolean|void>\n-  (evt: 'no', value: string): boolean|void|Promise<boolean|void>\n+  (evt: 'yes', value: string): boolean | void | Promise<boolean | void>\n+  (evt: 'no', value: string): boolean | void | Promise<boolean | void>\n   (evt: 'close'): void\n }>()\n \n-const inputEl = ref<HTMLInputElement|null>(null)\n+const inputEl = ref<HTMLInputElement | null>(null)\n const inputVal = ref('')\n const inputInvalid = ref(false)\n \n@@ -30,13 +30,14 @@ function onInput() {\n }\n \n function onKeyUp(evt: KeyboardEvent) {\n-  if (evt.key === 'Enter' || evt.keyCode === 13) { // 按下回车键\n+  if (evt.key === 'Enter' || evt.keyCode === 13) {\n+    // 按下回车键\n     evt.preventDefault()\n     submit('yes')\n   }\n }\n \n-async function submit(type: 'yes'|'no') {\n+async function submit(type: 'yes' | 'no') {\n   if (type == 'yes' && inputInvalid.value) return\n \n   let isContinue: any = undefined\n@@ -67,7 +68,7 @@ async function submit(type: 'yes'|'no') {\n         @input=\"onInput()\"\n         @keyup=\"onKeyUp\"\n         :class=\"{ 'atk-invalid': inputInvalid }\"\n-      >\n+      />\n     </div>\n     <div class=\"atk-actions\">\n       <div\n@@ -77,10 +78,7 @@ async function submit(type: 'yes'|'no') {\n       >\n         <i class=\"atk-icon atk-icon-yes\"></i>\n       </div>\n-      <div\n-        class=\"atk-item atk-no-btn\"\n-        @click=\"submit('no')\"\n-      >\n+      <div class=\"atk-item atk-no-btn\" @click=\"submit('no')\">\n         <i class=\"atk-icon atk-icon-no\"></i>\n       </div>\n     </div>\n@@ -113,7 +111,8 @@ async function submit(type: 'yes'|'no') {\n       outline: none;\n       background: transparent;\n \n-      &.atk-invalid {}\n+      &.atk-invalid {\n+      }\n \n       &:focus {\n         border-bottom-color: var(--at-color-main);\n@@ -124,7 +123,8 @@ async function submit(type: 'yes'|'no') {\n   .atk-actions {\n     @extend .atk-list-btn-actions;\n \n-    .atk-yes-btn.atk-disabled {}\n+    .atk-yes-btn.atk-disabled {\n+    }\n   }\n }\n </style>"
    },
    {
      "sha": "dd88d02d5256880025424b8320bf08141d19332f",
      "filename": "ui/artalk-sidebar/src/components/LoadingLayer.vue",
      "status": "modified",
      "additions": 4,
      "deletions": 2,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FLoadingLayer.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FLoadingLayer.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FLoadingLayer.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,7 +5,7 @@ const props = defineProps<{\n }>()\n \n const showSpinner = ref(false)\n-let timer: number|undefined\n+let timer: number | undefined\n \n onMounted(() => {\n   // spinner 延迟显示，若加载等待时间太短，没必要显示（闪一下即可）\n@@ -26,7 +26,9 @@ onUnmounted(() => {\n     :style=\"{ background: props.transparentBg ? 'transparent' : undefined }\"\n   >\n     <div v-if=\"showSpinner\" class=\"atk-loading-spinner\">\n-      <svg viewBox=\"25 25 50 50\"><circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg>\n+      <svg viewBox=\"25 25 50 50\">\n+        <circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle>\n+      </svg>\n     </div>\n   </div>\n </template>"
    },
    {
      "sha": "84e428fe63049d6d943ad8fa45d52fd2452b8453",
      "filename": "ui/artalk-sidebar/src/components/LogTerminal.vue",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FLogTerminal.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FLogTerminal.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FLogTerminal.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -10,7 +10,7 @@ const emit = defineEmits<{\n   (evt: 'back'): void\n }>()\n \n-const logWrapEl = ref<HTMLElement|null>(null)\n+const logWrapEl = ref<HTMLElement | null>(null)\n \n onMounted(() => {\n   // 创建 iframe\n@@ -71,7 +71,8 @@ function back() {\n     }\n   }\n \n-  .atk-log {}\n+  .atk-log {\n+  }\n \n   .atk-iframe {\n     width: 100%;"
    },
    {
      "sha": "4bbea4cc457933f8fa50b7a815aed6176d1dd878",
      "filename": "ui/artalk-sidebar/src/components/PageEditor.vue",
      "status": "modified",
      "additions": 39,
      "deletions": 14,
      "changes": 53,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPageEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPageEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPageEditor.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,8 +13,10 @@ const emit = defineEmits<{\n }>()\n \n const { page } = toRefs(props)\n-const editFieldKey = ref<keyof ArtalkType.PageData|null>(null)\n-const editFieldVal = computed(() => String(editFieldKey ? page.value[editFieldKey.value!] || '' : ''))\n+const editFieldKey = ref<keyof ArtalkType.PageData | null>(null)\n+const editFieldVal = computed(() =>\n+  String(editFieldKey ? page.value[editFieldKey.value!] || '' : ''),\n+)\n const isLoading = ref(false)\n const { t } = useI18n()\n \n@@ -30,12 +32,19 @@ async function editAdminOnly() {\n   isLoading.value = true\n   let p: ArtalkType.PageData\n   try {\n-    p = (await artalk!.ctx.getApi().pages.updatePage(page.value.id, { ...page.value, admin_only: !page.value.admin_only })).data\n+    p = (\n+      await artalk!.ctx.getApi().pages.updatePage(page.value.id, {\n+        ...page.value,\n+        admin_only: !page.value.admin_only,\n+      })\n+    ).data\n   } catch (err: any) {\n     alert(`修改失败：${err.message || '未知错误'}`)\n     console.log(err)\n     return\n-  } finally { isLoading.value = false }\n+  } finally {\n+    isLoading.value = false\n+  }\n   emit('update', p)\n }\n \n@@ -48,7 +57,9 @@ async function sync() {\n     alert(`同步失败：${err.message || '未知错误'}`)\n     console.log(err)\n     return\n-  } finally { isLoading.value = false }\n+  } finally {\n+    isLoading.value = false\n+  }\n   emit('update', p)\n }\n \n@@ -61,12 +72,13 @@ function del() {\n       console.log(err)\n       alert(`删除失败 ${String(err)}`)\n       return\n-    } finally { isLoading.value = false }\n+    } finally {\n+      isLoading.value = false\n+    }\n     emit('remove', page.value.id)\n   }\n-  if (window.confirm(\n-    `确认删除页面 \"${page.value.title || page.value.key}\"？将会删除所有相关数据`\n-  )) del()\n+  if (window.confirm(`确认删除页面 \"${page.value.title || page.value.key}\"？将会删除所有相关数据`))\n+    del()\n }\n \n function close() {\n@@ -78,12 +90,19 @@ async function onFieldEditorYes(val: string) {\n     isLoading.value = true\n     let p: ArtalkType.PageData\n     try {\n-      p = (await artalk!.ctx.getApi().pages.updatePage(page.value.id, { ...page.value, [editFieldKey.value as any]: val })).data\n+      p = (\n+        await artalk!.ctx.getApi().pages.updatePage(page.value.id, {\n+          ...page.value,\n+          [editFieldKey.value as any]: val,\n+        })\n+      ).data\n     } catch (err: any) {\n       alert(`修改失败：${err.message || '未知错误'}`)\n       console.error(err)\n       return false\n-    } finally { isLoading.value = false }\n+    } finally {\n+      isLoading.value = false\n+    }\n     emit('update', p)\n   }\n \n@@ -100,13 +119,19 @@ function onFiledEditorNo() {\n <template>\n   <div class=\"atk-page-edit-layer\">\n     <div class=\"atk-page-main-actions\">\n-      <div class=\"atk-item atk-title-edit-btn\" @click=\"editTitle()\">{{ t('editTitle') }}</div>\n-      <div class=\"atk-item atk-key-edit-btn\" @click=\"editKey()\">{{ t('switchKey') }}</div>\n+      <div class=\"atk-item atk-title-edit-btn\" @click=\"editTitle()\">\n+        {{ t('editTitle') }}\n+      </div>\n+      <div class=\"atk-item atk-key-edit-btn\" @click=\"editKey()\">\n+        {{ t('switchKey') }}\n+      </div>\n       <div\n         class=\"atk-item atk-admin-only-btn\"\n         :class=\"!page.admin_only ? 'atk-green' : 'atk-yellow'\"\n         @click=\"editAdminOnly()\"\n-      >{{ !page.admin_only ? t('commentAllowAll') : t('commentOnlyAdmin') }}</div>\n+      >\n+        {{ !page.admin_only ? t('commentAllowAll') : t('commentOnlyAdmin') }}\n+      </div>\n     </div>\n     <div class=\"atk-page-actions\">\n       <div class=\"atk-item atk-sync-btn\" @click=\"sync()\">"
    },
    {
      "sha": "cdd58d6fc882062d8810fac78ad278eefa1c44e4",
      "filename": "ui/artalk-sidebar/src/components/Pagination.vue",
      "status": "modified",
      "additions": 57,
      "deletions": 14,
      "changes": 71,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPagination.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPagination.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPagination.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -20,11 +20,11 @@ const emit = defineEmits<{\n const curtPage = ref(1)\n const offset = computed(() => pageSize.value * (curtPage.value - 1))\n const maxPage = computed(() => Math.ceil(total.value / pageSize.value))\n-const prevDisabled = computed(() => (curtPage.value - 1 < 1))\n-const nextDisabled = computed(() => (curtPage.value + 1 > maxPage.value))\n+const prevDisabled = computed(() => curtPage.value - 1 < 1)\n+const nextDisabled = computed(() => curtPage.value + 1 > maxPage.value)\n \n const inputValue = ref(String(curtPage.value))\n-let inputTimer: number|undefined\n+let inputTimer: number | undefined\n \n function changePage(page: number) {\n   curtPage.value = page\n@@ -36,14 +36,18 @@ function changePage(page: number) {\n function prev() {\n   if (disabled?.value) return\n   const page = curtPage.value - 1\n-  if (page < 1) { return }\n+  if (page < 1) {\n+    return\n+  }\n   changePage(page)\n }\n \n function next() {\n   if (disabled?.value) return\n   const page = curtPage.value + 1\n-  if (page > maxPage.value) { return }\n+  if (page > maxPage.value) {\n+    return\n+  }\n   changePage(page)\n }\n \n@@ -67,11 +71,22 @@ function triggerInput(now: boolean = false) {\n   const value = inputValue.value.trim()\n \n   const modify = () => {\n-    if (value === '') { revokeInput();return }\n+    if (value === '') {\n+      revokeInput()\n+      return\n+    }\n     let page = Number(value)\n-    if (Number.isNaN(page)) { revokeInput();return }\n-    if (page < 1) { revokeInput();return }\n-    if (page > maxPage.value) { page = maxPage.value }\n+    if (Number.isNaN(page)) {\n+      revokeInput()\n+      return\n+    }\n+    if (page < 1) {\n+      revokeInput()\n+      return\n+    }\n+    if (page > maxPage.value) {\n+      page = maxPage.value\n+    }\n     changePage(page)\n   }\n \n@@ -86,13 +101,17 @@ function onInputKeydown(evt: KeyboardEvent) {\n   if (keyCode === 38) {\n     // 上键\n     const page = Number(inputValue.value) + 1\n-    if (page > maxPage.value) { return }\n-    fillInput(page);\n+    if (page > maxPage.value) {\n+      return\n+    }\n+    fillInput(page)\n     triggerInput(false)\n   } else if (keyCode === 40) {\n     // 下键\n     const page = Number(inputValue.value) - 1\n-    if (page < 1) { return }\n+    if (page < 1) {\n+      return\n+    }\n     fillInput(page)\n     triggerInput(false)\n   } else if (keyCode === 13) {\n@@ -113,7 +132,19 @@ defineExpose({ prev, next, reset })\n         @click=\"prev()\"\n         aria-label=\"Previous page\"\n       >\n-        <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 512 512\" height=\"14px\" width=\"14px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z\"></path></svg>\n+        <svg\n+          stroke=\"currentColor\"\n+          fill=\"currentColor\"\n+          stroke-width=\"0\"\n+          viewBox=\"0 0 512 512\"\n+          height=\"14px\"\n+          width=\"14px\"\n+          xmlns=\"http://www.w3.org/2000/svg\"\n+        >\n+          <path\n+            d=\"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z\"\n+          ></path>\n+        </svg>\n       </div>\n       <input\n         type=\"text\"\n@@ -130,7 +161,19 @@ defineExpose({ prev, next, reset })\n         @click=\"next()\"\n         aria-label=\"Next page\"\n       >\n-        <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 512 512\" height=\"14px\" width=\"14px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z\"></path></svg>\n+        <svg\n+          stroke=\"currentColor\"\n+          fill=\"currentColor\"\n+          stroke-width=\"0\"\n+          viewBox=\"0 0 512 512\"\n+          height=\"14px\"\n+          width=\"14px\"\n+          xmlns=\"http://www.w3.org/2000/svg\"\n+        >\n+          <path\n+            d=\"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z\"\n+          ></path>\n+        </svg>\n       </div>\n     </div>\n   </div>"
    },
    {
      "sha": "1ae14c521965794fa7d5d8ea290a0cc331f4e1f2",
      "filename": "ui/artalk-sidebar/src/components/PreferenceArr.vue",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceArr.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceArr.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceArr.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,7 +13,7 @@ onMounted(() => {\n \n function sync() {\n   const value = settings.get().getCustom(props.node.path)\n-  customValue.value = (value && typeof value.toJSON === 'function') ? value.toJSON() : []\n+  customValue.value = value && typeof value.toJSON === 'function' ? value.toJSON() : []\n }\n \n function save() {"
    },
    {
      "sha": "e3f4f644ffa63200254aafeccb844421b0570895",
      "filename": "ui/artalk-sidebar/src/components/PreferenceGrp.vue",
      "status": "modified",
      "additions": 13,
      "deletions": 5,
      "changes": 18,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceGrp.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceGrp.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceGrp.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -31,8 +31,16 @@ const hiddenNodes = ['admin_users']\n </script>\n \n <template>\n-  <div v-if=\"!hiddenNodes.includes(node.name)\" class=\"pf-grp\" :class=\"[`level-${node.level}`, expanded ? 'expand' : '']\">\n-    <div v-if=\"node.level > 0 && (node.type === 'object' || node.type === 'array')\" class=\"pf-head\" @click=\"onHeadClick\">\n+  <div\n+    v-if=\"!hiddenNodes.includes(node.name)\"\n+    class=\"pf-grp\"\n+    :class=\"[`level-${node.level}`, expanded ? 'expand' : '']\"\n+  >\n+    <div\n+      v-if=\"node.level > 0 && (node.type === 'object' || node.type === 'array')\"\n+      class=\"pf-head\"\n+      @click=\"onHeadClick\"\n+    >\n       <div class=\"title\">{{ node.title }}</div>\n       <div v-if=\"!!node.subTitle\" class=\"sub-title\">{{ node.subTitle }}</div>\n     </div>\n@@ -71,7 +79,7 @@ const hiddenNodes = ['admin_users']\n         position: absolute;\n         top: 50%;\n         transform: translateY(-50%);\n-        transition: height ease .2s;\n+        transition: height ease 0.2s;\n         left: -10px;\n         content: '';\n         height: 10px;\n@@ -102,7 +110,8 @@ const hiddenNodes = ['admin_users']\n   }\n }\n \n-.pf-grp.level-1, .pf-grp.level-2 {\n+.pf-grp.level-1,\n+.pf-grp.level-2 {\n   & > .pf-head > .sub-title {\n     padding: 0 10px 0 10px;\n     margin-left: 4px;\n@@ -111,7 +120,6 @@ const hiddenNodes = ['admin_users']\n   }\n }\n \n-\n .pf-grp.level-3 {\n   margin-left: 10px;\n "
    },
    {
      "sha": "2e70d843628bd1196f078fc18559015b8cbfeb4f",
      "filename": "ui/artalk-sidebar/src/components/PreferenceItem.vue",
      "status": "modified",
      "additions": 24,
      "deletions": 30,
      "changes": 54,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceItem.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceItem.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceItem.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -23,40 +23,34 @@ function onChange() {\n   <div class=\"pf-item\">\n     <div class=\"info\">\n       <div class=\"title\">{{ node.title }}</div>\n-        <div v-if=\"node.subTitle\" class=\"sub-title\">{{ node.subTitle }}</div>\n-      </div>\n+      <div v-if=\"node.subTitle\" class=\"sub-title\">{{ node.subTitle }}</div>\n+    </div>\n \n-      <div class=\"value\">\n-        <!-- Array -->\n-        <template v-if=\"node.type === 'array'\">\n-          <PreferenceArr :node=\"node\" />\n-        </template>\n+    <div class=\"value\">\n+      <!-- Array -->\n+      <template v-if=\"node.type === 'array'\">\n+        <PreferenceArr :node=\"node\" />\n+      </template>\n \n-        <!-- 候选框 -->\n-        <template v-else-if=\"node.selector\">\n-          <select v-model=\"value\" @change=\"onChange\">\n-            <option\n-              v-for=\"(item, i) in node.selector\"\n-              :key=\"i\"\n-              :value=\"item\"\n-            >{{ item }}</option>\n-          </select>\n-        </template>\n+      <!-- 候选框 -->\n+      <template v-else-if=\"node.selector\">\n+        <select v-model=\"value\" @change=\"onChange\">\n+          <option v-for=\"(item, i) in node.selector\" :key=\"i\" :value=\"item\">\n+            {{ item }}\n+          </option>\n+        </select>\n+      </template>\n \n-        <!-- 开关 -->\n-        <template v-else-if=\"node.type === 'boolean'\">\n-          <input type=\"checkbox\" v-model=\"value\" @change=\"onChange\">\n-        </template>\n+      <!-- 开关 -->\n+      <template v-else-if=\"node.type === 'boolean'\">\n+        <input type=\"checkbox\" v-model=\"value\" @change=\"onChange\" />\n+      </template>\n \n-        <!-- 文本框 -->\n-        <template v-else>\n-          <input\n-            type=\"text\"\n-            v-model=\"value\"\n-            @change=\"onChange\"\n-          />\n-        </template>\n-      </div>\n+      <!-- 文本框 -->\n+      <template v-else>\n+        <input type=\"text\" v-model=\"value\" @change=\"onChange\" />\n+      </template>\n+    </div>\n   </div>\n </template>\n "
    },
    {
      "sha": "0f191cad62699bd3db533d5d4577045e9a548104",
      "filename": "ui/artalk-sidebar/src/components/SiteCreate.vue",
      "status": "modified",
      "additions": 39,
      "deletions": 16,
      "changes": 55,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteCreate.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteCreate.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteCreate.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,7 +5,7 @@ import type { ArtalkType } from 'artalk'\n const { t } = useI18n()\n \n const props = defineProps<{\n-  initVal?: { name: string, urls: string }\n+  initVal?: { name: string; urls: string }\n }>()\n \n const emit = defineEmits<{\n@@ -14,9 +14,9 @@ const emit = defineEmits<{\n }>()\n \n const isLoading = ref(false)\n-const site = ref<{name: string, urls: string}>({\n+const site = ref<{ name: string; urls: string }>({\n   name: '',\n-  urls: ''\n+  urls: '',\n })\n \n onMounted(() => {\n@@ -26,22 +26,33 @@ onMounted(() => {\n \n async function submit() {\n   const siteName = site.value.name.trim()\n-  const siteUrls = site.value.urls.trim().split(',').map((v) => v.trim()).filter((v) => !!v)\n+  const siteUrls = site.value.urls\n+    .trim()\n+    .split(',')\n+    .map((v) => v.trim())\n+    .filter((v) => !!v)\n \n-  if (siteName === '') { alert('请输入站点名称'); return }\n+  if (siteName === '') {\n+    alert('请输入站点名称')\n+    return\n+  }\n \n   isLoading.value = true\n   let s: ArtalkType.SiteData\n   try {\n-    s = (await artalk!.ctx.getApi().sites.createSite({\n-      name: siteName,\n-      urls: siteUrls\n-    })).data\n+    s = (\n+      await artalk!.ctx.getApi().sites.createSite({\n+        name: siteName,\n+        urls: siteUrls,\n+      })\n+    ).data\n   } catch (err: any) {\n     window.alert(`创建失败：${err.message || ''}`)\n     console.error(err)\n     return\n-  } finally { isLoading.value = false }\n+  } finally {\n+    isLoading.value = false\n+  }\n \n   emit('done', s)\n }\n@@ -60,14 +71,26 @@ function close() {\n       </div>\n     </div>\n     <form class=\"atk-form\" @submit.prevent=\"submit()\">\n-      <input v-model=\"site.name\" type=\"text\" name=\"AtkSiteName\" :placeholder=\"t('siteName')\" autocomplete=\"off\">\n-      <input v-model=\"site.urls\" type=\"text\" name=\"AtkSiteUrls\" :placeholder=\"`${t('siteUrls')} (${t('multiSepHint')})`\" autocomplete=\"off\">\n-      <button type=\"submit\" class=\"atk-btn\" name=\"AtkSubmit\">{{ t('add') }}</button>\n+      <input\n+        v-model=\"site.name\"\n+        type=\"text\"\n+        name=\"AtkSiteName\"\n+        :placeholder=\"t('siteName')\"\n+        autocomplete=\"off\"\n+      />\n+      <input\n+        v-model=\"site.urls\"\n+        type=\"text\"\n+        name=\"AtkSiteUrls\"\n+        :placeholder=\"`${t('siteUrls')} (${t('multiSepHint')})`\"\n+        autocomplete=\"off\"\n+      />\n+      <button type=\"submit\" class=\"atk-btn\" name=\"AtkSubmit\">\n+        {{ t('add') }}\n+      </button>\n     </form>\n     <LoadingLayer v-if=\"isLoading\" />\n   </div>\n </template>\n \n-<style scoped lang=\"scss\">\n-\n-</style>\n+<style scoped lang=\"scss\"></style>"
    },
    {
      "sha": "f488e1dad2c10239a5711cf85716e13d9ac02835",
      "filename": "ui/artalk-sidebar/src/components/SiteEditor.vue",
      "status": "modified",
      "additions": 30,
      "deletions": 23,
      "changes": 53,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteEditor.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,7 +14,7 @@ const emit = defineEmits<{\n \n const { site } = toRefs(props)\n const isLoading = ref(false)\n-const editFieldKey = ref<keyof ArtalkType.SiteData|null>(null)\n+const editFieldKey = ref<keyof ArtalkType.SiteData | null>(null)\n const editFieldVal = computed(() => {\n   if (editFieldKey.value === 'urls') return site.value.urls_raw || ''\n   return String(editFieldKey ? site.value[editFieldKey.value!] || '' : '')\n@@ -47,12 +47,12 @@ function del() {\n       console.log(err)\n       alert(`删除失败 ${String(err)}`)\n       return\n-    } finally { isLoading.value = false }\n+    } finally {\n+      isLoading.value = false\n+    }\n     emit('remove', site.value.id)\n   }\n-  if (window.confirm(\n-    `确认删除站点 \"${site.value.name}\"？将会删除所有相关数据`\n-  )) del()\n+  if (window.confirm(`确认删除站点 \"${site.value.name}\"？将会删除所有相关数据`)) del()\n }\n \n async function onFieldEditorYes(val: string) {\n@@ -62,14 +62,25 @@ async function onFieldEditorYes(val: string) {\n     isLoading.value = true\n     let s: ArtalkType.SiteData\n     try {\n-      let finalVal: string|string[] = val\n-      if (Array.isArray(site.value[editFieldKey.value])) finalVal = val.split(',').map((v) => v.trim()).filter((v) => !!v)\n-      s = (await artalk!.ctx.getApi().sites.updateSite(site.value.id, { ...site.value, [editFieldKey.value]: finalVal })).data\n+      let finalVal: string | string[] = val\n+      if (Array.isArray(site.value[editFieldKey.value]))\n+        finalVal = val\n+          .split(',')\n+          .map((v) => v.trim())\n+          .filter((v) => !!v)\n+      s = (\n+        await artalk!.ctx.getApi().sites.updateSite(site.value.id, {\n+          ...site.value,\n+          [editFieldKey.value]: finalVal,\n+        })\n+      ).data\n     } catch (err: any) {\n       alert(`修改失败：${err.message || '未知错误'}`)\n       console.error(err)\n       return false\n-    } finally { isLoading.value = false }\n+    } finally {\n+      isLoading.value = false\n+    }\n     emit('update', s)\n   }\n \n@@ -86,17 +97,13 @@ function onFiledEditorNo() {\n   <div class=\"atk-site-edit\">\n     <div class=\"atk-header\">\n       <div class=\"atk-site-info\">\n-        <span\n-          class=\"atk-site-name\"\n-          @click=\"!site.first_url || openURL(site.first_url)\"\n-        >{{ site.name }}</span>\n+        <span class=\"atk-site-name\" @click=\"!site.first_url || openURL(site.first_url)\">\n+          {{ site.name }}\n+        </span>\n         <span class=\"atk-site-urls\">\n-          <div\n-            v-for=\"(url, i) in site.urls\"\n-            :key=\"i\"\n-            class=\"atk-url-item\"\n-            @click=\"openURL(url)\"\n-          >{{ url }}</div>\n+          <div v-for=\"(url, i) in site.urls\" :key=\"i\" class=\"atk-url-item\" @click=\"openURL(url)\">\n+            {{ url }}\n+          </div>\n         </span>\n       </div>\n       <div class=\"atk-close-btn\" @click=\"close()\">\n@@ -105,7 +112,9 @@ function onFiledEditorNo() {\n     </div>\n     <div class=\"atk-main\">\n       <div class=\"atk-site-text-actions\">\n-        <div class=\"atk-item atk-rename-btn\" @click=\"rename()\">{{ t('rename') }}</div>\n+        <div class=\"atk-item atk-rename-btn\" @click=\"rename()\">\n+          {{ t('rename') }}\n+        </div>\n         <div class=\"atk-item atk-edit-url-btn\" @click=\"editURL()\">{{ t('edit') }} URL</div>\n         <!--<div class=\"atk-item atk-export-btn\">导出</div>\n         <div class=\"atk-item atk-import-btn\">导入</div>-->\n@@ -126,6 +135,4 @@ function onFiledEditorNo() {\n   </div>\n </template>\n \n-<style scoped lang=\"scss\">\n-\n-</style>\n+<style scoped lang=\"scss\"></style>"
    },
    {
      "sha": "941ba2c9269cc9f385461578beccb3e272d4ba45",
      "filename": "ui/artalk-sidebar/src/components/SiteSwitcher.vue",
      "status": "modified",
      "additions": 27,
      "deletions": 9,
      "changes": 36,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,10 +1,10 @@\n <script setup lang=\"ts\">\n-import { storeToRefs } from 'pinia';\n+import { storeToRefs } from 'pinia'\n import { useNavStore } from '../stores/nav'\n import { useUserStore } from '../stores/user'\n import { bootParams } from '@/global'\n \n-const el = ref<HTMLElement|null>(null)\n+const el = ref<HTMLElement | null>(null)\n \n const nav = useNavStore()\n const { siteSwitcherShow: curtShow, sites } = storeToRefs(nav)\n@@ -38,11 +38,16 @@ const displaySites = computed(() => {\n   displays.push({ label: t('allSites'), name: '', logoText: '_' })\n   sites.value.forEach((site) => {\n     displays.push({\n-      label: site.name, name: site.name,\n-      logoText: site.name.substring(0, 1)\n+      label: site.name,\n+      name: site.name,\n+      logoText: site.name.substring(0, 1),\n     })\n   })\n-  displays.push({ label: t('siteManage'), name: '__SITE_MANAGEMENT__', logoText: '+' })\n+  displays.push({\n+    label: t('siteManage'),\n+    name: '__SITE_MANAGEMENT__',\n+    logoText: '+',\n+  })\n   return displays\n })\n \n@@ -88,7 +93,18 @@ function logout() {\n \n         <!-- Logout Button -->\n         <div v-if=\"!bootParams.user?.email\" class=\"atk-site-item\" @click=\"logout()\">\n-          <svg class=\"atk-site-logo\" stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"-6 -6 36 36\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5 22C4.44772 22 4 21.5523 4 21V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V6H18V4H6V20H18V18H20V21C20 21.5523 19.5523 22 19 22H5ZM18 16V13H11V11H18V8L23 12L18 16Z\"></path></svg>\n+          <svg\n+            class=\"atk-site-logo\"\n+            stroke=\"currentColor\"\n+            fill=\"currentColor\"\n+            stroke-width=\"0\"\n+            viewBox=\"-6 -6 36 36\"\n+            xmlns=\"http://www.w3.org/2000/svg\"\n+          >\n+            <path\n+              d=\"M5 22C4.44772 22 4 21.5523 4 21V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V6H18V4H6V20H18V18H20V21C20 21.5523 19.5523 22 19 22H5ZM18 16V13H11V11H18V8L23 12L18 16Z\"\n+            ></path>\n+          </svg>\n           <div class=\"atk-site-name\">{{ $t('logout') }}</div>\n         </div>\n       </div>\n@@ -135,7 +151,7 @@ function logout() {\n         margin: 10px;\n         border-radius: 3px;\n         text-align: center;\n-        color: #FFF;\n+        color: #fff;\n         font-size: 12px;\n       }\n \n@@ -145,14 +161,16 @@ function logout() {\n         margin-left: 7px;\n       }\n \n-      &.atk-active, &:hover {\n+      &.atk-active,\n+      &:hover {\n         background: var(--at-color-bg-grey);\n       }\n     }\n   }\n }\n \n-.v-enter-from, .v-leave-to {\n+.v-enter-from,\n+.v-leave-to {\n   opacity: 0;\n   transform: scale3d(1.05, 1.05, 1.05);\n }"
    },
    {
      "sha": "446498e30757d62e21da049d2f80cc9710495a7f",
      "filename": "ui/artalk-sidebar/src/components/Tab.vue",
      "status": "modified",
      "additions": 27,
      "deletions": 23,
      "changes": 50,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,7 +3,7 @@ import { useNavStore } from '../stores/nav'\n import { useUserStore } from '../stores/user'\n import { storeToRefs } from 'pinia'\n \n-type PageItem = { label: string, link: string, hide?: boolean }\n+type PageItem = { label: string; link: string; hide?: boolean }\n \n const router = useRouter()\n const route = useRoute()\n@@ -12,8 +12,8 @@ const { t } = useI18n()\n \n const { curtPage, curtTab, tabs, isSearchEnabled } = storeToRefs(nav)\n const { isAdmin } = storeToRefs(useUserStore())\n-const indicator = ref<'pages'|'tabs'>('tabs')\n-const tabListEl = ref<HTMLElement|null>(null)\n+const indicator = ref<'pages' | 'tabs'>('tabs')\n+const tabListEl = ref<HTMLElement | null>(null)\n \n const pages = computed((): { [name: string]: PageItem } => {\n   if (isAdmin.value) {\n@@ -42,22 +42,22 @@ const pages = computed((): { [name: string]: PageItem } => {\n       },\n       settings: {\n         label: 'settings',\n-        link: '/settings'\n-      }\n+        link: '/settings',\n+      },\n     }\n   } else {\n     return {\n       comments: {\n         label: 'comment',\n         link: '/comments',\n-      }\n+      },\n     }\n   }\n })\n \n const isSearchShow = ref(false)\n const searchValue = ref('')\n-const searchInputEl = ref<HTMLInputElement|null>(null)\n+const searchInputEl = ref<HTMLInputElement | null>(null)\n \n onMounted(() => {\n   tabListEl.value!.addEventListener('wheel', (evt) => {\n@@ -67,7 +67,7 @@ onMounted(() => {\n })\n \n function toggleIndicator() {\n-  indicator.value = (indicator.value !== 'tabs') ? 'tabs' : 'pages'\n+  indicator.value = indicator.value !== 'tabs' ? 'tabs' : 'pages'\n }\n \n function switchPage(pageName: string) {\n@@ -119,8 +119,10 @@ function onSearchSubmit(evt: Event) {\n <template>\n   <div class=\"tab\">\n     <div class=\"page\" @click=\"toggleIndicator()\">\n-      <div class=\"icon\" :class=\"(indicator === 'tabs') ? 'menu' : 'arrow'\"></div>\n-      <div class=\"text\" v-if=\"pages[curtPage]?.label\">{{ t(pages[curtPage].label) }}</div>\n+      <div class=\"icon\" :class=\"indicator === 'tabs' ? 'menu' : 'arrow'\"></div>\n+      <div class=\"text\" v-if=\"pages[curtPage]?.label\">\n+        {{ t(pages[curtPage].label) }}\n+      </div>\n     </div>\n \n     <div ref=\"tabListEl\" class=\"tab-list\">\n@@ -132,13 +134,11 @@ function onSearchSubmit(evt: Event) {\n           class=\"item\"\n           :class=\"{ active: curtTab === tabName }\"\n           @click=\"switchTab(tabName as string)\"\n-        >{{ t(tabLabel) }}</div>\n+        >\n+          {{ t(tabLabel) }}\n+        </div>\n \n-        <div\n-          v-if=\"isSearchEnabled\"\n-          class=\"item search-btn\"\n-          @click=\"showSearch()\"\n-        ></div>\n+        <div v-if=\"isSearchEnabled\" class=\"item search-btn\" @click=\"showSearch()\"></div>\n       </template>\n \n       <!-- pages -->\n@@ -150,19 +150,23 @@ function onSearchSubmit(evt: Event) {\n           v-show=\"!page.hide\"\n           :class=\"{ active: pageName === curtPage }\"\n           @click=\"switchPage(pageName as string)\"\n-        >{{ t(page.label) }}</div>\n+        >\n+          {{ t(page.label) }}\n+        </div>\n       </template>\n     </div>\n \n-    <form\n-      v-if=\"isSearchShow\"\n-      class=\"search-layer atk-fade-in\"\n-      @submit.prevent=\"onSearchSubmit\"\n-    >\n+    <form v-if=\"isSearchShow\" class=\"search-layer atk-fade-in\" @submit.prevent=\"onSearchSubmit\">\n       <div class=\"item back-btn\" @click=\"hideSearch()\">\n         <div class=\"icon arrow\"></div>\n       </div>\n-      <input ref=\"searchInputEl\" type=\"text\" :placeholder=\"t('searchHint')\" v-model=\"searchValue\" required>\n+      <input\n+        ref=\"searchInputEl\"\n+        type=\"text\"\n+        :placeholder=\"t('searchHint')\"\n+        v-model=\"searchValue\"\n+        required\n+      />\n       <button type=\"submit\" class=\"item search-btn\"></button>\n     </form>\n   </div>"
    },
    {
      "sha": "68451baa2d7904f43a1e7d6a91e40786822c8d9f",
      "filename": "ui/artalk-sidebar/src/components/UserEditor.vue",
      "status": "modified",
      "additions": 56,
      "deletions": 25,
      "changes": 81,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -68,26 +68,34 @@ function submit() {\n   }\n \n   if (isCreateMode.value) {\n-    artalk!.ctx.getApi().users.createUser({\n-      ...editUser.value!\n-    })\n+    artalk!.ctx\n+      .getApi()\n+      .users.createUser({\n+        ...editUser.value!,\n+      })\n       .then((res) => {\n         emit('update', res.data)\n-      }).catch((e: ArtalkType.FetchError) => {\n-        alert('用户创建错误：'+e.message)\n-      }).finally(() => {\n+      })\n+      .catch((e: ArtalkType.FetchError) => {\n+        alert('用户创建错误：' + e.message)\n+      })\n+      .finally(() => {\n         isLoading.value = false\n       })\n   } else {\n     const user = editUser.value!\n-    artalk!.ctx.getApi().users.updateUser(user.id, {\n-      ...editUser.value!\n-    })\n+    artalk!.ctx\n+      .getApi()\n+      .users.updateUser(user.id, {\n+        ...editUser.value!,\n+      })\n       .then((res) => {\n         emit('update', res.data)\n-      }).catch((e: ArtalkType.FetchError) => {\n-        alert('用户保存错误：'+e.message)\n-      }).finally(() => {\n+      })\n+      .catch((e: ArtalkType.FetchError) => {\n+        alert('用户保存错误：' + e.message)\n+      })\n+      .finally(() => {\n         isLoading.value = false\n       })\n   }\n@@ -97,38 +105,61 @@ function submit() {\n <template>\n   <div class=\"user-editor-layer\">\n     <div class=\"header\">\n-      <div class=\"title\">{{ isCreateMode ? t('userCreate') : t('userEdit') }}</div>\n+      <div class=\"title\">\n+        {{ isCreateMode ? t('userCreate') : t('userEdit') }}\n+      </div>\n       <div v-if=\"!isCreateMode\" class=\"close-btn\" @click=\"close()\">\n         <i class=\"atk-icon atk-icon-close\"></i>\n       </div>\n     </div>\n     <div v-if=\"!isCreateMode\" class=\"user-log\">\n-      <div><span>{{ t('comments') }}</span>{{(editUser as any).comment_count}}</div>\n-      <div><span>{{ t('last') }} IP</span>{{(editUser as any).last_ip || '-'}}</div>\n-      <div><span>{{ t('last') }} UA</span>\n-        <template v-if=\"showFullDetails || !(editUser as any).last_ua\">{{(editUser as any).last_ua || '-'}}</template>\n-        <template v-else><span @click=\"showFullDetails = true\" style=\"cursor: pointer;color: var(--at-color-main)\">{{ t('Show') }}</span></template>\n+      <div>\n+        <span>{{ t('comments') }}</span>\n+        {{ (editUser as any).comment_count }}\n+      </div>\n+      <div>\n+        <span>{{ t('last') }} IP</span>\n+        {{ (editUser as any).last_ip || '-' }}\n+      </div>\n+      <div>\n+        <span>{{ t('last') }} UA</span>\n+        <template v-if=\"showFullDetails || !(editUser as any).last_ua\">\n+          {{ (editUser as any).last_ua || '-' }}\n+        </template>\n+        <template v-else>\n+          <span\n+            @click=\"showFullDetails = true\"\n+            style=\"cursor: pointer; color: var(--at-color-main)\"\n+          >\n+            {{ t('Show') }}\n+          </span>\n+        </template>\n       </div>\n     </div>\n     <form v-if=\"editUser\" class=\"atk-form\" @submit.prevent=\"submit()\">\n       <div class=\"atk-label required\">{{ t('username') }}</div>\n-      <input v-model=\"editUser.name\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n-      <div class=\"atk-label required\">{{ t('email')  }}</div>\n-      <input v-model=\"editUser.email\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n+      <input v-model=\"editUser.name\" type=\"text\" placeholder=\"\" autocomplete=\"off\" />\n+      <div class=\"atk-label required\">{{ t('email') }}</div>\n+      <input v-model=\"editUser.email\" type=\"text\" placeholder=\"\" autocomplete=\"off\" />\n       <div class=\"atk-label\">{{ t('link') }}</div>\n-      <input v-model=\"editUser.link\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n+      <input v-model=\"editUser.link\" type=\"text\" placeholder=\"\" autocomplete=\"off\" />\n       <div class=\"atk-label\">{{ t('badgeText') }}</div>\n-      <input v-model=\"editUser.badge_name\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n+      <input v-model=\"editUser.badge_name\" type=\"text\" placeholder=\"\" autocomplete=\"off\" />\n       <div class=\"atk-label\">{{ t('badgeColor') }} (Color Hex)</div>\n-      <input v-model=\"editUser.badge_color\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n+      <input v-model=\"editUser.badge_color\" type=\"text\" placeholder=\"\" autocomplete=\"off\" />\n       <div class=\"atk-label required\">{{ t('role') }}</div>\n       <select v-model=\"editUser.is_admin\">\n         <option :value=\"false\">{{ t('normal') }}</option>\n         <option :value=\"true\">{{ t('admin') }}</option>\n       </select>\n       <template v-if=\"editUser.is_admin\">\n         <div class=\"atk-label required\">{{ t('password') }}</div>\n-        <input v-model=\"editUser.password\" type=\"text\" :placeholder=\"isCreateMode ? '' : `(${t('passwordEmptyHint')})`\" autocomplete=\"off\">\n+        <input\n+          v-model=\"editUser.password\"\n+          type=\"text\"\n+          :placeholder=\"isCreateMode ? '' : `(${t('passwordEmptyHint')})`\"\n+          autocomplete=\"off\"\n+        />\n       </template>\n       <div class=\"atk-label required\">{{ t('emailNotify') }}</div>\n       <select v-model=\"editUser.receive_email\">"
    },
    {
      "sha": "ef8a7e4b93118c042aa6605f54930d2cca03a995",
      "filename": "ui/artalk-sidebar/src/global.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fglobal.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fglobal.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fglobal.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,7 +1,7 @@\n import Artalk from 'artalk'\n import type { ArtalkType } from 'artalk'\n \n-export let artalk: Artalk|null = null\n+export let artalk: Artalk | null = null\n \n export function setArtalk(artalkInstance: Artalk) {\n   artalk = artalkInstance\n@@ -25,12 +25,12 @@ function getBootParams() {\n   }\n \n   return {\n-    pageKey:    p.get('pageKey') || '',\n-    site:       p.get('site') || '',\n-    user:       <ArtalkType.LocalUser>JSON.parse(p.get('user') || '{}'),\n-    view:       p.get('view') || '',\n+    pageKey: p.get('pageKey') || '',\n+    site: p.get('site') || '',\n+    user: <ArtalkType.LocalUser>JSON.parse(p.get('user') || '{}'),\n+    view: p.get('view') || '',\n     viewParams: <any>null,\n-    darkMode:   p.get('darkMode') === '1',\n+    darkMode: p.get('darkMode') === '1',\n   }\n }\n \n@@ -56,6 +56,6 @@ export function initArtalk() {\n         autoLoad: false,\n       }\n       conf.listUnreadHighlight = true\n-    }\n+    },\n   })\n }"
    },
    {
      "sha": "bd415879a03f3ba16569eade402299f8d0567252",
      "filename": "ui/artalk-sidebar/src/i18n/messages.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 2,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fi18n%2Fmessages.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fi18n%2Fmessages.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fi18n%2Fmessages.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -77,7 +77,7 @@ const en = {\n   loginFailure: 'Login failure',\n   login: 'Login',\n   logout: 'Logout',\n-  loginSelectHint: 'Please select the account you wish to log into:'\n+  loginSelectHint: 'Please select the account you wish to log into:',\n }\n \n const zhCN: typeof en = {\n@@ -245,5 +245,7 @@ const zhTW: typeof en = {\n }\n \n export default {\n-  en, 'zh-CN': zhCN, 'zh-TW': zhTW\n+  en,\n+  'zh-CN': zhCN,\n+  'zh-TW': zhTW,\n }"
    },
    {
      "sha": "bed7a5a09bf661e9b46c76ac7ba7e1fdf6754897",
      "filename": "ui/artalk-sidebar/src/lib/settings-option.ts",
      "status": "modified",
      "additions": 36,
      "deletions": 23,
      "changes": 59,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings-option.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings-option.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings-option.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,7 +7,7 @@ export interface OptionNode {\n   level: number\n   default?: string | number | boolean\n   selector?: string[]\n-  type: 'string'|'number'|'boolean'|'object'|'array'\n+  type: 'string' | 'number' | 'boolean' | 'object' | 'array'\n   title: string\n   subTitle?: string\n   items?: OptionNode[]\n@@ -28,9 +28,14 @@ export function getTree(yamlObj: YAML.Document.Parsed): OptionNode {\n     level: 0,\n     type: 'object',\n     items: [],\n-  };\n+  }\n \n-  const traverse = (pairs: Pair[], parentNode: OptionNode = tree, parentPath: string[] = [], parentPair?: Pair) => {\n+  const traverse = (\n+    pairs: Pair[],\n+    parentNode: OptionNode = tree,\n+    parentPath: string[] = [],\n+    parentPair?: Pair,\n+  ) => {\n     pairs.forEach((item, index) => {\n       // get key and value\n       const key = item.key?.value\n@@ -45,12 +50,14 @@ export function getTree(yamlObj: YAML.Document.Parsed): OptionNode {\n \n       // get type\n       const probablyTypes = ['string', 'number', 'boolean', 'object']\n-      const type = (Array.isArray(value) ? 'array' : probablyTypes.find(t => typeof value === t)) || undefined\n+      const type =\n+        (Array.isArray(value) ? 'array' : probablyTypes.find((t) => typeof value === t)) ||\n+        undefined\n \n       if (!type) return\n \n       // get default value\n-      const defaultValue = (type !== 'object') ? value : undefined\n+      const defaultValue = type !== 'object' ? value : undefined\n \n       // create new node\n       const node: OptionNode = {\n@@ -85,8 +92,10 @@ export function getTree(yamlObj: YAML.Document.Parsed): OptionNode {\n  * @param yamlObj\n  * @returns\n  */\n-export function getFlattenNodes(tree: OptionNode): {[path: string]: OptionNode} {\n-  const metas: {[path: string]: OptionNode} = {}\n+export function getFlattenNodes(tree: OptionNode): {\n+  [path: string]: OptionNode\n+} {\n+  const metas: { [path: string]: OptionNode } = {}\n \n   const traverse = (node: OptionNode) => {\n     metas[node.path] = node\n@@ -113,33 +122,36 @@ function extractComment(name: string, comment: string) {\n \n   let title = ''\n   let subTitle = ''\n-  let selector: string[]|undefined\n+  let selector: string[] | undefined\n \n   const stReg = /\\(.*?\\)/gm\n   title = comment.replace(stReg, '').trim()\n   const stFind = stReg.exec(comment)\n-  subTitle = stFind ? stFind[0].substring(1, stFind[0].length-1) : ''\n+  subTitle = stFind ? stFind[0].substring(1, stFind[0].length - 1) : ''\n   if (!title) {\n     title = snakeToCamel(name)\n   }\n \n   const optReg = /\\[.*?\\]/gm\n   const optFind = optReg.exec(title)\n   if (optFind) {\n-    try { selector = JSON.parse(optFind[0]) } catch (err) { console.error(err) }\n+    try {\n+      selector = JSON.parse(optFind[0])\n+    } catch (err) {\n+      console.error(err)\n+    }\n     title = title.replace(optReg, '').trim()\n   }\n \n   return {\n-    title, subTitle, selector\n+    title,\n+    subTitle,\n+    selector,\n   }\n }\n \n function snakeToCamel(str: string) {\n-  return str.toLowerCase()\n-    .replace(/([_][a-z]|^[a-z])/g, (group) =>\n-      group.slice(-1).toUpperCase()\n-    )\n+  return str.toLowerCase().replace(/([_][a-z]|^[a-z])/g, (group) => group.slice(-1).toUpperCase())\n }\n \n /**\n@@ -152,20 +164,21 @@ function snakeToCamel(str: string) {\n export function patchOptionValue(value: any, node: OptionNode) {\n   console.log(value, node)\n   switch (node.type) {\n-    case \"boolean\":\n-      if (value === \"true\") value = true\n-      else if (value === \"false\") value = false\n+    case 'boolean':\n+      if (value === 'true') value = true\n+      else if (value === 'false') value = false\n       break\n-    case \"string\":\n-      if (!node.selector) // ignore option item\n+    case 'string':\n+      if (!node.selector)\n+        // ignore option item\n         value = String(value).trim()\n       break\n-    case \"number\":\n+    case 'number':\n       if (!isNaN(Number(value))) value = Number(value)\n       break\n-    case \"array\":\n+    case 'array':\n       // trim string array\n-      if (Array.isArray(value)) value = value.map(v => typeof v === 'string' ? v.trim() : v)\n+      if (Array.isArray(value)) value = value.map((v) => (typeof v === 'string' ? v.trim() : v))\n       break\n   }\n "
    },
    {
      "sha": "1ec8c1b1c356536e851ed07f1d9f7ea4e8a92469",
      "filename": "ui/artalk-sidebar/src/lib/settings.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,7 +3,7 @@ import { getFlattenNodes, getTree, type OptionNode } from './settings-option'\n \n export class Settings {\n   private tree: OptionNode\n-  private flatten: {[path: string]: OptionNode}\n+  private flatten: { [path: string]: OptionNode }\n   private customs = shallowRef<YAML.Document.Parsed<YAML.ParsedNode>>()\n \n   constructor(yamlObj: YAML.Document.Parsed) {\n@@ -41,7 +41,7 @@ export class Settings {\n \n   // @see https://github.com/eemeli/yaml/issues/174#issuecomment-632281283\n   private makeSureObject(pathArr: string[]) {\n-    for (let i = pathArr.length-1; i >= 1; i--) {\n+    for (let i = pathArr.length - 1; i >= 1; i--) {\n       const parentPath = pathArr.slice(0, -i)\n \n       const parentNode = this.customs.value?.getIn(parentPath)\n@@ -60,6 +60,6 @@ export * from './settings-option'\n let instance: Settings\n \n export default {\n-  init: (yamlObj: YAML.Document.Parsed) => instance = new Settings(yamlObj),\n-  get: () => instance\n+  init: (yamlObj: YAML.Document.Parsed) => (instance = new Settings(yamlObj)),\n+  get: () => instance,\n }"
    },
    {
      "sha": "8c7c64927e884626e63170c02d653e832891cd32",
      "filename": "ui/artalk-sidebar/src/main.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fmain.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fmain.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fmain.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -12,9 +12,9 @@ import Artalk from 'artalk'\n // i18n\n const i18n = createI18n({\n   legacy: false, // use i18n in Composition API\n-  locale:  'en',\n+  locale: 'en',\n   fallbackLocale: 'en',\n-  messages\n+  messages,\n })\n \n // Artalk extension"
    },
    {
      "sha": "a085e97ca4f370b4624d7e898531bef2449234e4",
      "filename": "ui/artalk-sidebar/src/pages/comments.vue",
      "status": "modified",
      "additions": 29,
      "deletions": 20,
      "changes": 49,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -18,23 +18,29 @@ const search = ref('')\n onMounted(() => {\n   // 初始化导航条\n   if (user.isAdmin) {\n-    nav.updateTabs({\n-      all: 'all',\n-      pending: 'pending',\n-      personal_all: 'personal',\n-    }, 'all')\n+    nav.updateTabs(\n+      {\n+        all: 'all',\n+        pending: 'pending',\n+        personal_all: 'personal',\n+      },\n+      'all',\n+    )\n   } else {\n-    nav.updateTabs({\n-      all: 'all',\n-      mentions: 'mentions',\n-      mine: 'mine',\n-      pending: 'pending',\n-    }, 'all')\n+    nav.updateTabs(\n+      {\n+        all: 'all',\n+        mentions: 'mentions',\n+        mine: 'mine',\n+        pending: 'pending',\n+      },\n+      'all',\n+    )\n   }\n \n   watch(curtTab, (curtTab) => {\n     artalk!.ctx.fetch({\n-      offset: 0\n+      offset: 0,\n     })\n   })\n \n@@ -79,14 +85,17 @@ onMounted(() => {\n   listEl.value?.append($el)\n \n   // 搜索功能\n-  nav.enableSearch((value: string) => {\n-    search.value = value\n-    artalk!.reload()\n-  }, () => {\n-    if (search.value === '') return\n-    search.value = ''\n-    artalk!.reload()\n-  })\n+  nav.enableSearch(\n+    (value: string) => {\n+      search.value = value\n+      artalk!.reload()\n+    },\n+    () => {\n+      if (search.value === '') return\n+      search.value = ''\n+      artalk!.reload()\n+    },\n+  )\n })\n </script>\n "
    },
    {
      "sha": "d771a72c5a7e0ae36ab92eb1f6b98dcaf75f00b4",
      "filename": "ui/artalk-sidebar/src/pages/index.vue",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Findex.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Findex.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Findex.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -18,11 +18,11 @@ onMounted(() => {\n     if (splitted[1]) bootParams.viewParams = JSON.parse(splitted[1])\n   }\n \n-  const LinkMap: {[key:string]:string} = {\n+  const LinkMap: { [key: string]: string } = {\n     comments: '/comments',\n     pages: '/pages',\n     sites: '/sites',\n-    settings: '/settings'\n+    settings: '/settings',\n   }\n   router.replace(LinkMap[bootParams.view] || '/comments')\n })"
    },
    {
      "sha": "c1752ebfca71da4b858d70860894ef60ec7d7e87",
      "filename": "ui/artalk-sidebar/src/pages/login.vue",
      "status": "modified",
      "additions": 56,
      "deletions": 35,
      "changes": 91,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -15,19 +15,22 @@ const router = useRouter()\n const { t } = useI18n()\n \n let userForm = ref({\n-  email:    '',\n-  password: ''\n+  email: '',\n+  password: '',\n })\n let version = ref('')\n let buildHash = ref('')\n let loginErr = ref('')\n-let userSelector = ref<string[]|null>(null)\n+let userSelector = ref<string[] | null>(null)\n \n onMounted(() => {\n-  getArtalk()!.ctx.getApi().version.getVersion().then((res) => {\n-    version.value = res.data.version\n-    buildHash.value = res.data.commit_hash\n-  })\n+  getArtalk()!\n+    .ctx.getApi()\n+    .version.getVersion()\n+    .then((res) => {\n+      version.value = res.data.version\n+      buildHash.value = res.data.commit_hash\n+    })\n })\n \n function onFocus() {\n@@ -40,28 +43,37 @@ function login(username?: string) {\n   const artalk = getArtalk()\n   if (!artalk) throw new Error('Artalk instance not initialized')\n \n-  artalk.ctx.getApi().user.login({\n-    name: username || '',\n-    email: userForm.value.email,\n-    password: userForm.value.password\n-  }).then((res) => {\n-    const user = res.data.user\n-    artalk.ctx.get('user').update({\n-      nick: user.name,\n-      email: user.email,\n-      link: user.link,\n-      isAdmin: user.is_admin,\n-      token: res.data.token,\n+  artalk.ctx\n+    .getApi()\n+    .user.login({\n+      name: username || '',\n+      email: userForm.value.email,\n+      password: userForm.value.password,\n     })\n-    useUserStore().sync()\n-    router.replace('/')\n-  }).catch((e: ArtalkType.FetchError) => {\n-    if (e.data?.need_name_select) {\n-      userSelector.value = e.data?.need_name_select\n-    } else {\n-      loginErr.value = e.message || t('loginFailure')\n-    }\n-  })\n+    .then((res) => {\n+      const user = res.data.user\n+      artalk.ctx.get('user').update({\n+        nick: user.name,\n+        email: user.email,\n+        link: user.link,\n+        isAdmin: user.is_admin,\n+        token: res.data.token,\n+      })\n+      useUserStore().sync()\n+      router.replace('/')\n+    })\n+    .catch((e: ArtalkType.FetchError) => {\n+      if (e.data?.need_name_select) {\n+        userSelector.value = e.data?.need_name_select\n+      } else {\n+        loginErr.value = e.message || t('loginFailure')\n+      }\n+    })\n+}\n+\n+function selectUser(username: string) {\n+  userSelector.value = null\n+  login(username)\n }\n </script>\n \n@@ -71,20 +83,29 @@ function login(username?: string) {\n       <img class=\"logo\" src=\"../assets/favicon.png\" alt=\"logo\" draggable=\"false\" />\n     </a>\n     <form class=\"login-form\" @submit.prevent=\"login()\">\n-      <input type=\"text\" :placeholder=\"t('email')\" v-model=\"userForm.email\" @focus=\"onFocus\">\n-      <input type=\"password\" :placeholder=\"t('password')\" v-model=\"userForm.password\" @focus=\"onFocus\">\n-      <div v-if=\"!!loginErr\" class=\"err-msg atk-fade-in\">{{loginErr}}</div>\n+      <input type=\"text\" :placeholder=\"t('email')\" v-model=\"userForm.email\" @focus=\"onFocus\" />\n+      <input\n+        type=\"password\"\n+        :placeholder=\"t('password')\"\n+        v-model=\"userForm.password\"\n+        @focus=\"onFocus\"\n+      />\n+      <div v-if=\"!!loginErr\" class=\"err-msg atk-fade-in\">{{ loginErr }}</div>\n       <button type=\"submit\">{{ t('login') }}</button>\n     </form>\n     <div class=\"copyright\">\n-      Powered by <a href=\"https://artalk.js.org\" target=\"_blank\">Artalk</a> (v{{version}} / {{buildHash}})\n+      Powered by\n+      <a href=\"https://artalk.js.org\" target=\"_blank\">Artalk</a>\n+      (v{{ version }} / {{ buildHash }})\n     </div>\n \n     <div v-if=\"userSelector\" class=\"layer\">\n       <div class=\"user-selector atk-fade-in\">\n         <div class=\"text\">{{ t('loginSelectHint') }}</div>\n         <div class=\"user-list\">\n-          <div v-for=\"(u, i) in userSelector\" :key=\"i\" class=\"item\" @click=\"userSelector = null; login(u)\">{{u}}</div>\n+          <div v-for=\"(u, i) in userSelector\" :key=\"i\" class=\"item\" @click=\"selectUser(u)\">\n+            {{ u }}\n+          </div>\n         </div>\n       </div>\n     </div>\n@@ -156,7 +177,7 @@ function login(username?: string) {\n     display: block;\n \n     &:hover {\n-      opacity: .95;\n+      opacity: 0.95;\n     }\n   }\n \n@@ -211,7 +232,7 @@ function login(username?: string) {\n     & > .item {\n       cursor: pointer;\n       padding: 10px 20px;\n-      transition: border .3s ease;\n+      transition: border 0.3s ease;\n       border-left: 2px solid transparent;\n \n       &:hover {"
    },
    {
      "sha": "61a4cf5934bbdb76f6bffcf1904db53012876713",
      "filename": "ui/artalk-sidebar/src/pages/pages.vue",
      "status": "modified",
      "additions": 42,
      "deletions": 25,
      "changes": 67,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fpages.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fpages.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fpages.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,7 +9,7 @@ import Pagination from '../components/Pagination.vue'\n const nav = useNavStore()\n const { site: curtSite } = storeToRefs(useUserStore())\n const pages = ref<ArtalkType.PageData[]>([])\n-const curtEditPageID = ref<number|null>(null)\n+const curtEditPageID = ref<number | null>(null)\n const { t } = useI18n()\n \n const pageSize = ref(20)\n@@ -22,9 +22,7 @@ const refreshBtn = ref({\n })\n \n onMounted(() => {\n-  nav.updateTabs({\n-\n-  }, '')\n+  nav.updateTabs({}, '')\n \n   reqPages(0)\n \n@@ -34,7 +32,7 @@ onMounted(() => {\n   })\n \n   // Refresh task status recovery\n-  getRefreshTaskStatus().then(d => {\n+  getRefreshTaskStatus().then((d) => {\n     if (d.is_progress === true) {\n       refreshBtn.value.isRun = true\n       refreshBtn.value.statusText = d.msg\n@@ -50,7 +48,7 @@ onUnmounted(() => {\n })\n \n function scrollHandler() {\n-  showActBarBorder.value = (nav.scrollableArea!.scrollTop > 10)\n+  showActBarBorder.value = nav.scrollableArea!.scrollTop > 10\n }\n \n function editPage(page: ArtalkType.PageData) {\n@@ -59,16 +57,19 @@ function editPage(page: ArtalkType.PageData) {\n \n function reqPages(offset: number) {\n   nav.setPageLoading(true)\n-  artalk?.ctx.getApi().pages.getPages({\n-    site_name: curtSite.value,\n-    offset: offset,\n-    limit: pageSize.value,\n-  })\n-    .then(res => {\n+  artalk?.ctx\n+    .getApi()\n+    .pages.getPages({\n+      site_name: curtSite.value,\n+      offset: offset,\n+      limit: pageSize.value,\n+    })\n+    .then((res) => {\n       pageTotal.value = res.data.count\n       pages.value = res.data.pages\n       nav.scrollPageToTop()\n-    }).finally(() => {\n+    })\n+    .finally(() => {\n       nav.setPageLoading(false)\n     })\n }\n@@ -78,17 +79,17 @@ function onChangePage(offset: number) {\n }\n \n function onPageItemUpdate(page: ArtalkType.PageData) {\n-  const index = pages.value.findIndex(p => p.id === page.id)\n+  const index = pages.value.findIndex((p) => p.id === page.id)\n   if (index != -1) {\n     const orgPage = pages.value[index]\n-    Object.keys(page).forEach(key => {\n+    Object.keys(page).forEach((key) => {\n       ;(orgPage as any)[key] = (page as any)[key]\n     })\n   }\n }\n \n function onPageItemRemove(id: number) {\n-  const index = pages.value.findIndex(p => p.id === id)\n+  const index = pages.value.findIndex((p) => p.id === id)\n   pages.value.splice(index, 1)\n }\n \n@@ -138,11 +139,19 @@ async function refreshAllPages() {\n }\n \n function cacheFlush() {\n-  artalk!.ctx.getApi().cache.flushCache().then((res) => alert(res.data.msg)).catch(() => alert(t('opFailed')))\n+  artalk!.ctx\n+    .getApi()\n+    .cache.flushCache()\n+    .then((res) => alert(res.data.msg))\n+    .catch(() => alert(t('opFailed')))\n }\n \n function cacheWarm() {\n-  artalk!.ctx.getApi().cache.warmUpCache().then((res) => alert(res.data.msg)).catch(() => alert(t('opFailed')))\n+  artalk!.ctx\n+    .getApi()\n+    .cache.warmUpCache()\n+    .then((res) => alert(res.data.msg))\n+    .catch(() => alert(t('opFailed')))\n }\n \n function openPage(url: string) {\n@@ -152,18 +161,26 @@ function openPage(url: string) {\n \n <template>\n   <div class=\"atk-page-list-wrap\">\n-    <div class=\"atk-header-action-bar\" :class=\"{ 'bordered': showActBarBorder }\">\n+    <div class=\"atk-header-action-bar\" :class=\"{ bordered: showActBarBorder }\">\n       <span class=\"atk-update-all-title-btn\" @click=\"refreshAllPages()\">\n-        <i class=\"atk-icon atk-icon-sync\" :class=\"{'atk-rotate': refreshBtn.isRun}\"></i>\n-        <span class=\"atk-text\">{{ refreshBtn.isRun ? refreshBtn.statusText : t('updateTitle') }}</span>\n+        <i class=\"atk-icon atk-icon-sync\" :class=\"{ 'atk-rotate': refreshBtn.isRun }\"></i>\n+        <span class=\"atk-text\">\n+          {{ refreshBtn.isRun ? refreshBtn.statusText : t('updateTitle') }}\n+        </span>\n+      </span>\n+      <span class=\"atk-cache-flush-all-btn\" @click=\"cacheFlush()\">\n+        <span class=\"atk-text\">{{ t('cacheClear') }}</span>\n+      </span>\n+      <span class=\"atk-cache-warm-up-btn\" @click=\"cacheWarm()\">\n+        <span class=\"atk-text\">{{ t('cacheWarm') }}</span>\n       </span>\n-      <span class=\"atk-cache-flush-all-btn\" @click=\"cacheFlush()\"><span class=\"atk-text\">{{ t('cacheClear') }}</span></span>\n-      <span class=\"atk-cache-warm-up-btn\" @click=\"cacheWarm()\"><span class=\"atk-text\">{{ t('cacheWarm')  }}</span></span>\n     </div>\n     <div class=\"atk-page-list\">\n       <div v-for=\"page in pages\" :key=\"page.id\" class=\"atk-page-item\">\n         <div class=\"atk-page-main\">\n-          <div class=\"atk-title\" @click=\"openPage(page.url)\">{{ page.title }}</div>\n+          <div class=\"atk-title\" @click=\"openPage(page.url)\">\n+            {{ page.title }}\n+          </div>\n           <div class=\"atk-sub\" @click=\"openPage(page.url)\">{{ page.url }}</div>\n         </div>\n         <div class=\"atk-page-actions\">\n@@ -202,7 +219,7 @@ function openPage(url: string) {\n     background: var(--at-color-bg);\n     z-index: 10;\n     border-bottom: 1px solid transparent;\n-    transition: .3s ease-out padding;\n+    transition: 0.3s ease-out padding;\n \n     &.bordered {\n       padding-bottom: 10px;"
    },
    {
      "sha": "02ad7c50c131d4ae063af9066c296ca5f61ead1b",
      "filename": "ui/artalk-sidebar/src/pages/settings.vue",
      "status": "modified",
      "additions": 25,
      "deletions": 16,
      "changes": 41,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -16,8 +16,8 @@ const tree = shallowRef<OptionNode>()\n \n onMounted(() => {\n   nav.updateTabs({\n-    'sites': 'site',\n-    'transfer': 'transfer',\n+    sites: 'site',\n+    transfer: 'transfer',\n   })\n \n   watch(curtTab, (tab) => {\n@@ -41,7 +41,7 @@ function save() {\n   try {\n     yamlStr = settings.get().getCustoms().value?.toString() || ''\n   } catch (err) {\n-    alert('YAML export error: '+err)\n+    alert('YAML export error: ' + err)\n     console.error(err)\n     return\n   }\n@@ -54,24 +54,32 @@ function save() {\n \n   if (isLoading.value) return\n   isLoading.value = true\n-  artalk!.ctx.getApi().settings.applySettings({\n-    yaml: yamlStr\n-  }).then(() => {\n-    alert(t('settingSaved'))\n-  }).catch((err) => {\n-    console.error(err)\n-    alert(t('settingSaveFailed')+': '+err)\n-  }).finally(() => {\n-    isLoading.value = false\n-  })\n+  artalk!.ctx\n+    .getApi()\n+    .settings.applySettings({\n+      yaml: yamlStr,\n+    })\n+    .then(() => {\n+      alert(t('settingSaved'))\n+    })\n+    .catch((err) => {\n+      console.error(err)\n+      alert(t('settingSaveFailed') + ': ' + err)\n+    })\n+    .finally(() => {\n+      isLoading.value = false\n+    })\n }\n </script>\n \n <template>\n   <div class=\"settings\">\n     <div class=\"act-bar\">\n       <div class=\"status-text\"></div>\n-      <button class=\"save-btn\" @click=\"save()\"><i class=\"atk-icon atk-icon-yes\" /> {{ t('apply') }}</button>\n+      <button class=\"save-btn\" @click=\"save()\">\n+        <i class=\"atk-icon atk-icon-yes\" />\n+        {{ t('apply') }}\n+      </button>\n       <LoadingLayer v-if=\"isLoading\" />\n     </div>\n     <div v-if=\"tree\" class=\"pfs\">\n@@ -127,7 +135,7 @@ function save() {\n       border: 0;\n \n       &:active {\n-        opacity: .9;\n+        opacity: 0.9;\n       }\n \n       i {\n@@ -144,7 +152,8 @@ function save() {\n     padding: 10px 30px;\n   }\n \n-  :deep(input[type=\"text\"]), :deep(select) {\n+  :deep(input[type='text']),\n+  :deep(select) {\n     font-size: 17px;\n     width: 100%;\n     height: 35px;"
    },
    {
      "sha": "379bdb7ca9e1d708fedbe33b1b9839916be7bfc0",
      "filename": "ui/artalk-sidebar/src/pages/sites.vue",
      "status": "modified",
      "additions": 22,
      "deletions": 16,
      "changes": 38,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,22 +5,24 @@ import type { ArtalkType } from 'artalk'\n \n const nav = useNavStore()\n const sites = ref<ArtalkType.SiteData[]>([])\n-const curtEditSite = ref<ArtalkType.SiteData|null>(null)\n+const curtEditSite = ref<ArtalkType.SiteData | null>(null)\n const showSiteCreate = ref(false)\n const siteCreateInitVal = ref()\n const { t } = useI18n()\n \n onMounted(() => {\n-  nav.updateTabs({\n-\n-  }, 'sites')\n+  nav.updateTabs({}, 'sites')\n \n   nav.setPageLoading(true)\n-  artalk?.ctx.getApi().sites.getSites().then(res => {\n-    sites.value = res.data.sites\n-  }).finally(() => {\n-    nav.setPageLoading(false)\n-  })\n+  artalk?.ctx\n+    .getApi()\n+    .sites.getSites()\n+    .then((res) => {\n+      sites.value = res.data.sites\n+    })\n+    .finally(() => {\n+      nav.setPageLoading(false)\n+    })\n \n   // 通过启动参数打开站点创建\n   const vp = bootParams.viewParams\n@@ -46,7 +48,8 @@ const sitesGrouped = computed(() => {\n   let j = -1\n   for (let i = 0; i < sites.value.length; i++) {\n     const item = sites.value[i]\n-    if (i % 4 === 0) { // 每 4 个一组\n+    if (i % 4 === 0) {\n+      // 每 4 个一组\n       grp.push([])\n       j++\n     }\n@@ -67,18 +70,18 @@ function onNewSiteCreated(siteNew: ArtalkType.SiteData) {\n }\n \n function onSiteItemUpdate(site: ArtalkType.SiteData) {\n-  const index = sites.value.findIndex(s => s.id === site.id)\n+  const index = sites.value.findIndex((s) => s.id === site.id)\n   if (index != -1) {\n     const orgSite = sites.value[index]\n-    Object.keys(site).forEach(key => {\n+    Object.keys(site).forEach((key) => {\n       ;(orgSite as any)[key] = (site as any)[key]\n     })\n   }\n   nav.refreshSites()\n }\n \n function onSiteItemRemove(id: number) {\n-  const index = sites.value.findIndex(p => p.id === id)\n+  const index = sites.value.findIndex((p) => p.id === id)\n   sites.value.splice(index, 1)\n   nav.refreshSites()\n }\n@@ -89,7 +92,9 @@ function onSiteItemRemove(id: number) {\n     <div class=\"atk-header\">\n       <div class=\"atk-title\">{{ t('siteCount', { count: sites.length }) }}</div>\n       <div class=\"atk-actions\">\n-        <div class=\"atk-item atk-site-add-btn\" @click=\"create()\"><i class=\"atk-icon atk-icon-plus\"></i></div>\n+        <div class=\"atk-item atk-site-add-btn\" @click=\"create()\">\n+          <i class=\"atk-icon atk-icon-plus\"></i>\n+        </div>\n       </div>\n     </div>\n     <SiteCreate\n@@ -219,7 +224,8 @@ function onSiteItemRemove(id: number) {\n     }\n   }\n \n-  :deep(.atk-site-edit), :deep(.atk-site-add) {\n+  :deep(.atk-site-edit),\n+  :deep(.atk-site-add) {\n     position: relative;\n     min-height: 120px;\n     width: 100%;\n@@ -248,7 +254,7 @@ function onSiteItemRemove(id: number) {\n             width: 100%;\n             height: 6px;\n             background: var(--at-color-main);\n-            opacity: .4;\n+            opacity: 0.4;\n             left: 0;\n             bottom: 6px;\n           }"
    },
    {
      "sha": "eb77fdf63f9325c78e41099cf35baf568ef4e777",
      "filename": "ui/artalk-sidebar/src/pages/transfer.vue",
      "status": "modified",
      "additions": 29,
      "deletions": 14,
      "changes": 43,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Ftransfer.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Ftransfer.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Ftransfer.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,7 +2,7 @@\n import { useNavStore } from '../stores/nav'\n import { useUserStore } from '../stores/user'\n import { artalk } from '../global'\n-import { storeToRefs } from 'pinia';\n+import { storeToRefs } from 'pinia'\n \n const nav = useNavStore()\n const user = useUserStore()\n@@ -12,7 +12,7 @@ const { t } = useI18n()\n const importParams = ref({\n   siteName: '',\n   siteURL: '',\n-  payload: ''\n+  payload: '',\n })\n \n const isLoading = ref(false)\n@@ -28,10 +28,13 @@ const importTaskParams = ref<Record<string, string>>({})\n const exportTaskStarted = ref(false)\n \n onMounted(() => {\n-  nav.updateTabs({\n-    'import': 'import',\n-    'export': 'export',\n-  }, 'import')\n+  nav.updateTabs(\n+    {\n+      import: 'import',\n+      export: 'export',\n+    },\n+    'import',\n+  )\n   watch(curtTab, (tab) => {\n     if (tab === 'export') {\n       startExportTask()\n@@ -113,7 +116,7 @@ async function startExportTask() {\n \n function downloadFile(filename: string, text: string) {\n   const el = document.createElement('a')\n-  el.setAttribute('href', `data:text/json;charset=utf-8,${encodeURIComponent(text)}`);\n+  el.setAttribute('href', `data:text/json;charset=utf-8,${encodeURIComponent(text)}`)\n   el.setAttribute('download', filename)\n   el.style.display = 'none'\n   document.body.appendChild(el)\n@@ -142,12 +145,22 @@ function padWithZeros(vNumber: number, width: number) {\n   return numAsString\n }\n \n-const artransferToolHint = computed(() => t('artransferToolHint', { link: '__LINK__' }).replace('__LINK__', `<a href=\"https://artalk.js.org/guide/transfer.html\" target=\"_blank\">${t('artransfer')}</a>`))\n+const artransferToolHint = computed(() =>\n+  t('artransferToolHint', { link: '__LINK__' }).replace(\n+    '__LINK__',\n+    `<a href=\"https://artalk.js.org/guide/transfer.html\" target=\"_blank\">${t('artransfer')}</a>`,\n+  ),\n+)\n </script>\n \n <template>\n   <LoadingLayer v-if=\"isLoading\" />\n-  <LogTerminal v-if=\"importTaskStarted\" :api-url=\"importTaskApiURL\" :req-params=\"importTaskParams\" @back=\"importTaskDone()\" />\n+  <LogTerminal\n+    v-if=\"importTaskStarted\"\n+    :api-url=\"importTaskApiURL\"\n+    :req-params=\"importTaskParams\"\n+    @back=\"importTaskDone()\"\n+  />\n   <div v-show=\"!importTaskStarted\" class=\"atk-form\">\n     <div class=\"atk-label atk-data-file-label\">Artrans {{ t('dataFile') }}</div>\n     <FileUploader :api-url=\"uploadApiURL\" @done=\"fileUploaded\">\n@@ -177,12 +190,14 @@ const artransferToolHint = computed(() => t('artransferToolHint', { link: '__LIN\n     <div class=\"atk-label\">{{ t('payload') }} ({{ t('optional') }})</div>\n     <textarea name=\"AtkPayload\" v-model=\"importParams.payload\"></textarea>\n     <span class=\"atk-desc\">\n-      <a href=\"https://artalk.js.org/guide/transfer.html\" target=\"_blank\">{{ t('moreDetails') }}</a>\n+      <a href=\"https://artalk.js.org/guide/transfer.html\" target=\"_blank\">\n+        {{ t('moreDetails') }}\n+      </a>\n     </span>\n-    <button class=\"atk-btn\" name=\"AtkSubmit\" @click=\"startImportTask()\">{{ t('import') }}</button>\n+    <button class=\"atk-btn\" name=\"AtkSubmit\" @click=\"startImportTask()\">\n+      {{ t('import') }}\n+    </button>\n   </div>\n </template>\n \n-<style scoped lang=\"scss\">\n-\n-</style>\n+<style scoped lang=\"scss\"></style>"
    },
    {
      "sha": "754acf7e9268485a66bf7cade0efb909e7f1e4f6",
      "filename": "ui/artalk-sidebar/src/pages/users.vue",
      "status": "modified",
      "additions": 46,
      "deletions": 24,
      "changes": 70,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fusers.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fusers.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fusers.vue?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,14 +17,17 @@ const pagination = ref<InstanceType<typeof Pagination>>()\n const curtType = ref('all')\n \n const addingUser = ref(false)\n-const editingUser = ref<ArtalkType.UserDataForAdmin|undefined>()\n+const editingUser = ref<ArtalkType.UserDataForAdmin | undefined>()\n \n onMounted(() => {\n-  nav.updateTabs({\n-    'all': 'all',\n-    'admin': 'admin',\n-    'create': 'create'\n-  }, 'all')\n+  nav.updateTabs(\n+    {\n+      all: 'all',\n+      admin: 'admin',\n+      create: 'create',\n+    },\n+    'all',\n+  )\n \n   watch(curtTab, (tab) => {\n     if (tab === 'create') {\n@@ -51,15 +54,18 @@ onMounted(() => {\n \n function reqUsers(offset: number) {\n   nav.setPageLoading(true)\n-  artalk?.ctx.getApi().users.getUsers(curtType.value as any, {\n-    offset,\n-    limit: pageSize.value\n-  })\n-    .then(res => {\n+  artalk?.ctx\n+    .getApi()\n+    .users.getUsers(curtType.value as any, {\n+      offset,\n+      limit: pageSize.value,\n+    })\n+    .then((res) => {\n       pageTotal.value = res.data.count\n       users.value = res.data.users\n       nav.scrollPageToTop()\n-    }).finally(() => {\n+    })\n+    .finally(() => {\n       nav.setPageLoading(false)\n     })\n }\n@@ -79,11 +85,11 @@ function editUser(user: ArtalkType.UserDataForAdmin) {\n }\n \n function updateUser(user: ArtalkType.UserDataForAdmin) {\n-  const index = users.value.findIndex(u => u.id === user.id)\n+  const index = users.value.findIndex((u) => u.id === user.id)\n   if (index != -1) {\n     // 修改用户\n     const orgUser = users.value[index]\n-    Object.keys(users).forEach(key => {\n+    Object.keys(users).forEach((key) => {\n       ;(orgUser as any)[key] = (users as any)[key]\n     })\n   } else {\n@@ -101,18 +107,24 @@ function closeEditUser() {\n }\n \n function delUser(user: ArtalkType.UserDataForAdmin) {\n-  if (window.confirm(`该操作将删除 用户：\"${user.name}\" 邮箱：\"${user.email}\" 所有评论，包括其评论下面他人的回复评论，是否继续？`)) {\n-    artalk!.ctx.getApi().users.deleteUser(user.id)\n+  if (\n+    window.confirm(\n+      `该操作将删除 用户：\"${user.name}\" 邮箱：\"${user.email}\" 所有评论，包括其评论下面他人的回复评论，是否继续？`,\n+    )\n+  ) {\n+    artalk!.ctx\n+      .getApi()\n+      .users.deleteUser(user.id)\n       .then(() => {\n-        const index = users.value.findIndex(u => u.id === user.id)\n+        const index = users.value.findIndex((u) => u.id === user.id)\n         users.value.splice(index, 1)\n \n         if (user.is_in_conf) {\n           alert('用户已从数据库删除，请手动编辑配置文件并删除用户')\n         }\n       })\n       .catch((e: ArtalkType.FetchError) => {\n-        alert('删除失败：'+e.message)\n+        alert('删除失败：' + e.message)\n       })\n   }\n }\n@@ -121,21 +133,31 @@ function delUser(user: ArtalkType.UserDataForAdmin) {\n <template>\n   <div class=\"user-list-wrap\">\n     <div class=\"user-list\">\n-      <div v-for=\"(user) in users\" :key=\"user.id\" class=\"user-item\">\n+      <div v-for=\"user in users\" :key=\"user.id\" class=\"user-item\">\n         <div class=\"user-main\">\n           <div class=\"title\">\n             {{ user.name }}\n             <span class=\"badge-grp\">\n-              <span v-if=\"user.badge_name\" class=\"badge\" :style=\"{ backgroundColor: user.badge_color }\">{{user.badge_name}}</span>\n-              <span v-else-if=\"user.is_admin\" class=\"badge admin\" :title=\"t('userAdminHint')\">{{ t('Admin') }}</span>\n-              <span v-if=\"user.is_in_conf\" class=\"badge in-conf\" :title=\"t('userInConfHint')\">{{ t('Config') }}</span>\n+              <span\n+                v-if=\"user.badge_name\"\n+                class=\"badge\"\n+                :style=\"{ backgroundColor: user.badge_color }\"\n+              >\n+                {{ user.badge_name }}\n+              </span>\n+              <span v-else-if=\"user.is_admin\" class=\"badge admin\" :title=\"t('userAdminHint')\">\n+                {{ t('Admin') }}\n+              </span>\n+              <span v-if=\"user.is_in_conf\" class=\"badge in-conf\" :title=\"t('userInConfHint')\">\n+                {{ t('Config') }}\n+              </span>\n             </span>\n           </div>\n           <div class=\"sub\">{{ user.email }}</div>\n         </div>\n         <div class=\"user-actions\">\n           <span @click=\"editUser(user)\">{{ t('edit') }}</span>\n-          <span>{{ t('comment') }} ({{user.comment_count}})</span>\n+          <span>{{ t('comment') }} ({{ user.comment_count }})</span>\n           <span @click=\"delUser(user)\">{{ t('delete') }}</span>\n         </div>\n       </div>\n@@ -191,7 +213,7 @@ function delUser(user: ArtalkType.UserDataForAdmin) {\n             color: #fff;\n \n             &.admin {\n-              background: #0083FF;\n+              background: #0083ff;\n             }\n \n             &.in-conf {"
    },
    {
      "sha": "5da2329bf3e93aa6d2550b17c0fdbaba2752b4ae",
      "filename": "ui/artalk-sidebar/src/stores/nav.ts",
      "status": "modified",
      "additions": 30,
      "deletions": 13,
      "changes": 43,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fnav.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fnav.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fnav.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,7 +2,7 @@ import { defineStore } from 'pinia'\n import { artalk } from '../global'\n import type { ArtalkType } from 'artalk'\n \n-type TabsObj = {[name: string]: string}\n+type TabsObj = { [name: string]: string }\n \n export const useNavStore = defineStore('nav', () => {\n   const curtTab = ref('')\n@@ -13,11 +13,11 @@ export const useNavStore = defineStore('nav', () => {\n   const siteSwitcherShow = ref(false)\n \n   const isSearchEnabled = ref(false)\n-  const searchEvent = ref<((val: string) => void)|null>(null)\n-  const searchResetEvent = ref<(() => void)|null>(null)\n+  const searchEvent = ref<((val: string) => void) | null>(null)\n+  const searchResetEvent = ref<(() => void) | null>(null)\n \n   const isPageLoading = ref(false)\n-  const scrollableArea = ref<HTMLElement|null>(null)\n+  const scrollableArea = ref<HTMLElement | null>(null)\n \n   const updateTabs = (aTabs: TabsObj, activeTab?: string) => {\n     tabs.value = aTabs\n@@ -53,23 +53,40 @@ export const useNavStore = defineStore('nav', () => {\n   }\n \n   const refreshSites = () => {\n-    artalk?.ctx.getApi().sites.getSites().then((res) => {\n-      sites.value = res.data.sites\n-    })\n+    artalk?.ctx\n+      .getApi()\n+      .sites.getSites()\n+      .then((res) => {\n+        sites.value = res.data.sites\n+      })\n   }\n \n-  const enableSearch = (searchEvt: ((val: string) => void), searchResetEvt: () => void) => {\n+  const enableSearch = (searchEvt: (val: string) => void, searchResetEvt: () => void) => {\n     isSearchEnabled.value = true\n     searchEvent.value = searchEvt\n     searchResetEvent.value = searchResetEvt\n   }\n \n   return {\n-    sites, curtPage, curtTab, tabs, siteSwitcherShow, scrollableArea, isPageLoading,\n-    updateTabs, setTabActive,\n-    showSiteSwitcher, hideSiteSwitcher, toggleSiteSwitcher,\n-    scrollPageToTop, scrollPageToEl, setPageLoading,\n+    sites,\n+    curtPage,\n+    curtTab,\n+    tabs,\n+    siteSwitcherShow,\n+    scrollableArea,\n+    isPageLoading,\n+    updateTabs,\n+    setTabActive,\n+    showSiteSwitcher,\n+    hideSiteSwitcher,\n+    toggleSiteSwitcher,\n+    scrollPageToTop,\n+    scrollPageToEl,\n+    setPageLoading,\n     refreshSites,\n-    isSearchEnabled, searchEvent, searchResetEvent, enableSearch,\n+    isSearchEnabled,\n+    searchEvent,\n+    searchResetEvent,\n+    enableSearch,\n   }\n })"
    },
    {
      "sha": "be228a05ad732b3c7356ab2bd9ebf39fccfb509b",
      "filename": "ui/artalk-sidebar/src/stores/user.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fuser.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fuser.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fuser.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -29,7 +29,6 @@ export const useUserStore = defineStore('user', {\n       this.email = userData.email\n       this.isAdmin = userData.isAdmin\n       this.token = userData.token\n-    }\n-  }\n+    },\n+  },\n })\n-"
    },
    {
      "sha": "56f4358cda301189871fa3d1721db0ce4862f6a1",
      "filename": "ui/artalk-sidebar/src/style.scss",
      "status": "modified",
      "additions": 13,
      "deletions": 8,
      "changes": 21,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstyle.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstyle.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fstyle.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,7 +6,8 @@ body {\n   margin: 0;\n }\n \n-.artalk, .atk-layer-wrap {\n+.artalk,\n+.atk-layer-wrap {\n   font-family: $font-family;\n }\n \n@@ -66,7 +67,8 @@ body {\n       }\n     }\n \n-    input, textarea {\n+    input,\n+    textarea {\n       display: block;\n       line-height: $form-height;\n       padding: 0 10px;\n@@ -82,7 +84,7 @@ body {\n         border-bottom-color: var(--at-color-bg-light);\n       }\n \n-      &[type=\"file\"] {\n+      &[type='file'] {\n         background: transparent;\n         border: 2px solid var(--at-color-border);\n         cursor: pointer;\n@@ -98,7 +100,7 @@ body {\n         }\n       }\n \n-      &[type=\"file\"]::-webkit-file-upload-button {\n+      &[type='file']::-webkit-file-upload-button {\n         background: transparent;\n         color: var(--at-color-font);\n         border: 0;\n@@ -110,7 +112,7 @@ body {\n         line-height: 25px;\n         margin-right: 15px;\n         cursor: pointer;\n-        transition: .2s ease;\n+        transition: 0.2s ease;\n         -webkit-appearance: none;\n         border-radius: 0;\n       }\n@@ -156,7 +158,9 @@ body {\n       user-select: none;\n     }\n \n-    input, select, button {\n+    input,\n+    select,\n+    button {\n       font-size: 15px;\n     }\n \n@@ -190,7 +194,7 @@ body {\n         font-size: 14px;\n \n         .atk-curt {\n-          color: var(--at-color-main)\n+          color: var(--at-color-main);\n         }\n \n         .atk-abort {\n@@ -218,7 +222,8 @@ body {\n       }\n     }\n \n-    .atk-log {}\n+    .atk-log {\n+    }\n \n     .atk-iframe {\n       width: 100%;"
    },
    {
      "sha": "22a37603312d8b780a10e46778b2b683d9e1ec8b",
      "filename": "ui/artalk-sidebar/src/style/_extends.scss",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_extends.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_extends.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_extends.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,15 +7,15 @@\n \n   &::-webkit-scrollbar-thumb,\n   &::-webkit-scrollbar-thumb:window-inactive {\n-    background: rgba(86,86,86,.3);\n+    background: rgba(86, 86, 86, 0.3);\n   }\n \n   &::-webkit-scrollbar-thumb:vertical:hover {\n-    background: rgba(65,74,82,.77);\n+    background: rgba(65, 74, 82, 0.77);\n   }\n \n   &::-webkit-scrollbar-thumb:vertical:active {\n-    background: rgba(41,47,53,.77);\n+    background: rgba(41, 47, 53, 0.77);\n   }\n }\n "
    },
    {
      "sha": "b6d7e62a48abdaede1cbff20f0a97f17e9012cbb",
      "filename": "ui/artalk-sidebar/src/style/_variables.scss",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_variables.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_variables.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_variables.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,4 +1,5 @@\n-$font-family: \"Helvetica Neue\", \"PingFangSC-Light\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif;\n+$font-family: 'Helvetica Neue', 'PingFangSC-Light', 'Hiragino Sans GB', 'Microsoft YaHei',\n+  'WenQuanYi Micro Hei', sans-serif;\n $font-size: 14px;\n $line-height: 1.6em;\n $block-radius: 6px;"
    },
    {
      "sha": "f93f24147411a7d5fabe0d6c583d83bdf5122477",
      "filename": "ui/artalk-sidebar/vite.config.ts",
      "status": "modified",
      "additions": 10,
      "deletions": 10,
      "changes": 20,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fvite.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk-sidebar%2Fvite.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fvite.config.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,8 +13,8 @@ export default defineConfig({\n   base: './',\n   build: {\n     target: 'es2015',\n-    outDir: resolve(__dirname, \"dist\"),\n-    minify: 'terser'\n+    outDir: resolve(__dirname, 'dist'),\n+    minify: 'terser',\n   },\n   plugins: [\n     VueRouter({ importMode: 'sync' }),\n@@ -25,32 +25,32 @@ export default defineConfig({\n     }),\n     (() => ({\n       name: 'prod-vue-resolver',\n-      resolveId (id) {\n+      resolveId(id) {\n         // @issue https://github.com/vitejs/vite/issues/6607\n         // dev mode vite resolves vue in other way\n         // only in prod mode, `id === vue` is true\n-        if(id === 'vue') {\n+        if (id === 'vue') {\n           return resolve(__dirname, './node_modules/vue/dist/vue.runtime.esm-bundler.js')\n         }\n-      }\n+      },\n     }))(),\n   ],\n   resolve: {\n     alias: {\n-      '@': fileURLToPath(new URL('./src', import.meta.url))\n-    }\n+      '@': fileURLToPath(new URL('./src', import.meta.url)),\n+    },\n   },\n   server: {\n     port: 23367,\n     proxy: {\n       '/api': 'http://127.0.0.1:23366',\n-    }\n+    },\n   },\n   css: {\n     preprocessorOptions: {\n       scss: {\n-         additionalData: `@import \"./src/style/_variables.scss\";@import \"./src/style/_extends.scss\";`\n-     },\n+        additionalData: `@import \"./src/style/_variables.scss\";@import \"./src/style/_extends.scss\";`,\n+      },\n     },\n   },\n })"
    },
    {
      "sha": "e9d6395df2eb628f357623b477bed483ef4dc501",
      "filename": "ui/artalk/.eslintrc.cjs",
      "status": "modified",
      "additions": 1,
      "deletions": 3,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2F.eslintrc.cjs",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2F.eslintrc.cjs",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2F.eslintrc.cjs?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,7 +2,5 @@ const path = require('node:path')\n \n module.exports = {\n   root: true,\n-  extends: [\n-    path.join(__dirname, '../../.eslintrc.cjs'),\n-  ]\n+  extends: [path.join(__dirname, '../../.eslintrc.cjs')],\n }"
    },
    {
      "sha": "a1d1b98535ddd06fd7b5398a88d4aba608e737c2",
      "filename": "ui/artalk/index.html",
      "status": "modified",
      "additions": 258,
      "deletions": 135,
      "changes": 393,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Findex.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Findex.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Findex.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,156 +1,279 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html lang=\"zh-CN\">\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <title>Artalk DEMO</title>\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=device-dpi\" />\n-  <meta name=\"referrer\" content=\"no-referrer\">\n-  <style>\n-    * { box-sizing: border-box; }\n-    body { padding:45px 10px;margin:0;background:#f4f4f4 }\n-    body.dark-mode { background:#000; }\n-    .card { margin:0 auto;max-width:700px;position:relative;overflow:hidden;background:#FFF;border-radius:4px;padding:20px;border: 1px solid transparent; }\n-    body.dark-mode .card { background: #1e2223;border: 1px solid #2d3235; }\n-    .card:not(:last-child) { margin-bottom:10px; }\n-    .card.billboard { text-align: center; }\n-    .title > a { display:block;text-decoration:none;color:#0083ff;font-size:35px;margin-top:0;margin-bottom:10px; }\n-    .title > a:hover { margin-left:0 }\n-    .title > a > span { opacity:0 }\n-    .title > a:hover>span { opacity:1 }\n-    .desc { font-size:12px;color:#697182 }\n-    body.dark-mode .desc { color:#848da3 }\n-    .social { margin-top:20px }\n-    .social > a:not(:last-child) { margin-right:2px }\n-    @media only screen and (max-width: 768px) {\n-      body { padding: 0;background: #FFF; }\n-      .card.billboard { padding-top: 20px; }\n-      .card { width: 100%;padding: 5px; }\n-    }\n-    .float-btn { user-select: none;bottom: 25px;display: block;cursor: pointer;text-align: center;width: 60px;height: 37px;line-height: 37px;font-size: 13px;color: #757e91;background: #fff;opacity: 0.8;border-radius: 4px;border: 1px solid #eceff2;position: fixed; }\n-    .to-night { z-index: 99999;left: 25px;background: #1e2223;color: #fff; }\n-    body.dark-mode .to-night { background: #006fd9;border: 1px solid #2d3235;color: #fff; }\n-    .to-top { right: 25px; }\n-  </style>\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <title>Artalk DEMO</title>\n+    <meta\n+      name=\"viewport\"\n+      content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=device-dpi\"\n+    />\n+    <meta name=\"referrer\" content=\"no-referrer\" />\n+    <style>\n+      * {\n+        box-sizing: border-box;\n+      }\n+      body {\n+        padding: 45px 10px;\n+        margin: 0;\n+        background: #f4f4f4;\n+      }\n+      body.dark-mode {\n+        background: #000;\n+      }\n+      .card {\n+        margin: 0 auto;\n+        max-width: 700px;\n+        position: relative;\n+        overflow: hidden;\n+        background: #fff;\n+        border-radius: 4px;\n+        padding: 20px;\n+        border: 1px solid transparent;\n+      }\n+      body.dark-mode .card {\n+        background: #1e2223;\n+        border: 1px solid #2d3235;\n+      }\n+      .card:not(:last-child) {\n+        margin-bottom: 10px;\n+      }\n+      .card.billboard {\n+        text-align: center;\n+      }\n+      .title > a {\n+        display: block;\n+        text-decoration: none;\n+        color: #0083ff;\n+        font-size: 35px;\n+        margin-top: 0;\n+        margin-bottom: 10px;\n+      }\n+      .title > a:hover {\n+        margin-left: 0;\n+      }\n+      .title > a > span {\n+        opacity: 0;\n+      }\n+      .title > a:hover > span {\n+        opacity: 1;\n+      }\n+      .desc {\n+        font-size: 12px;\n+        color: #697182;\n+      }\n+      body.dark-mode .desc {\n+        color: #848da3;\n+      }\n+      .social {\n+        margin-top: 20px;\n+      }\n+      .social > a:not(:last-child) {\n+        margin-right: 2px;\n+      }\n+      @media only screen and (max-width: 768px) {\n+        body {\n+          padding: 0;\n+          background: #fff;\n+        }\n+        .card.billboard {\n+          padding-top: 20px;\n+        }\n+        .card {\n+          width: 100%;\n+          padding: 5px;\n+        }\n+      }\n+      .float-btn {\n+        user-select: none;\n+        bottom: 25px;\n+        display: block;\n+        cursor: pointer;\n+        text-align: center;\n+        width: 60px;\n+        height: 37px;\n+        line-height: 37px;\n+        font-size: 13px;\n+        color: #757e91;\n+        background: #fff;\n+        opacity: 0.8;\n+        border-radius: 4px;\n+        border: 1px solid #eceff2;\n+        position: fixed;\n+      }\n+      .to-night {\n+        z-index: 99999;\n+        left: 25px;\n+        background: #1e2223;\n+        color: #fff;\n+      }\n+      body.dark-mode .to-night {\n+        background: #006fd9;\n+        border: 1px solid #2d3235;\n+        color: #fff;\n+      }\n+      .to-top {\n+        right: 25px;\n+      }\n+    </style>\n \n-  <!-- For mobile testing -->\n-  <script src=\"https://unpkg.com/vconsole@latest/dist/vconsole.min.js\"></script>\n-  <script>\n-    // VConsole will be exported to `window.VConsole` by default.\n-    if (navigator.userAgentData.mobile) {\n-      var vConsole = new window.VConsole();\n-    }\n-  </script>\n-</head>\n-<body>\n-  <div class=\"card billboard atk-fade-in\">\n-    <div class=\"title\"><a href=\"https://github.com/ArtalkJS/Artalk\" target=\"_blank\"><span>『 </span>Artalk<span> 』</span></a></div>\n-    <div class=\"desc\">一款简洁的自托管评论系统 <span id=\"ArtalkPV\"></span> | <span id=\"ArtalkCount\"></span></div>\n-    <div class=\"social\">\n-      <a href=\"https://www.npmjs.com/package/artalk\" aria-label=\"npm package version\" target=\"_blank\"><img src=\"https://img.shields.io/npm/v/artalk.svg?style=flat-square\"></a>\n-      <a href=\"https://www.npmjs.com/package/artalk\" aria-label=\"npm package download number\" target=\"_blank\"><img src=\"https://img.shields.io/npm/dt/artalk.svg?style=flat-square\"></a>\n-      <a href=\"https://github.com/ArtalkJS/Artalk/commits/master\" aria-label=\"last commit\" target=\"_blank\"><img src=\"https://img.shields.io/github/last-commit/ArtalkJS/Artalk?style=flat-square\"></a>\n-      <a href=\"https://github.com/ArtalkJS/Artalk/blob/master/LICENSE\" aria-label=\"open source license\" target=\"_blank\"><img src=\"https://img.shields.io/github/license/ArtalkJS/Artalk.svg?style=flat-square\"></a>\n-      <a href=\"https://github.com/ArtalkJS/Artalk\" aria-label=\"GitHub star number\" target=\"_blank\"><img src=\"https://img.shields.io/github/stars/ArtalkJS/Artalk?style=flat-square\"></a>\n+    <!-- For mobile testing -->\n+    <script src=\"https://unpkg.com/vconsole@latest/dist/vconsole.min.js\"></script>\n+    <script>\n+      // VConsole will be exported to `window.VConsole` by default.\n+      if (navigator.userAgentData.mobile) {\n+        var vConsole = new window.VConsole()\n+      }\n+    </script>\n+  </head>\n+  <body>\n+    <div class=\"card billboard atk-fade-in\">\n+      <div class=\"title\">\n+        <a href=\"https://github.com/ArtalkJS/Artalk\" target=\"_blank\">\n+          <span>『</span>\n+          Artalk\n+          <span>』</span>\n+        </a>\n+      </div>\n+      <div class=\"desc\">\n+        一款简洁的自托管评论系统\n+        <span id=\"ArtalkPV\"></span>\n+        |\n+        <span id=\"ArtalkCount\"></span>\n+      </div>\n+      <div class=\"social\">\n+        <a\n+          href=\"https://www.npmjs.com/package/artalk\"\n+          aria-label=\"npm package version\"\n+          target=\"_blank\"\n+        >\n+          <img src=\"https://img.shields.io/npm/v/artalk.svg?style=flat-square\" />\n+        </a>\n+        <a\n+          href=\"https://www.npmjs.com/package/artalk\"\n+          aria-label=\"npm package download number\"\n+          target=\"_blank\"\n+        >\n+          <img src=\"https://img.shields.io/npm/dt/artalk.svg?style=flat-square\" />\n+        </a>\n+        <a\n+          href=\"https://github.com/ArtalkJS/Artalk/commits/master\"\n+          aria-label=\"last commit\"\n+          target=\"_blank\"\n+        >\n+          <img src=\"https://img.shields.io/github/last-commit/ArtalkJS/Artalk?style=flat-square\" />\n+        </a>\n+        <a\n+          href=\"https://github.com/ArtalkJS/Artalk/blob/master/LICENSE\"\n+          aria-label=\"open source license\"\n+          target=\"_blank\"\n+        >\n+          <img src=\"https://img.shields.io/github/license/ArtalkJS/Artalk.svg?style=flat-square\" />\n+        </a>\n+        <a\n+          href=\"https://github.com/ArtalkJS/Artalk\"\n+          aria-label=\"GitHub star number\"\n+          target=\"_blank\"\n+        >\n+          <img src=\"https://img.shields.io/github/stars/ArtalkJS/Artalk?style=flat-square\" />\n+        </a>\n+      </div>\n     </div>\n-  </div>\n-  <div class=\"card atk-fade-in\">\n-    <div id=\"comments\"></div>\n-  </div>\n-  <div class=\"float-btn to-night atk-fade-in\">Blink</div>\n-  <div class=\"float-btn to-top atk-fade-in\" style=\"display: none;\">TOP</div>\n-\n-  <script type=\"module\">\n-    import Artalk from './src/main'\n-    var artalk = Artalk.init({\n-      el: '#comments',\n-      pageKey: 'https://artalk.js.org/guide/intro.html',\n-      pageTitle: 'Artalk Home',\n-      server: (import.meta.env.DEV) ? 'http://localhost:23366' : 'https://artalk.qwqaq.com',\n-      site: 'ArtalkDocs',\n-      //useBackendConf: true,\n-    });\n-\n-    window.artalk = artalk;\n-    window.Artalk = Artalk;\n-\n-    ;(function () {\n-      const toTopElem = document.querySelector('.to-top')\n-      toTopElem.addEventListener('click', () => {\n-        window.scrollTo(0, 0)\n-      })\n+    <div class=\"card atk-fade-in\">\n+      <div id=\"comments\"></div>\n+    </div>\n+    <div class=\"float-btn to-night atk-fade-in\">Blink</div>\n+    <div class=\"float-btn to-top atk-fade-in\" style=\"display: none\">TOP</div>\n \n-      checkShowToTop()\n-      document.addEventListener('scroll', () => {\n-        checkShowToTop()\n+    <script type=\"module\">\n+      import Artalk from './src/main'\n+      var artalk = Artalk.init({\n+        el: '#comments',\n+        pageKey: 'https://artalk.js.org/guide/intro.html',\n+        pageTitle: 'Artalk Home',\n+        server: import.meta.env.DEV ? 'http://localhost:23366' : 'https://artalk.qwqaq.com',\n+        site: 'ArtalkDocs',\n+        //useBackendConf: true,\n       })\n \n-      function checkShowToTop() {\n-        const scrollTop = window.scrollY\n-        const whereShow = window.screen.height\n-        const isNeedShow = (scrollTop > 0) && (scrollTop > whereShow)\n+      window.artalk = artalk\n+      window.Artalk = Artalk\n+      ;(function () {\n+        const toTopElem = document.querySelector('.to-top')\n+        toTopElem.addEventListener('click', () => {\n+          window.scrollTo(0, 0)\n+        })\n \n-        if (isNeedShow) {\n-          toTopElem.style.display = ''\n-        } else {\n-          toTopElem.style.display = 'none'\n-        }\n-      }\n-    })();\n+        checkShowToTop()\n+        document.addEventListener('scroll', () => {\n+          checkShowToTop()\n+        })\n \n-    ;(function () {\n-      // @Refer: https://stackoverflow.com/questions/50840168/how-to-detect-if-the-os-is-in-dark-mode-in-browsers\n-      let darkMode = false\n+        function checkShowToTop() {\n+          const scrollTop = window.scrollY\n+          const whereShow = window.screen.height\n+          const isNeedShow = scrollTop > 0 && scrollTop > whereShow\n \n-      if (getLS() == \"true\") {\n-        darkMode = true;\n-      } else {\n-        try {\n-          if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n-            darkMode = true;\n+          if (isNeedShow) {\n+            toTopElem.style.display = ''\n+          } else {\n+            toTopElem.style.display = 'none'\n           }\n-        } catch {}\n-      }\n-\n-      function getLS() {\n-        return localStorage.getItem(\"dark_mode_on\") || null\n-      }\n-\n-      function setLS(val) {\n-        return localStorage.setItem(\"dark_mode_on\", String(val))\n-      }\n+        }\n+      })()\n+      ;(function () {\n+        // @Refer: https://stackoverflow.com/questions/50840168/how-to-detect-if-the-os-is-in-dark-mode-in-browsers\n+        let darkMode = false\n \n-      function checkAndApplyDarkMode () {\n-        artalk.setDarkMode(darkMode)\n-        if (darkMode) {\n-          document.body.classList.add('dark-mode')\n+        if (getLS() == 'true') {\n+          darkMode = true\n         } else {\n-          document.body.classList.remove('dark-mode')\n+          try {\n+            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n+              darkMode = true\n+            }\n+          } catch {}\n         }\n-      }\n \n-      checkAndApplyDarkMode()\n+        function getLS() {\n+          return localStorage.getItem('dark_mode_on') || null\n+        }\n \n-      const toNightElem = document.querySelector('.to-night')\n-      toNightElem.addEventListener('click', () => {\n-        darkMode = !darkMode\n-        setLS(darkMode)\n-        checkAndApplyDarkMode()\n-      })\n+        function setLS(val) {\n+          return localStorage.setItem('dark_mode_on', String(val))\n+        }\n \n-      // Listen\n-      try {\n-        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\n-          const newColorScheme = e.matches ? \"dark\" : \"light\";\n-          if (newColorScheme == \"dark\") {\n-            darkMode = true\n+        function checkAndApplyDarkMode() {\n+          artalk.setDarkMode(darkMode)\n+          if (darkMode) {\n+            document.body.classList.add('dark-mode')\n           } else {\n-            darkMode = false\n+            document.body.classList.remove('dark-mode')\n           }\n+        }\n \n+        checkAndApplyDarkMode()\n+\n+        const toNightElem = document.querySelector('.to-night')\n+        toNightElem.addEventListener('click', () => {\n+          darkMode = !darkMode\n+          setLS(darkMode)\n           checkAndApplyDarkMode()\n-        });\n-      } catch {}\n-    })()\n-  </script>\n-</body>\n+        })\n+\n+        // Listen\n+        try {\n+          window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {\n+            const newColorScheme = e.matches ? 'dark' : 'light'\n+            if (newColorScheme == 'dark') {\n+              darkMode = true\n+            } else {\n+              darkMode = false\n+            }\n+\n+            checkAndApplyDarkMode()\n+          })\n+        } catch {}\n+      })()\n+    </script>\n+  </body>\n </html>"
    },
    {
      "sha": "780da0432bf801e3cc5d82aabdf343117de59d52",
      "filename": "ui/artalk/playwright.config.ts",
      "status": "modified",
      "additions": 13,
      "deletions": 10,
      "changes": 23,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fplaywright.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fplaywright.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fplaywright.config.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -34,14 +34,17 @@ export default defineConfig({\n     },\n   ],\n   // Run your local dev server before starting the tests.\n-  webServer: [{\n-    command: 'pnpm dev --port 5173',\n-    url: 'http://localhost:5173',\n-    reuseExistingServer: !process.env.CI,\n-  }, {\n-    cwd: '../../',\n-    command: 'make dev',\n-    url: 'http://localhost:23366',\n-    reuseExistingServer: !process.env.CI,\n-  }]\n+  webServer: [\n+    {\n+      command: 'pnpm dev --port 5173',\n+      url: 'http://localhost:5173',\n+      reuseExistingServer: !process.env.CI,\n+    },\n+    {\n+      cwd: '../../',\n+      command: 'make dev',\n+      url: 'http://localhost:23366',\n+      reuseExistingServer: !process.env.CI,\n+    },\n+  ],\n })"
    },
    {
      "sha": "b7fc1283854ea7578c0992bb2d6fa0271981ce36",
      "filename": "ui/artalk/postcss.config.js",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fpostcss.config.js",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fpostcss.config.js",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fpostcss.config.js?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,5 +1,5 @@\n import autoprefixer from 'autoprefixer'\n \n export default {\n-  plugins: [ autoprefixer ]\n+  plugins: [autoprefixer],\n }"
    },
    {
      "sha": "5d1ba37b58b6cae245ab8ae68e39c9a0068c35cf",
      "filename": "ui/artalk/scripts/build-i18n.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fscripts%2Fbuild-i18n.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fscripts%2Fbuild-i18n.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fscripts%2Fbuild-i18n.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,12 +13,12 @@ fs.rmSync(outDir, { recursive: true, force: true })\n \n const libraries: LibraryOptions[] = []\n \n-fs.readdirSync(i18nPath).forEach(f => {\n+fs.readdirSync(i18nPath).forEach((f) => {\n   if (['index.ts', 'external.ts'].includes(f)) return\n \n   const filename = path.join(i18nPath, f)\n   const lang = path.parse(filename).name\n-  const content = fs.readFileSync(filename);\n+  const content = fs.readFileSync(filename)\n \n   // only compile the external locale\n   if (!content.toString().includes('defineLocaleExternal')) return"
    },
    {
      "sha": "5cc9fc012ee9f20eb2c6879ac52c41ca2ce9cf3a",
      "filename": "ui/artalk/src/api/fetch.ts",
      "status": "modified",
      "additions": 14,
      "deletions": 9,
      "changes": 23,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fapi%2Ffetch.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fapi%2Ffetch.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fapi%2Ffetch.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,11 +3,15 @@ import 'abortcontroller-polyfill/dist/polyfill-patch-fetch'\n import { FetchError } from '@/types'\n import { ApiOptions } from './options'\n \n-export const Fetch = async (opts: ApiOptions, input: string | URL | Request, init?: RequestInit) => {\n+export const Fetch = async (\n+  opts: ApiOptions,\n+  input: string | URL | Request,\n+  init?: RequestInit,\n+) => {\n   const apiToken = opts.getApiToken && opts.getApiToken()\n \n   const headers = new Headers({\n-    'Authorization': apiToken ? `Bearer ${apiToken}` : '',\n+    Authorization: apiToken ? `Bearer ${apiToken}` : '',\n     ...init?.headers,\n   })\n \n@@ -24,13 +28,14 @@ export const Fetch = async (opts: ApiOptions, input: string | URL | Request, ini\n     const json: any = (await resp.json().catch(() => {})) || {}\n \n     let retry = false\n-    opts.handlers && (await opts.handlers.get().reduce(async (promise, item) => {\n-      await promise\n-      if (json[item.action] === true) {\n-        await item.handler(json)\n-        retry = true\n-      }\n-    }, Promise.resolve()))\n+    opts.handlers &&\n+      (await opts.handlers.get().reduce(async (promise, item) => {\n+        await promise\n+        if (json[item.action] === true) {\n+          await item.handler(json)\n+          retry = true\n+        }\n+      }, Promise.resolve()))\n \n     if (retry) return Fetch(opts, input, init)\n     throw createError(resp.status, json)"
    },
    {
      "sha": "a5ede934b791dd359d34338d3674f9c939f4e80e",
      "filename": "ui/artalk/src/api/handler.ts",
      "status": "modified",
      "additions": 11,
      "deletions": 6,
      "changes": 17,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fapi%2Fhandler.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fapi%2Fhandler.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fapi%2Fhandler.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,7 +1,7 @@\n export interface ApiHandlerPayload {\n-  'need_captcha': { img_data?: string; iframe?: string }\n-  'need_login': {}\n-  'need_auth_login': {}\n+  need_captcha: { img_data?: string; iframe?: string }\n+  need_login: {}\n+  need_auth_login: {}\n }\n \n type PayloadKey = keyof ApiHandlerPayload\n@@ -12,14 +12,19 @@ export interface ApiHandler<T extends PayloadKey = PayloadKey> {\n }\n \n export interface ApiHandlers {\n-  add: <T extends PayloadKey>(action: T, handler: (data: ApiHandlerPayload[T]) => Promise<void>) => void\n+  add: <T extends PayloadKey>(\n+    action: T,\n+    handler: (data: ApiHandlerPayload[T]) => Promise<void>,\n+  ) => void\n   get: () => ApiHandler[]\n }\n \n export function createApiHandlers(): ApiHandlers {\n   const handlers: ApiHandler[] = []\n   return {\n-    add: (action, handler) => { handlers.push({ action, handler }) },\n-    get: () => handlers\n+    add: (action, handler) => {\n+      handlers.push({ action, handler })\n+    },\n+    get: () => handlers,\n   }\n }"
    },
    {
      "sha": "64467df5be80344694f854494c7cc0f310b30809",
      "filename": "ui/artalk/src/api/index.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fapi%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fapi%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fapi%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,7 +11,7 @@ export class Api extends ApiV2<void> {\n   constructor(opts: ApiOptions) {\n     super({\n       baseUrl: opts.baseURL,\n-      customFetch: (input, init) => Fetch(opts, input, init)\n+      customFetch: (input, init) => Fetch(opts, input, init),\n     })\n \n     this._opts = opts"
    },
    {
      "sha": "15a0b91bfc97467addcb140ab80058f38cf6568b",
      "filename": "ui/artalk/src/artalk.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 3,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fartalk.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fartalk.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fartalk.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -111,7 +111,7 @@ export default class Artalk {\n       siteName: conf.site,\n       countEl: conf.countEl,\n       pvEl: conf.pvEl,\n-      pvAdd: false\n+      pvAdd: false,\n     })\n   }\n \n@@ -120,8 +120,12 @@ export default class Artalk {\n   // ===========================\n \n   /** @deprecated Please use `getEl()` instead */\n-  public get $root() { return this.ctx.$root }\n+  public get $root() {\n+    return this.ctx.$root\n+  }\n \n   /** @description Please use `getConf()` instead */\n-  public get conf() { return this.ctx.getConf() }\n+  public get conf() {\n+    return this.ctx.getConf()\n+  }\n }"
    },
    {
      "sha": "67240bf54d5fc6ff2127ed67386d4feefb264702",
      "filename": "ui/artalk/src/comment/actions.ts",
      "status": "modified",
      "additions": 42,
      "deletions": 28,
      "changes": 70,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Factions.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Factions.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Factions.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,33 +5,43 @@ import type { CommentNode } from '.'\n export default class CommentActions {\n   private comment: CommentNode\n \n-  private get data() { return this.comment.getData() }\n-  private get opts() { return this.comment.getOpts() }\n-  private getApi() { return this.comment.getOpts().getApi() }\n+  private get data() {\n+    return this.comment.getData()\n+  }\n+  private get opts() {\n+    return this.comment.getOpts()\n+  }\n+  private getApi() {\n+    return this.comment.getOpts().getApi()\n+  }\n \n   public constructor(comment: CommentNode) {\n     this.comment = comment\n   }\n \n   /** 投票操作 */\n-  public vote(type: 'up'|'down') {\n-    const actionBtn = (type === 'up') ? this.comment.getRender().voteBtnUp : this.comment.getRender().voteBtnDown\n+  public vote(type: 'up' | 'down') {\n+    const actionBtn =\n+      type === 'up' ? this.comment.getRender().voteBtnUp : this.comment.getRender().voteBtnDown\n \n-    this.getApi().votes.vote(`comment_${type}`, this.data.id, { ...this.getApi().getUserFields() })\n-    .then((res) => {\n-      this.data.vote_up = res.data.up\n-      this.data.vote_down = res.data.down\n-      this.comment.getRender().voteBtnUp?.updateText()\n-      this.comment.getRender().voteBtnDown?.updateText()\n-    })\n-    .catch((err) => {\n-      actionBtn?.setError($t('voteFail'))\n-      console.log(err)\n-    })\n+    this.getApi()\n+      .votes.vote(`comment_${type}`, this.data.id, {\n+        ...this.getApi().getUserFields(),\n+      })\n+      .then((res) => {\n+        this.data.vote_up = res.data.up\n+        this.data.vote_down = res.data.down\n+        this.comment.getRender().voteBtnUp?.updateText()\n+        this.comment.getRender().voteBtnDown?.updateText()\n+      })\n+      .catch((err) => {\n+        actionBtn?.setError($t('voteFail'))\n+        console.log(err)\n+      })\n   }\n \n   /** 管理员 - 评论状态修改 */\n-  public adminEdit(type: 'collapsed'|'pending'|'pinned', btnElem: ActionBtn) {\n+  public adminEdit(type: 'collapsed' | 'pending' | 'pinned', btnElem: ActionBtn) {\n     if (btnElem.isLoading) return // 若正在修改中\n \n     btnElem.setLoading(true, `${$t('editing')}...`)\n@@ -46,25 +56,29 @@ export default class CommentActions {\n       modify.is_pinned = !modify.is_pinned\n     }\n \n-    this.getApi().comments.updateComment(this.data.id, {\n-      ...modify,\n-    }).then((res) => {\n-      btnElem.setLoading(false)\n+    this.getApi()\n+      .comments.updateComment(this.data.id, {\n+        ...modify,\n+      })\n+      .then((res) => {\n+        btnElem.setLoading(false)\n \n-      // 刷新当前 Comment UI\n-      this.comment.setData(res.data)\n-    }).catch((err) => {\n-      console.error(err)\n-      btnElem.setError($t('editFail'))\n-    })\n+        // 刷新当前 Comment UI\n+        this.comment.setData(res.data)\n+      })\n+      .catch((err) => {\n+        console.error(err)\n+        btnElem.setError($t('editFail'))\n+      })\n   }\n \n   /** 管理员 - 评论删除 */\n   public adminDelete(btnElem: ActionBtn) {\n     if (btnElem.isLoading) return // 若正在删除中\n \n     btnElem.setLoading(true, `${$t('deleting')}...`)\n-    this.getApi().comments.deleteComment(this.data.id)\n+    this.getApi()\n+      .comments.deleteComment(this.data.id)\n       .then(() => {\n         btnElem.setLoading(false)\n         if (this.opts.onDelete) this.opts.onDelete(this.comment)"
    },
    {
      "sha": "868b45aa6c91adb393bb201b115434434e5aa298",
      "filename": "ui/artalk/src/comment/comment-node.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 5,
      "changes": 11,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Fcomment-node.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Fcomment-node.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Fcomment-node.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -42,7 +42,7 @@ export default class CommentNode {\n   private data: CommentData\n   private opts: CommentOptions\n \n-  private parent: CommentNode|null\n+  private parent: CommentNode | null\n   private children: CommentNode[] = []\n \n   private nestCurt: number // 当前嵌套层数\n@@ -122,7 +122,7 @@ export default class CommentNode {\n   }\n \n   /** 置入子评论 */\n-  public putChild(childNode: CommentNode, insertMode: 'append'|'prepend' = 'append') {\n+  public putChild(childNode: CommentNode, insertMode: 'append' | 'prepend' = 'append') {\n     childNode.parent = this\n     childNode.nestCurt = this.nestCurt + 1 // 嵌套层数 +1\n     this.children.push(childNode)\n@@ -133,7 +133,7 @@ export default class CommentNode {\n     else if (insertMode === 'prepend') $childrenWrap.prepend($childComment)\n \n     childNode.getRender().playFadeAnim()\n-    childNode.getRender().checkHeightLimit()  // 内容限高\n+    childNode.getRender().checkHeightLimit() // 内容限高\n   }\n \n   /** 获取存放子评论的元素对象 */\n@@ -188,7 +188,8 @@ export default class CommentNode {\n   }\n \n   scrollIntoView() {\n-    this.$el && Ui.scrollIntoView(this.$el, false, this.opts.scrollRelativeTo && this.opts.scrollRelativeTo())\n+    this.$el &&\n+      Ui.scrollIntoView(this.$el, false, this.opts.scrollRelativeTo && this.opts.scrollRelativeTo())\n   }\n \n   /**\n@@ -222,7 +223,7 @@ export default class CommentNode {\n     const info = UADetect(this.data.ua)\n     return {\n       browser: `${info.browser} ${info.version}`,\n-      os: `${info.os} ${info.osVersion}`\n+      os: `${info.os} ${info.osVersion}`,\n     }\n   }\n "
    },
    {
      "sha": "84bbb76295f8807f97605019b057c5b2cd0ff5e2",
      "filename": "ui/artalk/src/comment/height-limit.ts",
      "status": "modified",
      "additions": 16,
      "deletions": 15,
      "changes": 31,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Fheight-limit.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Fheight-limit.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Fheight-limit.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -10,7 +10,7 @@ export interface IHeightLimitConf {\n \n export interface IHeightLimitRule {\n   /** Target element need to check */\n-  el: HTMLElement|null|undefined\n+  el: HTMLElement | null | undefined\n \n   /** Max height (unit: px) */\n   max: number\n@@ -23,23 +23,25 @@ export type THeightLimitRuleSet = IHeightLimitRule[]\n \n /** Check all elements below the max height limit */\n export function check(conf: IHeightLimitConf, rules: THeightLimitRuleSet) {\n-  rules.forEach(({\n-    el, max: maxHeight, imgContains\n-  }) => {\n+  rules.forEach(({ el, max: maxHeight, imgContains }) => {\n     const _apply = () => {\n       if (!el) return\n       if (!conf.scrollable)\n-        applyHeightLimit({ el, maxHeight, postBtnClick: conf.postExpandBtnClick })\n-      else\n-        applyScrollableHeightLimit({ el, maxHeight })\n+        applyHeightLimit({\n+          el,\n+          maxHeight,\n+          postBtnClick: conf.postExpandBtnClick,\n+        })\n+      else applyScrollableHeightLimit({ el, maxHeight })\n     }\n \n     // checking\n     const _check = () => {\n       if (el && Utils.getHeight(el) > maxHeight) _apply() // 是否超过高度\n     }\n     _check() // check now\n-    if (imgContains && el) // check again if img contains\n+    if (imgContains && el)\n+      // check again if img contains\n       Utils.onImagesLoaded(el, () => _check())\n   })\n }\n@@ -49,8 +51,8 @@ const HEIGHT_LIMIT_CSS = 'atk-height-limit'\n \n /** Apply height limit on an element and add expand btn */\n export function applyHeightLimit(obj: {\n-  el: HTMLElement,\n-  maxHeight: number,\n+  el: HTMLElement\n+  maxHeight: number\n   postBtnClick?: (e: MouseEvent) => void\n }) {\n   if (!obj.el) return\n@@ -62,7 +64,9 @@ export function applyHeightLimit(obj: {\n   obj.el.style.overflow = 'hidden'\n \n   /* Expand button */\n-  const $expandBtn = Utils.createElement(`<div class=\"atk-height-limit-btn\">${$t('readMore')}</span>`)\n+  const $expandBtn = Utils.createElement(\n+    `<div class=\"atk-height-limit-btn\">${$t('readMore')}</span>`,\n+  )\n   $expandBtn.onclick = (e) => {\n     e.stopPropagation()\n     disposeHeightLimit(obj.el)\n@@ -89,10 +93,7 @@ export function disposeHeightLimit($el: HTMLElement) {\n const HEIGHT_LIMIT_SCROLL_CSS = 'atk-height-limit-scroll'\n \n /** Apply scrollable height limit */\n-export function applyScrollableHeightLimit(obj: {\n-  el: HTMLElement,\n-  maxHeight: number\n-}) {\n+export function applyScrollableHeightLimit(obj: { el: HTMLElement; maxHeight: number }) {\n   if (!obj.el) return\n   if (obj.el.classList.contains(HEIGHT_LIMIT_SCROLL_CSS)) return\n   obj.el.classList.add(HEIGHT_LIMIT_SCROLL_CSS)"
    },
    {
      "sha": "4aeb58a5828b1d80877581832ba628295ab84277",
      "filename": "ui/artalk/src/comment/render.ts",
      "status": "modified",
      "additions": 24,
      "deletions": 16,
      "changes": 40,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frender.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frender.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Frender.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -10,8 +10,12 @@ import loadRenders from './renders'\n export default class Render {\n   public comment: CommentNode\n \n-  public get data() { return this.comment.getData() }\n-  public get opts() { return this.comment.getOpts() }\n+  public get data() {\n+    return this.comment.getData()\n+  }\n+  public get opts() {\n+    return this.comment.getOpts()\n+  }\n \n   public $el!: HTMLElement\n   public $main!: HTMLElement\n@@ -20,7 +24,7 @@ export default class Render {\n   public $headerBadgeWrap!: HTMLElement\n   public $body!: HTMLElement\n   public $content!: HTMLElement\n-  public $childrenWrap!: HTMLElement|null\n+  public $childrenWrap!: HTMLElement | null\n   public $actions!: HTMLElement\n   public voteBtnUp?: ActionBtn\n   public voteBtnDown?: ActionBtn\n@@ -72,20 +76,24 @@ export default class Render {\n     const contentMaxH = conf.content\n     const childrenMaxH = conf.children\n \n-    HeightLimit.check({\n-      postExpandBtnClick: () => {\n-        // 子评论数仅有 1，直接取消限高\n-        const children = this.comment.getChildren()\n-        if (children.length === 1) HeightLimit.disposeHeightLimit(children[0].getRender().$content)\n+    HeightLimit.check(\n+      {\n+        postExpandBtnClick: () => {\n+          // 子评论数仅有 1，直接取消限高\n+          const children = this.comment.getChildren()\n+          if (children.length === 1)\n+            HeightLimit.disposeHeightLimit(children[0].getRender().$content)\n+        },\n+        scrollable: conf.scrollable,\n       },\n-      scrollable: conf.scrollable\n-    }, [\n-      // 评论内容限高\n-      { el: this.$content, max: contentMaxH, imgContains: true },\n-      { el: this.$replyTo, max: contentMaxH, imgContains: true },\n-      // 子评论区域限高（仅嵌套模式）\n-      { el: this.$childrenWrap, max: childrenMaxH, imgContains: false }\n-    ])\n+      [\n+        // 评论内容限高\n+        { el: this.$content, max: contentMaxH, imgContains: true },\n+        { el: this.$replyTo, max: contentMaxH, imgContains: true },\n+        // 子评论区域限高（仅嵌套模式）\n+        { el: this.$childrenWrap, max: childrenMaxH, imgContains: false },\n+      ],\n+    )\n   }\n \n   /** 子评论区域移除限高 */"
    },
    {
      "sha": "505178747a3187aa4e81dc9847e6ebb052e3f0a2",
      "filename": "ui/artalk/src/comment/renders/actions.ts",
      "status": "modified",
      "additions": 14,
      "deletions": 8,
      "changes": 22,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Factions.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Factions.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Factions.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,15 +8,19 @@ import type Render from '../render'\n  */\n export default function renderActions(r: Render) {\n   Object.entries({\n-    renderVote, renderReply,\n+    renderVote,\n+    renderReply,\n     // 管理员操作\n-    renderCollapse, renderModerator, renderPin, renderEdit, renderDel\n+    renderCollapse,\n+    renderModerator,\n+    renderPin,\n+    renderEdit,\n+    renderDel,\n   }).forEach(([name, render]) => {\n     render(r)\n   })\n }\n \n-\n // 操作按钮 - 投票\n function renderVote(r: Render) {\n   if (!r.opts.vote) return // 关闭投票功能\n@@ -29,7 +33,9 @@ function renderVote(r: Render) {\n \n   // 反对按钮\n   if (r.opts.voteDown) {\n-    r.voteBtnDown = new ActionBtn(() => `${$t('voteDown')} (${r.data.vote_down || 0})`).appendTo(r.$actions)\n+    r.voteBtnDown = new ActionBtn(() => `${$t('voteDown')} (${r.data.vote_down || 0})`).appendTo(\n+      r.$actions,\n+    )\n     r.voteBtnDown.setClick(() => {\n       r.comment.getActions().vote('down')\n     })\n@@ -52,7 +58,7 @@ function renderReply(r: Render) {\n function renderCollapse(r: Render) {\n   const collapseBtn = new ActionBtn({\n     text: () => (r.data.is_collapsed ? $t('expand') : $t('collapse')),\n-    adminOnly: true\n+    adminOnly: true,\n   })\n   collapseBtn.appendTo(r.$actions)\n   collapseBtn.setClick(() => {\n@@ -64,7 +70,7 @@ function renderCollapse(r: Render) {\n function renderModerator(r: Render) {\n   const pendingBtn = new ActionBtn({\n     text: () => (r.data.is_pending ? $t('pending') : $t('approved')),\n-    adminOnly: true\n+    adminOnly: true,\n   })\n   pendingBtn.appendTo(r.$actions)\n   pendingBtn.setClick(() => {\n@@ -76,7 +82,7 @@ function renderModerator(r: Render) {\n function renderPin(r: Render) {\n   const pinnedBtn = new ActionBtn({\n     text: () => (r.data.is_pinned ? $t('unpin') : $t('pin')),\n-    adminOnly: true\n+    adminOnly: true,\n   })\n   pinnedBtn.appendTo(r.$actions)\n   pinnedBtn.setClick(() => {\n@@ -88,7 +94,7 @@ function renderPin(r: Render) {\n function renderEdit(r: Render) {\n   const editBtn = new ActionBtn({\n     text: $t('edit'),\n-    adminOnly: true\n+    adminOnly: true,\n   })\n   editBtn.appendTo(r.$actions)\n   editBtn.setClick(() => {"
    },
    {
      "sha": "0fc9dfa8f153a24fe5dfc563c1ecedb3dbd29d21",
      "filename": "ui/artalk/src/comment/renders/avatar.ts",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Favatar.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Favatar.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Favatar.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -12,7 +12,9 @@ export default function renderAvatar(r: Render) {\n   $avatarImg.src = avatarURLBuilder ? avatarURLBuilder(r.data) : r.comment.getGravatarURL()\n \n   if (r.data.link) {\n-    const $avatarA = Utils.createElement<HTMLLinkElement>('<a target=\"_blank\" rel=\"noreferrer noopener nofollow\"></a>')\n+    const $avatarA = Utils.createElement<HTMLLinkElement>(\n+      '<a target=\"_blank\" rel=\"noreferrer noopener nofollow\"></a>',\n+    )\n     $avatarA.href = Utils.isValidURL(r.data.link) ? r.data.link : `https://${r.data.link}`\n     $avatarA.append($avatarImg)\n     $avatar.append($avatarA)"
    },
    {
      "sha": "38f73afa19276b5799fe1c2b1fa4aadffb2496ee",
      "filename": "ui/artalk/src/comment/renders/header.ts",
      "status": "modified",
      "additions": 10,
      "deletions": 3,
      "changes": 13,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Fheader.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Fheader.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Fheader.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,7 +7,10 @@ import type Render from '../render'\n  */\n export default function renderHeader(r: Render) {\n   Object.entries({\n-    renderNick, renderVerifyBadge, renderDate, renderUABadge\n+    renderNick,\n+    renderVerifyBadge,\n+    renderDate,\n+    renderUABadge,\n   }).forEach(([name, render]) => {\n     render(r)\n   })\n@@ -17,7 +20,9 @@ function renderNick(r: Render) {\n   r.$headerNick = r.$el.querySelector<HTMLElement>('.atk-nick')!\n \n   if (r.data.link) {\n-    const $nickA = Utils.createElement<HTMLLinkElement>('<a target=\"_blank\" rel=\"noreferrer noopener nofollow\"></a>')\n+    const $nickA = Utils.createElement<HTMLLinkElement>(\n+      '<a target=\"_blank\" rel=\"noreferrer noopener nofollow\"></a>',\n+    )\n     $nickA.innerText = r.data.nick\n     $nickA.href = Utils.isValidURL(r.data.link) ? r.data.link : `https://${r.data.link}`\n     r.$headerNick.append($nickA)\n@@ -38,7 +43,9 @@ function renderVerifyBadge(ctx: Render) {\n     $badge.style.backgroundColor = badgeColor || ''\n     ctx.$headerBadgeWrap.append($badge)\n   } else if (ctx.data.is_verified) {\n-    const $verifiedBadge = Utils.createElement(`<span class=\"atk-verified-icon\" title=\"${$t('emailVerified')}\"></span>`) // 邮箱验证徽章\n+    const $verifiedBadge = Utils.createElement(\n+      `<span class=\"atk-verified-icon\" title=\"${$t('emailVerified')}\"></span>`,\n+    ) // 邮箱验证徽章\n     ctx.$headerBadgeWrap.append($verifiedBadge)\n   }\n "
    },
    {
      "sha": "5647cc00d5a9d9d7a1af11381a54bf945be15df2",
      "filename": "ui/artalk/src/comment/renders/index.ts",
      "status": "modified",
      "additions": 8,
      "deletions": 3,
      "changes": 11,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,12 +8,17 @@ import Pending from './pending'\n import Actions from './actions'\n \n const Renders = {\n-  Avatar, Header, Content, ReplyAt,\n-  ReplyTo, Pending, Actions\n+  Avatar,\n+  Header,\n+  Content,\n+  ReplyAt,\n+  ReplyTo,\n+  Pending,\n+  Actions,\n }\n \n export default function loadRenders(r: Render) {\n-  Object.entries(Renders).forEach(([ name, render ]) => {\n+  Object.entries(Renders).forEach(([name, render]) => {\n     render(r)\n   })\n }"
    },
    {
      "sha": "94c332e8f3117872730f2744dd7e5999a204e5fa",
      "filename": "ui/artalk/src/comment/renders/reply-at.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Freply-at.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Freply-at.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Freply-at.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,9 +8,13 @@ export default function renderReplyAt(r: Render) {\n   if (r.opts.flatMode || r.data.rid === 0) return // not 平铺模式 或 根评论\n   if (!r.opts.replyTo) return\n \n-  r.$replyAt = Utils.createElement(`<span class=\"atk-item atk-reply-at\"><span class=\"atk-arrow\"></span><span class=\"atk-nick\"></span></span>`)\n+  r.$replyAt = Utils.createElement(\n+    `<span class=\"atk-item atk-reply-at\"><span class=\"atk-arrow\"></span><span class=\"atk-nick\"></span></span>`,\n+  )\n   r.$replyAt.querySelector<HTMLElement>('.atk-nick')!.innerText = `${r.opts.replyTo.nick}`\n-  r.$replyAt.onclick = () => { r.comment.getActions().goToReplyComment() }\n+  r.$replyAt.onclick = () => {\n+    r.comment.getActions().goToReplyComment()\n+  }\n \n   r.$headerBadgeWrap.insertAdjacentElement('afterend', r.$replyAt)\n }"
    },
    {
      "sha": "7c1c9b32fff6bf6704131fc27eb15ab923b08faf",
      "filename": "ui/artalk/src/comment/renders/reply-to.ts",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Freply-to.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Freply-to.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomment%2Frenders%2Freply-to.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -19,7 +19,9 @@ export default function renderReplyTo(r: Render) {\n   // Comment author name\n   const $nick = r.$replyTo.querySelector<HTMLElement>('.atk-nick')!\n   $nick.innerText = `@${r.opts.replyTo.nick}`\n-  $nick.onclick = () => { r.comment.getActions().goToReplyComment() }\n+  $nick.onclick = () => {\n+    r.comment.getActions().goToReplyComment()\n+  }\n \n   // Comment content\n   let replyContent = marked(r.opts.replyTo.content)"
    },
    {
      "sha": "61f05d6786e18e7d6f7d6398be21ccdc8d68da7a",
      "filename": "ui/artalk/src/components/action-btn.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Faction-btn.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Faction-btn.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Faction-btn.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -26,16 +26,18 @@ export default class ActionBtn {\n \n   public msgRecTimer?: number // 消息显示复原定时器\n   public msgRecTimerFunc?: Function // 消息显示复原操作\n-  public get isMessaging() { return !!this.msgRecTimer } // 消息正在显示\n+  public get isMessaging() {\n+    return !!this.msgRecTimer\n+  } // 消息正在显示\n \n   public isConfirming = false // 正在确认\n   public confirmRecTimer?: number // 确认消息复原定时器\n \n   /** 构造函数 */\n-  constructor(opts: ActionBtnOptions|string|(() => string)) {\n+  constructor(opts: ActionBtnOptions | string | (() => string)) {\n     this.$el = Utils.createElement(`<span class=\"atk-common-action-btn\"></span>`)\n \n-    this.opts = (typeof opts !== 'object') ? ({ text: opts }) : opts\n+    this.opts = typeof opts !== 'object' ? { text: opts } : opts\n     this.$el.innerText = this.getText()\n \n     // 仅管理员可操作\n@@ -50,7 +52,7 @@ export default class ActionBtn {\n \n   /** 获取按钮文字（动态/静态） */\n   private getText() {\n-    return (typeof this.opts.text === 'string') ? this.opts.text : this.opts.text()\n+    return typeof this.opts.text === 'string' ? this.opts.text : this.opts.text()\n   }\n \n   /** 设置点击事件 */"
    },
    {
      "sha": "0092010ce64ccba1e5d253243fe4d0d86258ac87",
      "filename": "ui/artalk/src/components/checker/admin.ts",
      "status": "modified",
      "additions": 9,
      "deletions": 7,
      "changes": 16,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fadmin.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fadmin.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fadmin.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,11 +6,13 @@ const AdminChecker: Checker<{ token: string }> = {\n   inputType: 'password',\n \n   async request(checker, inputVal) {\n-    return (await checker.getApi().user.login({\n-      name: checker.getUser().getData().nick,\n-      email: checker.getUser().getData().email,\n-      password: inputVal\n-    })).data\n+    return (\n+      await checker.getApi().user.login({\n+        name: checker.getUser().getData().nick,\n+        email: checker.getUser().getData().email,\n+        password: inputVal,\n+      })\n+    ).data\n   },\n \n   body(checker) {\n@@ -20,12 +22,12 @@ const AdminChecker: Checker<{ token: string }> = {\n   onSuccess(checker, res, inputVal, formEl) {\n     checker.getUser().update({\n       isAdmin: true,\n-      token: res.token\n+      token: res.token,\n     })\n     checker.getOpts().onReload()\n   },\n \n-  onError(checker, err, inputVal, formEl) {}\n+  onError(checker, err, inputVal, formEl) {},\n }\n \n export default AdminChecker"
    },
    {
      "sha": "987deb8efcbc2c4c9f5ca3014b405fba4d4603ca",
      "filename": "ui/artalk/src/components/checker/captcha-renders.ts",
      "status": "modified",
      "additions": 20,
      "deletions": 7,
      "changes": 27,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fcaptcha-renders.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fcaptcha-renders.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fcaptcha-renders.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,13 +7,15 @@ import type { CheckerCtx } from '.'\n export function imgBody(checker: CheckerCtx) {\n   // 图片验证方式\n   const elem = Utils.createElement(\n-    `<span><img class=\"atk-captcha-img\" src=\"${checker.get('img_data') || ''}\">${$t('captchaCheck')}</span>`\n-  );\n+    `<span><img class=\"atk-captcha-img\" src=\"${checker.get('img_data') || ''}\">${$t('captchaCheck')}</span>`,\n+  )\n \n   // 刷新验证码\n   elem.querySelector<HTMLElement>('.atk-captcha-img')!.onclick = () => {\n     const imgEl = elem.querySelector('.atk-captcha-img')\n-    checker.getApi().captcha.getCaptcha()\n+    checker\n+      .getApi()\n+      .captcha.getCaptcha()\n       .then((res) => {\n         imgEl!.setAttribute('src', res.data.img_data)\n       })\n@@ -27,7 +29,9 @@ export function imgBody(checker: CheckerCtx) {\n /** iframe 形式的通用验证服务 */\n export function iframeBody(checker: CheckerCtx) {\n   const $iframeWrap = Utils.createElement(`<div class=\"atk-checker-iframe-wrap\"></div>`)\n-  const $iframe = Utils.createElement<HTMLIFrameElement>(`<iframe class=\"atk-fade-in\" referrerpolicy=\"strict-origin-when-cross-origin\"></iframe>`)\n+  const $iframe = Utils.createElement<HTMLIFrameElement>(\n+    `<iframe class=\"atk-fade-in\" referrerpolicy=\"strict-origin-when-cross-origin\"></iframe>`,\n+  )\n   $iframe.style.display = 'none'\n   Ui.showLoading($iframeWrap, { transparentBg: true })\n   $iframe.src = checker.getOpts().getCaptchaIframeURL()\n@@ -37,22 +41,31 @@ export function iframeBody(checker: CheckerCtx) {\n   }\n   $iframeWrap.append($iframe)\n \n-  const $closeBtn = Utils.createElement(`<div class=\"atk-close-btn\"><i class=\"atk-icon atk-icon-close\"></i></div>`)\n+  const $closeBtn = Utils.createElement(\n+    `<div class=\"atk-close-btn\"><i class=\"atk-icon atk-icon-close\"></i></div>`,\n+  )\n   $iframeWrap.append($closeBtn)\n \n   checker.hideInteractInput()\n \n   // 轮询状态\n   let stop = false // 打断\n-  const sleep = (ms: number) => new Promise((resolve) => { window.setTimeout(() => { resolve(null) }, ms) })\n+  const sleep = (ms: number) =>\n+    new Promise((resolve) => {\n+      window.setTimeout(() => {\n+        resolve(null)\n+      }, ms)\n+    })\n   ;(async function queryStatus() {\n     await sleep(1000)\n     if (stop) return\n     let isPass = false\n     try {\n       const resp = await checker.getApi().captcha.getCaptchaStatus()\n       isPass = resp.data.is_pass\n-    } catch { isPass = false }\n+    } catch {\n+      isPass = false\n+    }\n     if (isPass) {\n       checker.triggerSuccess()\n     } else {"
    },
    {
      "sha": "4fc1314247ab5a34e03776b7c736ec94f962bd2a",
      "filename": "ui/artalk/src/components/checker/captcha.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 4,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fcaptcha.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fcaptcha.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Fcaptcha.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,11 +1,10 @@\n-\n import type { Checker } from '.'\n import * as render from './captcha-renders'\n \n const CaptchaChecker: Checker<{}> = {\n   request(checker, inputVal) {\n     return checker.getApi().captcha.verifyCaptcha({\n-      value: inputVal\n+      value: inputVal,\n     })\n   },\n \n@@ -21,8 +20,7 @@ const CaptchaChecker: Checker<{}> = {\n   onError(checker, err, inputVal, formEl) {\n     formEl.querySelector<HTMLElement>('.atk-captcha-img')!.click() // 刷新验证码\n     formEl.querySelector<HTMLInputElement>('input[type=\"text\"]')!.value = '' // 清空输入框输入\n-  }\n+  },\n }\n \n export default CaptchaChecker\n-"
    },
    {
      "sha": "33e6ea217b7d3282e5979e583740b2bce9e4c679",
      "filename": "ui/artalk/src/components/checker/index.ts",
      "status": "modified",
      "additions": 27,
      "deletions": 27,
      "changes": 54,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Fchecker%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -26,35 +26,36 @@ export interface CheckerLauncherOptions {\n }\n \n function wrapPromise<P extends CheckerPayload = CheckerPayload>(fn: (p: P) => void) {\n-  return (payload: P) => new Promise<void>((resolve, reject) => {\n-    const cancelFn = payload.onCancel\n-    payload.onCancel = () => {\n-      cancelFn && cancelFn()\n-      reject(new Error('user canceled the checker'))\n-    }\n-    const successFn = payload.onSuccess\n-    payload.onSuccess = () => {\n-      successFn && successFn()\n-      resolve()\n-    }\n-    fn(payload)\n-  })\n+  return (payload: P) =>\n+    new Promise<void>((resolve, reject) => {\n+      const cancelFn = payload.onCancel\n+      payload.onCancel = () => {\n+        cancelFn && cancelFn()\n+        reject(new Error('user canceled the checker'))\n+      }\n+      const successFn = payload.onSuccess\n+      payload.onSuccess = () => {\n+        successFn && successFn()\n+        resolve()\n+      }\n+      fn(payload)\n+    })\n }\n \n /**\n  * Checker 发射台\n  */\n export default class CheckerLauncher {\n-  constructor(private opts: CheckerLauncherOptions) { }\n+  constructor(private opts: CheckerLauncherOptions) {}\n \n-  public checkCaptcha: ((payload: CheckerCaptchaPayload) => Promise<void>) = wrapPromise((p) => {\n+  public checkCaptcha: (payload: CheckerCaptchaPayload) => Promise<void> = wrapPromise((p) => {\n     this.fire(CaptchaChecker, p, (ctx) => {\n       ctx.set('img_data', p.img_data)\n       ctx.set('iframe', p.iframe)\n     })\n   })\n \n-  public checkAdmin: ((payload: CheckerPayload) => Promise<void>) = wrapPromise((p) => {\n+  public checkAdmin: (payload: CheckerPayload) => Promise<void> = wrapPromise((p) => {\n     this.fire(AdminChecker, p)\n   })\n \n@@ -71,23 +72,25 @@ export default class CheckerLauncher {\n     const checkerStore: CheckerStore = {}\n     let hideInteractInput = false\n     const checkerCtx: CheckerCtx = {\n-      set: (key, val) => { checkerStore[key] = val },\n-      get: (key) => (checkerStore[key]),\n-      getOpts: () => (this.opts),\n-      getUser: () => (this.opts.getCtx().get('user')),\n+      set: (key, val) => {\n+        checkerStore[key] = val\n+      },\n+      get: (key) => checkerStore[key],\n+      getOpts: () => this.opts,\n+      getUser: () => this.opts.getCtx().get('user'),\n       getApi: () => this.opts.getApi(),\n       hideInteractInput: () => {\n         hideInteractInput = true\n       },\n       triggerSuccess: () => {\n         close()\n-        if (checker.onSuccess) checker.onSuccess(checkerCtx, \"\", \"\", formEl)\n+        if (checker.onSuccess) checker.onSuccess(checkerCtx, '', '', formEl)\n         if (payload.onSuccess) payload.onSuccess()\n       },\n       cancel: () => {\n         close()\n         if (payload.onCancel) payload.onCancel()\n-      }\n+      },\n     }\n \n     if (postFire) postFire(checkerCtx)\n@@ -98,7 +101,7 @@ export default class CheckerLauncher {\n \n     // 输入框\n     const $input = Utils.createElement<HTMLInputElement>(\n-      `<input id=\"check\" type=\"${checker.inputType || 'text'}\" autocomplete=\"off\" required placeholder=\"\">`\n+      `<input id=\"check\" type=\"${checker.inputType || 'text'}\" autocomplete=\"off\" required placeholder=\"\">`,\n     )\n     formEl.appendChild($input)\n     setTimeout(() => $input.focus(), 80) // 延迟 Focus\n@@ -108,10 +111,7 @@ export default class CheckerLauncher {\n       if (evt.key === 'Enter' || evt.keyCode === 13) {\n         // 按下回车键\n         evt.preventDefault()\n-        layer\n-          .getEl()\n-          .querySelector<HTMLButtonElement>('button[data-action=\"confirm\"]')!\n-          .click()\n+        layer.getEl().querySelector<HTMLButtonElement>('button[data-action=\"confirm\"]')!.click()\n       }\n     }\n "
    },
    {
      "sha": "c5c166a117b9269878e3c2766ea57432a65ef604",
      "filename": "ui/artalk/src/components/dialog.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 5,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fdialog.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fdialog.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Fdialog.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,7 +1,7 @@\n import $t from '@/i18n'\n import * as Utils from '../lib/utils'\n \n-type BtnClickHandler = (btnEl: HTMLElement, dialog: Dialog) => boolean|void\n+type BtnClickHandler = (btnEl: HTMLElement, dialog: Dialog) => boolean | void\n \n /**\n  * 对话框\n@@ -11,14 +11,14 @@ export default class Dialog {\n   public $content: HTMLElement\n   public $actions: HTMLElement\n \n-  constructor (contentEl: HTMLElement) {\n+  constructor(contentEl: HTMLElement) {\n     this.$el = Utils.createElement(\n       `<div class=\"atk-layer-dialog-wrap\">\n         <div class=\"atk-layer-dialog\">\n           <div class=\"atk-layer-dialog-content\"></div>\n           <div class=\"atk-layer-dialog-actions\"></div>\n         </div>\n-      </div>`\n+      </div>`,\n     )\n \n     // 按钮\n@@ -32,7 +32,7 @@ export default class Dialog {\n   /** 按钮 · 确定 */\n   public setYes(handler: BtnClickHandler) {\n     const btn = Utils.createElement<HTMLButtonElement>(\n-      `<button data-action=\"confirm\">${$t('confirm')}</button>`\n+      `<button data-action=\"confirm\">${$t('confirm')}</button>`,\n     )\n     btn.onclick = this.onBtnClick(handler)\n     this.$actions.appendChild(btn)\n@@ -43,7 +43,7 @@ export default class Dialog {\n   /** 按钮 · 取消 */\n   public setNo(handler: BtnClickHandler) {\n     const btn = Utils.createElement<HTMLButtonElement>(\n-      `<button data-action=\"cancel\">${$t('cancel')}</button>`\n+      `<button data-action=\"cancel\">${$t('cancel')}</button>`,\n     )\n     btn.onclick = this.onBtnClick(handler)\n     this.$actions.appendChild(btn)"
    },
    {
      "sha": "61a45d6eb55d6a084ef38f8667bcde19494449aa",
      "filename": "ui/artalk/src/components/error-dialog.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Ferror-dialog.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Ferror-dialog.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Ferror-dialog.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,7 +14,8 @@ export interface ErrorDialogOptions {\n \n export function showErrorDialog(opts: ErrorDialogOptions) {\n   const errEl = Utils.createElement(`<span><span class=\"error-message\"></span><br/><br/></span>`)\n-  errEl.querySelector<HTMLElement>('.error-message')!.innerText = `${$t('listLoadFailMsg')}\\n${opts.errMsg}`\n+  errEl.querySelector<HTMLElement>('.error-message')!.innerText =\n+    `${$t('listLoadFailMsg')}\\n${opts.errMsg}`\n \n   if (opts.retryFn) {\n     const $retryBtn = Utils.createElement(`<span style=\"cursor:pointer;\">${$t('listRetry')}</span>`)\n@@ -23,7 +24,9 @@ export function showErrorDialog(opts: ErrorDialogOptions) {\n   }\n \n   if (opts.onOpenSidebar) {\n-    const $openSidebar = Utils.createElement(`<span atk-only-admin-show> | <span style=\"cursor:pointer;\">${$t('openName', { name: $t('ctrlCenter') })}</span></span>`)\n+    const $openSidebar = Utils.createElement(\n+      `<span atk-only-admin-show> | <span style=\"cursor:pointer;\">${$t('openName', { name: $t('ctrlCenter') })}</span></span>`,\n+    )\n     errEl.appendChild($openSidebar)\n     $openSidebar.onclick = () => opts.onOpenSidebar && opts.onOpenSidebar()\n   }"
    },
    {
      "sha": "fcb6127d3cf3e6b4a8d5b752b01d6b4b2193065a",
      "filename": "ui/artalk/src/components/pagination.ts",
      "status": "modified",
      "additions": 32,
      "deletions": 11,
      "changes": 43,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fpagination.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fpagination.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Fpagination.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -44,7 +44,8 @@ export default class Pagination {\n             <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 512 512\" height=\"14px\" width=\"14px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z\"></path></svg>\n           </div>\n         </div>\n-      </div>`)\n+      </div>`,\n+    )\n     this.$input = this.$el.querySelector('.atk-input')!\n     this.$input.value = `${this.page}`\n \n@@ -78,11 +79,23 @@ export default class Pagination {\n     const value = this.$input.value.trim()\n \n     const modify = () => {\n-      if (value === '') { this.setInput(this.page);return }\n+      if (value === '') {\n+        this.setInput(this.page)\n+        return\n+      }\n       let page = Number(value)\n-      if (Number.isNaN(page)) { this.setInput(this.page);return }\n-      if (page < 1) { this.setInput(this.page);return }\n-      if (page > this.maxPage) { this.setInput(this.maxPage);page = this.maxPage }\n+      if (Number.isNaN(page)) {\n+        this.setInput(this.page)\n+        return\n+      }\n+      if (page < 1) {\n+        this.setInput(this.page)\n+        return\n+      }\n+      if (page > this.maxPage) {\n+        this.setInput(this.maxPage)\n+        page = this.maxPage\n+      }\n       this.change(page)\n     }\n \n@@ -93,13 +106,17 @@ export default class Pagination {\n \n   public prev() {\n     const page = this.page - 1\n-    if (page < 1) { return }\n+    if (page < 1) {\n+      return\n+    }\n     this.change(page)\n   }\n \n   public next() {\n     const page = this.page + 1\n-    if (page > this.maxPage) { return }\n+    if (page > this.maxPage) {\n+      return\n+    }\n     this.change(page)\n   }\n \n@@ -134,13 +151,17 @@ export default class Pagination {\n     if (keyCode === 38) {\n       // 上键\n       const page = Number(this.$input.value) + 1\n-      if (page > this.maxPage) { return }\n-      this.setInput(page);\n+      if (page > this.maxPage) {\n+        return\n+      }\n+      this.setInput(page)\n       this.input()\n     } else if (keyCode === 40) {\n       // 下键\n       const page = Number(this.$input.value) - 1\n-      if (page < 1) { return }\n+      if (page < 1) {\n+        return\n+      }\n       this.setInput(page)\n       this.input()\n     } else if (keyCode === 13) {\n@@ -150,7 +171,7 @@ export default class Pagination {\n   }\n \n   /** 加载 */\n-  setLoading (isLoading: boolean) {\n+  setLoading(isLoading: boolean) {\n     if (isLoading) Ui.showLoading(this.$el)\n     else Ui.hideLoading(this.$el)\n   }"
    },
    {
      "sha": "5324da4a73a01e1e31fae11003dc8a8bc2831dca",
      "filename": "ui/artalk/src/components/read-more-btn.ts",
      "status": "modified",
      "additions": 8,
      "deletions": 5,
      "changes": 13,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fread-more-btn.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcomponents%2Fread-more-btn.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcomponents%2Fread-more-btn.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -23,25 +23,28 @@ export default class ReadMoreBtn {\n \n   /** 是否有更多内容 */\n   get hasMore() {\n-    return this.total > (this.offset + this.opts.pageSize)\n+    return this.total > this.offset + this.opts.pageSize\n   }\n \n   public constructor(opts: ReadMoreBtnOptions) {\n     this.opts = opts\n     this.origText = this.opts.text || this.origText\n \n     this.$el = Utils.createElement(\n-    `<div class=\"atk-list-read-more\" style=\"display: none;\">\n+      `<div class=\"atk-list-read-more\" style=\"display: none;\">\n       <div class=\"atk-list-read-more-inner\">\n         <div class=\"atk-loading-icon\" style=\"display: none;\"></div>\n         <span class=\"atk-text\">${this.origText}</span>\n       </div>\n-    </div>`)\n+    </div>`,\n+    )\n \n     this.$loading = this.$el.querySelector<HTMLElement>('.atk-loading-icon')!\n     this.$text = this.$el.querySelector<HTMLElement>('.atk-text')!\n \n-    this.$el.onclick = () => { this.click() }\n+    this.$el.onclick = () => {\n+      this.click()\n+    }\n   }\n \n   click() {\n@@ -60,7 +63,7 @@ export default class ReadMoreBtn {\n   }\n \n   /** 加载 */\n-  setLoading (isLoading: boolean) {\n+  setLoading(isLoading: boolean) {\n     this.$loading.style.display = isLoading ? '' : 'none'\n     this.$text.style.display = isLoading ? 'none' : ''\n   }"
    },
    {
      "sha": "1f7c0c8427a7a1efa847da90b1bf6c9cafd42b3d",
      "filename": "ui/artalk/src/config.ts",
      "status": "modified",
      "additions": 26,
      "deletions": 22,
      "changes": 48,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fconfig.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fconfig.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fconfig.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -12,7 +12,10 @@ import Defaults from './defaults'\n  * @returns The config for Artalk instance creation\n  */\n export function handelCustomConf(customConf: Partial<ArtalkConfig>, full: true): ArtalkConfig\n-export function handelCustomConf(customConf: Partial<ArtalkConfig>, full?: false): Partial<ArtalkConfig>\n+export function handelCustomConf(\n+  customConf: Partial<ArtalkConfig>,\n+  full?: false,\n+): Partial<ArtalkConfig>\n export function handelCustomConf(customConf: Partial<ArtalkConfig>, full = false) {\n   // 合并默认配置\n   const conf: Partial<ArtalkConfig> = full ? mergeDeep(Defaults, customConf) : customConf\n@@ -30,28 +33,22 @@ export function handelCustomConf(customConf: Partial<ArtalkConfig>, full = false\n   }\n \n   // 默认 pageKey\n-  if (conf.pageKey === '')\n-    conf.pageKey = `${window.location.pathname}` // @link http://bl.ocks.org/abernier/3070589\n+  if (conf.pageKey === '') conf.pageKey = `${window.location.pathname}` // @link http://bl.ocks.org/abernier/3070589\n \n   // 默认 pageTitle\n-  if (conf.pageTitle === '')\n-    conf.pageTitle = `${document.title}`\n+  if (conf.pageTitle === '') conf.pageTitle = `${document.title}`\n \n   // 服务器配置\n-  if (conf.server)\n-    conf.server = conf.server.replace(/\\/$/, '').replace(/\\/api\\/?$/, '')\n+  if (conf.server) conf.server = conf.server.replace(/\\/$/, '').replace(/\\/api\\/?$/, '')\n \n   // 自适应语言\n-  if (conf.locale === 'auto')\n-    conf.locale = navigator.language\n+  if (conf.locale === 'auto') conf.locale = navigator.language\n \n   // 自动判断启用平铺模式\n-  if (conf.flatMode === 'auto')\n-    conf.flatMode = window.matchMedia(\"(max-width: 768px)\").matches\n+  if (conf.flatMode === 'auto') conf.flatMode = window.matchMedia('(max-width: 768px)').matches\n \n   // flatMode\n-  if (typeof conf.nestMax === 'number' && Number(conf.nestMax) <= 1)\n-    conf.flatMode = true\n+  if (typeof conf.nestMax === 'number' && Number(conf.nestMax) <= 1) conf.flatMode = true\n \n   return conf\n }\n@@ -64,18 +61,23 @@ export function handelCustomConf(customConf: Partial<ArtalkConfig>, full = false\n  */\n export function handleConfFormServer(conf: Partial<ArtalkConfig>) {\n   const DisabledKeys: (keyof ArtalkConfig)[] = [\n-    'el', 'pageKey', 'pageTitle', 'server', 'site', 'darkMode'\n+    'el',\n+    'pageKey',\n+    'pageTitle',\n+    'server',\n+    'site',\n+    'darkMode',\n   ]\n-  Object.keys(conf).forEach(k => {\n+  Object.keys(conf).forEach((k) => {\n     if (DisabledKeys.includes(k as any)) delete conf[k]\n   })\n \n   // Patch: `emoticons` config string to json\n-  if (conf.emoticons && typeof conf.emoticons === \"string\") {\n+  if (conf.emoticons && typeof conf.emoticons === 'string') {\n     conf.emoticons = conf.emoticons.trim()\n-    if (conf.emoticons.startsWith(\"[\") || conf.emoticons.startsWith(\"{\")) {\n+    if (conf.emoticons.startsWith('[') || conf.emoticons.startsWith('{')) {\n       conf.emoticons = JSON.parse(conf.emoticons) // parse json\n-    } else if (conf.emoticons === \"false\") {\n+    } else if (conf.emoticons === 'false') {\n       conf.emoticons = false\n     }\n   }\n@@ -98,10 +100,12 @@ export function convertApiOptions(conf: Partial<ArtalkConfig>, ctx?: ContextApi)\n     pageTitle: conf.pageTitle || '',\n     timeout: conf.reqTimeout,\n     getApiToken: () => ctx?.get('user').getData().token,\n-    userInfo: ctx?.get('user').checkHasBasicUserInfo() ? {\n-      name: ctx?.get('user').getData().nick,\n-      email: ctx?.get('user').getData().email,\n-    } : undefined,\n+    userInfo: ctx?.get('user').checkHasBasicUserInfo()\n+      ? {\n+          name: ctx?.get('user').getData().nick,\n+          email: ctx?.get('user').getData().email,\n+        }\n+      : undefined,\n     handlers: ctx?.getApiHandlers(),\n   }\n }"
    },
    {
      "sha": "02bdbd78145eb26856d45182d1dff9640d677632",
      "filename": "ui/artalk/src/context.ts",
      "status": "modified",
      "additions": 16,
      "deletions": 6,
      "changes": 22,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcontext.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fcontext.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fcontext.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,4 +1,11 @@\n-import type { ArtalkConfig, CommentData, ListFetchParams, ContextApi, EventPayloadMap, SidebarShowPayload } from '@/types'\n+import type {\n+  ArtalkConfig,\n+  CommentData,\n+  ListFetchParams,\n+  ContextApi,\n+  EventPayloadMap,\n+  SidebarShowPayload,\n+} from '@/types'\n import type { TInjectedServices } from './service'\n import { Api, ApiHandlers } from './api'\n \n@@ -14,7 +21,7 @@ import { convertApiOptions, createNewApiHandlers, handelCustomConf } from './con\n import { watchConf } from './lib/watch-conf'\n \n // Auto dependency injection\n-interface Context extends TInjectedServices { }\n+interface Context extends TInjectedServices {}\n \n /**\n  * Artalk Context\n@@ -55,7 +62,7 @@ class Context implements ContextApi {\n     return new Api(convertApiOptions(this.conf, this))\n   }\n \n-  private apiHandlers = <ApiHandlers|null> null\n+  private apiHandlers = <ApiHandlers | null>null\n   getApiHandlers() {\n     if (!this.apiHandlers) this.apiHandlers = createNewApiHandlers(this)\n     return this.apiHandlers\n@@ -146,11 +153,11 @@ class Context implements ContextApi {\n   }\n \n   /* i18n */\n-  $t(key: I18n.I18nKeys, args: {[key: string]: string} = {}): string {\n+  $t(key: I18n.I18nKeys, args: { [key: string]: string } = {}): string {\n     return I18n.t(key, args)\n   }\n \n-  setDarkMode(darkMode: boolean|'auto'): void {\n+  setDarkMode(darkMode: boolean | 'auto'): void {\n     this.updateConf({ darkMode })\n   }\n \n@@ -171,7 +178,10 @@ class Context implements ContextApi {\n     return marked.getInstance()\n   }\n \n-  watchConf<T extends (keyof ArtalkConfig)[]>(keys: T, effect: (conf: Pick<ArtalkConfig, T[number]>) => void): void {\n+  watchConf<T extends (keyof ArtalkConfig)[]>(\n+    keys: T,\n+    effect: (conf: Pick<ArtalkConfig, T[number]>) => void,\n+  ): void {\n     watchConf(this, keys, effect)\n   }\n }"
    },
    {
      "sha": "4b378648fb902821102daf193a99cc6d2e1dbd14",
      "filename": "ui/artalk/src/data.ts",
      "status": "modified",
      "additions": 14,
      "deletions": 8,
      "changes": 22,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fdata.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fdata.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fdata.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,4 +1,12 @@\n-import type { NotifyData, PageData, CommentData, DataManagerApi, ListFetchParams, ListLastFetchData, EventPayloadMap } from '@/types'\n+import type {\n+  NotifyData,\n+  PageData,\n+  CommentData,\n+  DataManagerApi,\n+  ListFetchParams,\n+  ListLastFetchData,\n+  EventPayloadMap,\n+} from '@/types'\n import EventManager from './lib/event-manager'\n \n export class DataManager implements DataManagerApi {\n@@ -8,9 +16,7 @@ export class DataManager implements DataManagerApi {\n   private notifies: NotifyData[] = []\n   private page?: PageData\n \n-  constructor(\n-    protected events: EventManager<EventPayloadMap>\n-  ) {}\n+  constructor(protected events: EventManager<EventPayloadMap>) {}\n \n   getLoading() {\n     return this.loading\n@@ -40,7 +46,7 @@ export class DataManager implements DataManagerApi {\n   }\n \n   findComment(id: number) {\n-    return this.comments.find(c => c.id === id)\n+    return this.comments.find((c) => c.id === id)\n   }\n \n   clearComments() {\n@@ -64,7 +70,7 @@ export class DataManager implements DataManagerApi {\n   }\n \n   updateComment(comment: CommentData) {\n-    this.comments = this.comments.map(c => {\n+    this.comments = this.comments.map((c) => {\n       if (c.id === comment.id) return comment\n       return c\n     })\n@@ -74,9 +80,9 @@ export class DataManager implements DataManagerApi {\n   }\n \n   deleteComment(id: number) {\n-    const comment = this.comments.find(c => c.id === id)\n+    const comment = this.comments.find((c) => c.id === id)\n     if (!comment) throw new Error(`Comment ${id} not found`)\n-    this.comments = this.comments.filter(c => c.id !== id)\n+    this.comments = this.comments.filter((c) => c.id !== id)\n \n     this.events.trigger('comment-deleted', comment)\n     this.events.trigger('list-loaded', this.comments)"
    },
    {
      "sha": "9f15170ed2e769104716c852c6197b4041b84b18",
      "filename": "ui/artalk/src/defaults.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fdefaults.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fdefaults.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fdefaults.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,7 +17,7 @@ const defaults: ArtalkConfig = {\n   nestMax: 2,\n   nestSort: 'DATE_ASC',\n \n-  emoticons: \"https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\",\n+  emoticons: 'https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json',\n \n   vote: true,\n   voteDown: false,"
    },
    {
      "sha": "9f76741824f282ac5501867ca95650113296060d",
      "filename": "ui/artalk/src/editor/editor.html",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Feditor%2Feditor.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Feditor%2Feditor.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Feditor%2Feditor.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,13 +1,13 @@\n <div class=\"atk-main-editor\">\n   <div class=\"atk-header\">\n-    <input name=\"nick\" class=\"atk-nick\" type=\"text\" required=\"required\">\n-    <input name=\"email\" class=\"atk-email\" type=\"email\" required=\"required\">\n-    <input name=\"link\" class=\"atk-link\" type=\"url\">\n+    <input name=\"nick\" class=\"atk-nick\" type=\"text\" required=\"required\" />\n+    <input name=\"email\" class=\"atk-email\" type=\"email\" required=\"required\" />\n+    <input name=\"link\" class=\"atk-link\" type=\"url\" />\n   </div>\n   <div class=\"atk-textarea-wrap\">\n     <textarea class=\"atk-textarea\"></textarea>\n   </div>\n-  <div class=\"atk-plug-panel-wrap\" style=\"display: none;\"></div>\n+  <div class=\"atk-plug-panel-wrap\" style=\"display: none\"></div>\n   <div class=\"atk-bottom\">\n     <div class=\"atk-item atk-bottom-left\">\n       <span class=\"atk-state-wrap\"></span>"
    },
    {
      "sha": "bee35313b54f92113f088b5ffa894a79331ba74d",
      "filename": "ui/artalk/src/editor/editor.ts",
      "status": "modified",
      "additions": 16,
      "deletions": 6,
      "changes": 22,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Feditor%2Feditor.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Feditor%2Feditor.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Feditor%2Feditor.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,9 +9,15 @@ class Editor extends Component implements EditorApi {\n   private ui: EditorUI\n   private state: EditorStateManager\n \n-  getUI() { return this.ui }\n-  getPlugs() { return this.ctx.get('editorPlugs') }\n-  getState() { return this.state.get() }\n+  getUI() {\n+    return this.ui\n+  }\n+  getPlugs() {\n+    return this.ctx.get('editorPlugs')\n+  }\n+  getState() {\n+    return this.state.get()\n+  }\n \n   constructor(ctx: ContextApi) {\n     super(ctx)\n@@ -55,14 +61,18 @@ class Editor extends Component implements EditorApi {\n \n   insertContent(val: string) {\n     if ((document as any).selection) {\n-      this.ui.$textarea.focus();\n-      (document as any).selection.createRange().text = val\n+      this.ui.$textarea.focus()\n+      ;(document as any).selection.createRange().text = val\n       this.ui.$textarea.focus()\n     } else if (this.ui.$textarea.selectionStart || this.ui.$textarea.selectionStart === 0) {\n       const sStart = this.ui.$textarea.selectionStart\n       const sEnd = this.ui.$textarea.selectionEnd\n       const sT = this.ui.$textarea.scrollTop\n-      this.setContent(this.ui.$textarea.value.substring(0, sStart) + val + this.ui.$textarea.value.substring(sEnd, this.ui.$textarea.value.length))\n+      this.setContent(\n+        this.ui.$textarea.value.substring(0, sStart) +\n+          val +\n+          this.ui.$textarea.value.substring(sEnd, this.ui.$textarea.value.length),\n+      )\n       this.ui.$textarea.focus()\n       this.ui.$textarea.selectionStart = sStart + val.length\n       this.ui.$textarea.selectionEnd = sStart + val.length"
    },
    {
      "sha": "d3330000e9b129f78fa3282c3a0da4997392ffc7",
      "filename": "ui/artalk/src/editor/state.ts",
      "status": "modified",
      "additions": 10,
      "deletions": 5,
      "changes": 15,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Feditor%2Fstate.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Feditor%2Fstate.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Feditor%2Fstate.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,7 +7,7 @@ export default class EditorStateManager {\n   constructor(private editor: Editor) {}\n \n   private stateCurt: EditorState = 'normal'\n-  private stateUnmountFn: (() => void)|null = null\n+  private stateUnmountFn: (() => void) | null = null\n \n   /** Get current state */\n   get() {\n@@ -20,7 +20,7 @@ export default class EditorStateManager {\n    * @param state The state to switch\n    * @param payload The cause of state switch\n    */\n-  switch(state: EditorState, payload?: { $comment: HTMLElement, comment: CommentData }) {\n+  switch(state: EditorState, payload?: { $comment: HTMLElement; comment: CommentData }) {\n     // trigger unmount\n     if (this.stateUnmountFn) {\n       this.stateUnmountFn()\n@@ -34,13 +34,18 @@ export default class EditorStateManager {\n     if (state !== 'normal' && payload) {\n       // move editor position\n       let moveAfterEl = payload.$comment\n-      if (!this.editor.conf.flatMode) moveAfterEl = moveAfterEl.querySelector<HTMLElement>('.atk-footer')!\n+      if (!this.editor.conf.flatMode)\n+        moveAfterEl = moveAfterEl.querySelector<HTMLElement>('.atk-footer')!\n       this.editor.getPlugs()?.get(Mover)?.move(moveAfterEl)\n \n-      const $relative = this.editor.ctx.conf.scrollRelativeTo && this.editor.ctx.conf.scrollRelativeTo()\n+      const $relative =\n+        this.editor.ctx.conf.scrollRelativeTo && this.editor.ctx.conf.scrollRelativeTo()\n       Ui.scrollIntoView(this.editor.getUI().$el, true, $relative)\n \n-      const plugin = this.editor.getPlugs()?.getPlugs().find(p => p.editorStateEffectWhen === state)\n+      const plugin = this.editor\n+        .getPlugs()\n+        ?.getPlugs()\n+        .find((p) => p.editorStateEffectWhen === state)\n       if (plugin && plugin.editorStateEffect) {\n         this.stateUnmountFn = plugin.editorStateEffect(payload.comment)\n       }"
    },
    {
      "sha": "c6520114bb8e428a10f5e65d4f4f1bd8365d29f7",
      "filename": "ui/artalk/src/i18n/external.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fi18n%2Fexternal.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fi18n%2Fexternal.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fi18n%2Fexternal.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,10 +1,13 @@\n import type { I18n } from '.'\n \n-export const GLOBAL_LOCALES_KEY = \"ArtalkI18n\"\n+export const GLOBAL_LOCALES_KEY = 'ArtalkI18n'\n \n export function defineLocaleExternal(lang: string, locale: I18n, aliases?: string[]) {\n   if (!window[GLOBAL_LOCALES_KEY]) window[GLOBAL_LOCALES_KEY] = {}\n   window[GLOBAL_LOCALES_KEY][lang] = locale\n-  if (aliases) aliases.forEach(l => { window[GLOBAL_LOCALES_KEY][l] = locale })\n+  if (aliases)\n+    aliases.forEach((l) => {\n+      window[GLOBAL_LOCALES_KEY][l] = locale\n+    })\n   return locale\n }"
    },
    {
      "sha": "f5a33a3ab502570e51f05739aec087c24a3da1ef",
      "filename": "ui/artalk/src/i18n/index.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fi18n%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fi18n%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fi18n%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,7 +9,7 @@ export type * from './en'\n // https://en.wikipedia.org/wiki/ISO_639\n // https://datatracker.ietf.org/doc/html/rfc5646#section-2.1\n export const internal = {\n-  'en': en,\n+  en,\n   'en-US': en,\n   'zh-CN': zhCN,\n }\n@@ -21,7 +21,7 @@ export function findLocaleSet(lang: string): I18n {\n   // normalize a key of language to `ISO 639`\n   lang = lang.replace(\n     /^([a-zA-Z]+)(-[a-zA-Z]+)?$/,\n-    (_, p1: string, p2: string) => (p1.toLowerCase() + (p2 || '').toUpperCase())\n+    (_, p1: string, p2: string) => p1.toLowerCase() + (p2 || '').toUpperCase(),\n   )\n \n   // internal finding\n@@ -42,22 +42,22 @@ export function findLocaleSet(lang: string): I18n {\n /**\n  * System locale setting\n  */\n-let LocaleConf: I18n|string = 'en'\n+let LocaleConf: I18n | string = 'en'\n let LocaleDict: I18n = findLocaleSet(LocaleConf) // en by default\n \n /**\n  * Set system locale\n  */\n-export function setLocale(locale: I18n|string) {\n+export function setLocale(locale: I18n | string) {\n   if (locale === LocaleConf) return\n   LocaleConf = locale\n-  LocaleDict = (typeof locale === 'string') ? findLocaleSet(locale) : locale\n+  LocaleDict = typeof locale === 'string' ? findLocaleSet(locale) : locale\n }\n \n /**\n  * Get an i18n message by key\n  */\n-export function t(key: I18nKeys, args: {[key: string]: string} = {}) {\n+export function t(key: I18nKeys, args: { [key: string]: string } = {}) {\n   let str = LocaleDict?.[key] || key\n   str = str.replace(/\\{\\s*(\\w+?)\\s*\\}/g, (_, token) => args[token] || '')\n "
    },
    {
      "sha": "aeba9984dbfa7b224633aec4e715d730a13fe062",
      "filename": "ui/artalk/src/i18n/jp.ts",
      "status": "modified",
      "additions": 85,
      "deletions": 81,
      "changes": 166,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fi18n%2Fjp.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fi18n%2Fjp.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fi18n%2Fjp.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,89 +1,93 @@\n import { defineLocaleExternal } from './external'\n \n-export default defineLocaleExternal('jp', {\n-  /* Editor */\n-  placeholder: '内容を入力してください...',\n-  noComment: 'コメントなし',\n-  send: 'コメントを送信',\n-  save: 'コメントを保存',\n-  nick: 'ニックネーム',\n-  email: 'Eメール',\n-  link: 'ウェブサイト',\n-  emoticon: '絵文字',\n-  preview: 'プレビュー',\n-  uploadImage: '画像をアップロード',\n-  uploadFail: 'アップロードに失敗しました',\n-  commentFail: 'コメントに失敗しました',\n-  restoredMsg: '内容が自動的に復元されました',\n-  onlyAdminCanReply: '管理者のみがコメントできます',\n-  uploadLoginMsg: '名前とメールアドレスを入力してからアップロードしてください',\n+export default defineLocaleExternal(\n+  'jp',\n+  {\n+    /* Editor */\n+    placeholder: '内容を入力してください...',\n+    noComment: 'コメントなし',\n+    send: 'コメントを送信',\n+    save: 'コメントを保存',\n+    nick: 'ニックネーム',\n+    email: 'Eメール',\n+    link: 'ウェブサイト',\n+    emoticon: '絵文字',\n+    preview: 'プレビュー',\n+    uploadImage: '画像をアップロード',\n+    uploadFail: 'アップロードに失敗しました',\n+    commentFail: 'コメントに失敗しました',\n+    restoredMsg: '内容が自動的に復元されました',\n+    onlyAdminCanReply: '管理者のみがコメントできます',\n+    uploadLoginMsg: '名前とメールアドレスを入力してからアップロードしてください',\n \n-  /* List */\n-  counter: '{count}件のコメント',\n-  sortLatest: '最新',\n-  sortOldest: '最古',\n-  sortBest: '人気',\n-  sortAuthor: '著者',\n-  openComment: 'コメントを表示',\n-  closeComment: 'コメントを非表示',\n-  listLoadFailMsg: 'コメントリストのデータを取得できません',\n-  listRetry: '再試行するにはクリック',\n-  loadMore: 'もっと読み込む',\n+    /* List */\n+    counter: '{count}件のコメント',\n+    sortLatest: '最新',\n+    sortOldest: '最古',\n+    sortBest: '人気',\n+    sortAuthor: '著者',\n+    openComment: 'コメントを表示',\n+    closeComment: 'コメントを非表示',\n+    listLoadFailMsg: 'コメントリストのデータを取得できません',\n+    listRetry: '再試行するにはクリック',\n+    loadMore: 'もっと読み込む',\n \n-  /* Comment */\n-  admin: '管理者',\n-  reply: '返信',\n-  voteUp: '賛成',\n-  voteDown: '反対',\n-  voteFail: '投票に失敗しました',\n-  readMore: '続きを読む',\n-  actionConfirm: '操作を確認',\n-  collapse: '折り畳む',\n-  collapsed: '折りたたまれた',\n-  collapsedMsg: 'このコメントはシステムまたは管理者によって折りたたまれました',\n-  expand: '展開',\n-  approved: '承認済み',\n-  pending: '保留中',\n-  pendingMsg: '審査中、自分自身のみが表示できます。',\n-  edit: '編集',\n-  editCancel: '編集をキャンセル',\n-  delete: '削除',\n-  deleteConfirm: '削除を確認',\n-  pin: 'ピン留め',\n-  unpin: 'ピン留めを解除',\n+    /* Comment */\n+    admin: '管理者',\n+    reply: '返信',\n+    voteUp: '賛成',\n+    voteDown: '反対',\n+    voteFail: '投票に失敗しました',\n+    readMore: '続きを読む',\n+    actionConfirm: '操作を確認',\n+    collapse: '折り畳む',\n+    collapsed: '折りたたまれた',\n+    collapsedMsg: 'このコメントはシステムまたは管理者によって折りたたまれました',\n+    expand: '展開',\n+    approved: '承認済み',\n+    pending: '保留中',\n+    pendingMsg: '審査中、自分自身のみが表示できます。',\n+    edit: '編集',\n+    editCancel: '編集をキャンセル',\n+    delete: '削除',\n+    deleteConfirm: '削除を確認',\n+    pin: 'ピン留め',\n+    unpin: 'ピン留めを解除',\n \n-  /* Time */\n-  seconds: '秒前',\n-  minutes: '分前',\n-  hours: '時間前',\n-  days: '日前',\n-  now: 'たった今',\n+    /* Time */\n+    seconds: '秒前',\n+    minutes: '分前',\n+    hours: '時間前',\n+    days: '日前',\n+    now: 'たった今',\n \n-  /* Checker */\n-  adminCheck: '管理者として認証するにはパスワードを入力してください：',\n-  captchaCheck: '続行するにはキャプチャを入力してください：',\n-  confirm: '確認',\n-  cancel: 'キャンセル',\n+    /* Checker */\n+    adminCheck: '管理者として認証するにはパスワードを入力してください：',\n+    captchaCheck: '続行するにはキャプチャを入力してください：',\n+    confirm: '確認',\n+    cancel: 'キャンセル',\n \n-  /* Sidebar */\n-  msgCenter: '通知センター',\n-  ctrlCenter: 'コントロールセンター',\n-  emailVerified: 'メールアドレスが確認されました',\n+    /* Sidebar */\n+    msgCenter: '通知センター',\n+    ctrlCenter: 'コントロールセンター',\n+    emailVerified: 'メールアドレスが確認されました',\n \n-  /* General */\n-  frontend: 'フロントエンド',\n-  backend: 'バックエンド',\n-  loading: '読み込み中',\n-  loadFail: '読み込みに失敗しました',\n-  editing: '編集中',\n-  editFail: '編集に失敗しました',\n-  deleting: '削除中',\n-  deleteFail: '削除に失敗しました',\n-  reqGot: 'リクエストが受信されました',\n-  reqAborted: 'リクエストがタイムアウトまたは予期せず中止されました',\n-  updateMsg: '完全な体験を得るにはArtalk {name}を更新してください',\n-  currentVersion: '現在のバージョン',\n-  ignore: '無視',\n-  open: '開く',\n-  openName: '{name}を開く',\n-}, ['jp-JP'])\n+    /* General */\n+    frontend: 'フロントエンド',\n+    backend: 'バックエンド',\n+    loading: '読み込み中',\n+    loadFail: '読み込みに失敗しました',\n+    editing: '編集中',\n+    editFail: '編集に失敗しました',\n+    deleting: '削除中',\n+    deleteFail: '削除に失敗しました',\n+    reqGot: 'リクエストが受信されました',\n+    reqAborted: 'リクエストがタイムアウトまたは予期せず中止されました',\n+    updateMsg: '完全な体験を得るにはArtalk {name}を更新してください',\n+    currentVersion: '現在のバージョン',\n+    ignore: '無視',\n+    open: '開く',\n+    openName: '{name}を開く',\n+  },\n+  ['jp-JP'],\n+)"
    },
    {
      "sha": "9ccf26d014399725c32e103e0b875be717ca2e65",
      "filename": "ui/artalk/src/layer/layer.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 3,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Flayer.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Flayer.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flayer%2Flayer.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,9 +9,8 @@ export class Layer {\n \n   constructor(\n     private $el: HTMLElement,\n-    private opts: LayerOptions\n-  ) {\n-  }\n+    private opts: LayerOptions,\n+  ) {}\n \n   setOnAfterHide(func: () => void) {\n     this.onAfterHide = func"
    },
    {
      "sha": "f85a032066d9abf59134245e2244343befb9d636",
      "filename": "ui/artalk/src/layer/scrollbar-helper.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fscrollbar-helper.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fscrollbar-helper.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flayer%2Fscrollbar-helper.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,8 +17,11 @@ export function getScrollbarHelper() {\n \n     lock() {\n       document.body.style.overflow = 'hidden'\n-      const barPaddingRight = parseInt(window.getComputedStyle(document.body, null).getPropertyValue('padding-right'), 10)\n+      const barPaddingRight = parseInt(\n+        window.getComputedStyle(document.body, null).getPropertyValue('padding-right'),\n+        10,\n+      )\n       document.body.style.paddingRight = `${Ui.getScrollBarWidth() + barPaddingRight || 0}px`\n-    }\n+    },\n   }\n }"
    },
    {
      "sha": "214ecfd82a128d946478e9af4e1907f5249e408d",
      "filename": "ui/artalk/src/layer/sidebar-layer.html",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,7 +1,9 @@\n <div class=\"atk-sidebar-layer\">\n   <div class=\"atk-sidebar-inner\">\n     <div class=\"atk-sidebar-header\">\n-      <div class=\"atk-sidebar-close\"><i class=\"atk-icon atk-icon-close-slim\"></i></div>\n+      <div class=\"atk-sidebar-close\">\n+        <i class=\"atk-icon atk-icon-close-slim\"></i>\n+      </div>\n     </div>\n     <div class=\"atk-sidebar-iframe-wrap\"></div>\n   </div>"
    },
    {
      "sha": "b9b4ff6c911a17fa7f8762057a1b50dfd9b89ffc",
      "filename": "ui/artalk/src/layer/sidebar-layer.ts",
      "status": "modified",
      "additions": 26,
      "deletions": 16,
      "changes": 42,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -25,7 +25,9 @@ export default class SidebarLayer extends Component {\n     }\n \n     // event\n-    this.ctx.on('user-changed', () => { this.refreshOnShow = true })\n+    this.ctx.on('user-changed', () => {\n+      this.refreshOnShow = true\n+    })\n   }\n \n   /** Refresh iFrame on show */\n@@ -53,15 +55,18 @@ export default class SidebarLayer extends Component {\n       const $iframe = this.$iframe!\n       const iFrameSrc = $iframe.src\n       if (this.conf.darkMode !== iFrameSrc.includes('darkMode=1')) {\n-        this.iframeLoad($iframe, (this.conf.darkMode)\n-          ? iFrameSrc.concat('&darkMode=1')\n-          : iFrameSrc.replace('&darkMode=1', ''))\n+        this.iframeLoad(\n+          $iframe,\n+          this.conf.darkMode\n+            ? iFrameSrc.concat('&darkMode=1')\n+            : iFrameSrc.replace('&darkMode=1', ''),\n+        )\n       }\n     }\n \n     // 管理员身份验证 (若身份失效，弹出验证窗口)\n     this.authCheck({\n-      onSuccess: () => this.show(conf) // retry show after auth check\n+      onSuccess: () => this.show(conf), // retry show after auth check\n     })\n \n     // 执行滑动显示动画\n@@ -85,9 +90,11 @@ export default class SidebarLayer extends Component {\n   // --------------------------------------------------\n \n   private async authCheck(opts: { onSuccess: () => void }) {\n-    const data = (await this.ctx.getApi().user.getUserStatus({\n-      ...this.ctx.getApi().getUserFields()\n-    })).data\n+    const data = (\n+      await this.ctx.getApi().user.getUserStatus({\n+        ...this.ctx.getApi().getUserFields(),\n+      })\n+    ).data\n     if (data.is_admin && !data.is_login) {\n       this.refreshOnShow = true\n \n@@ -100,7 +107,7 @@ export default class SidebarLayer extends Component {\n         },\n         onCancel: () => {\n           this.hide()\n-        }\n+        },\n       })\n \n       // hide sidebar layer\n@@ -128,26 +135,29 @@ export default class SidebarLayer extends Component {\n   }\n \n   private createIframe(view?: string) {\n-    const $iframe = Utils.createElement<HTMLIFrameElement>('<iframe referrerpolicy=\"strict-origin-when-cross-origin\"></iframe>')\n+    const $iframe = Utils.createElement<HTMLIFrameElement>(\n+      '<iframe referrerpolicy=\"strict-origin-when-cross-origin\"></iframe>',\n+    )\n \n     // 准备 Iframe 参数\n-    const baseURL = (import.meta.env.DEV)  ? 'http://localhost:23367/'\n+    const baseURL = import.meta.env.DEV\n+      ? 'http://localhost:23367/'\n       : Utils.getURLBasedOnApi({\n-        base: this.ctx.conf.server,\n-        path: '/sidebar/',\n-      })\n+          base: this.ctx.conf.server,\n+          path: '/sidebar/',\n+        })\n \n     const query: any = {\n       pageKey: this.conf.pageKey,\n       site: this.conf.site || '',\n       user: JSON.stringify(this.ctx.get('user').getData()),\n-      time: +new Date()\n+      time: +new Date(),\n     }\n \n     if (view) query.view = view\n     if (this.conf.darkMode) query.darkMode = '1'\n \n-    const urlParams = new URLSearchParams(query);\n+    const urlParams = new URLSearchParams(query)\n     this.iframeLoad($iframe, `${baseURL}?${urlParams.toString()}`)\n \n     return $iframe"
    },
    {
      "sha": "2c503bda72071f0f91f4a1df73187f08b060286c",
      "filename": "ui/artalk/src/layer/wrap.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 3,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fwrap.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flayer%2Fwrap.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flayer%2Fwrap.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,7 +9,7 @@ export class LayerWrap {\n \n   constructor() {\n     this.$wrap = Utils.createElement(\n-      `<div class=\"atk-layer-wrap\" style=\"display: none;\"><div class=\"atk-layer-mask\"></div></div>`\n+      `<div class=\"atk-layer-wrap\" style=\"display: none;\"><div class=\"atk-layer-mask\"></div></div>`,\n     )\n     this.$mask = this.$wrap.querySelector<HTMLElement>('.atk-layer-mask')!\n   }\n@@ -23,7 +23,7 @@ export class LayerWrap {\n     // create layer instance\n     const layer = new Layer(el, {\n       onHide: () => this.hideWrap(el!),\n-      onShow: () => this.showWrap()\n+      onShow: () => this.showWrap(),\n     })\n \n     // register mask click event\n@@ -62,7 +62,11 @@ export class LayerWrap {\n \n   hideWrap($el: HTMLElement) {\n     // if wrap contains more than one item, do not hide entire wrap\n-    if (this.items.map(l => l.getEl()).filter(e => e !== $el && e.isConnected && e.style.display !== 'none').length > 0) {\n+    if (\n+      this.items\n+        .map((l) => l.getEl())\n+        .filter((e) => e !== $el && e.isConnected && e.style.display !== 'none').length > 0\n+    ) {\n       return\n     }\n "
    },
    {
      "sha": "c1793d25034f98ad841ad15810f12ab62bab0aeb",
      "filename": "ui/artalk/src/lib/component.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 3,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fcomponent.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fcomponent.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fcomponent.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,9 +6,7 @@ export default abstract class Component {\n     return this.ctx.conf\n   }\n \n-  public constructor(\n-    public ctx: ContextApi\n-  ) {}\n+  public constructor(public ctx: ContextApi) {}\n \n   getEl() {\n     return this.$el"
    },
    {
      "sha": "ac23e9fa30ea7479b7ef8347310c7cbe5ee2bf49",
      "filename": "ui/artalk/src/lib/event-manager.ts",
      "status": "modified",
      "additions": 18,
      "deletions": 6,
      "changes": 24,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fevent-manager.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fevent-manager.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fevent-manager.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,5 +1,6 @@\n export type EventHandler<T> = (payload: T) => void\n-export interface Event<PayloadMap, K extends keyof PayloadMap = keyof PayloadMap> extends EventOptions {\n+export interface Event<PayloadMap, K extends keyof PayloadMap = keyof PayloadMap>\n+  extends EventOptions {\n   name: K\n   handler: EventHandler<PayloadMap[K]>\n }\n@@ -8,7 +9,11 @@ export interface EventOptions {\n }\n \n export interface EventManagerFuncs<PayloadMap> {\n-  on<K extends keyof PayloadMap>(name: K, handler: EventHandler<PayloadMap[K]>, opts?: EventOptions): void\n+  on<K extends keyof PayloadMap>(\n+    name: K,\n+    handler: EventHandler<PayloadMap[K]>,\n+    opts?: EventOptions,\n+  ): void\n   off<K extends keyof PayloadMap>(name: K, handler: EventHandler<PayloadMap[K]>): void\n   trigger<K extends keyof PayloadMap>(name: K, payload?: PayloadMap[K]): void\n }\n@@ -19,17 +24,24 @@ export default class EventManager<PayloadMap> implements EventManagerFuncs<Paylo\n   /**\n    * Add an event listener for a specific event name\n    */\n-  public on<K extends keyof PayloadMap>(name: K, handler: EventHandler<PayloadMap[K]>, opts: EventOptions = {}) {\n-    this.events.push({ name, handler: handler as EventHandler<PayloadMap[keyof PayloadMap]>, ...opts })\n+  public on<K extends keyof PayloadMap>(\n+    name: K,\n+    handler: EventHandler<PayloadMap[K]>,\n+    opts: EventOptions = {},\n+  ) {\n+    this.events.push({\n+      name,\n+      handler: handler as EventHandler<PayloadMap[keyof PayloadMap]>,\n+      ...opts,\n+    })\n   }\n \n   /**\n    * Remove an event listener for a specific event name and handler\n    */\n   public off<K extends keyof PayloadMap>(name: K, handler: EventHandler<PayloadMap[K]>) {\n     if (!handler) return // not allow remove all events with same name\n-    this.events = this.events.filter((evt) =>\n-      !(evt.name === name && evt.handler === handler))\n+    this.events = this.events.filter((evt) => !(evt.name === name && evt.handler === handler))\n   }\n \n   /**"
    },
    {
      "sha": "10be4c991053449b479044abda6678e7a1f51cc8",
      "filename": "ui/artalk/src/lib/marked-renderer.ts",
      "status": "modified",
      "additions": 28,
      "deletions": 19,
      "changes": 47,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmarked-renderer.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmarked-renderer.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fmarked-renderer.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,25 +8,34 @@ export function getRenderer() {\n   return renderer\n }\n \n-export const markedLinkRenderer = (renderer: any, orgLinkRenderer: Function) => (href: string, title: string, text: string): string => {\n-  const localLink = href?.startsWith(`${window.location.protocol}//${window.location.hostname}`);\n-  const html = orgLinkRenderer.call(renderer, href, title, text);\n-  return html.replace(/^<a /, `<a target=\"_blank\" ${!localLink ? `rel=\"noreferrer noopener nofollow\"` : ''} `);\n-}\n+export const markedLinkRenderer =\n+  (renderer: any, orgLinkRenderer: Function) =>\n+  (href: string, title: string, text: string): string => {\n+    const localLink = href?.startsWith(`${window.location.protocol}//${window.location.hostname}`)\n+    const html = orgLinkRenderer.call(renderer, href, title, text)\n+    return html.replace(\n+      /^<a /,\n+      `<a target=\"_blank\" ${!localLink ? `rel=\"noreferrer noopener nofollow\"` : ''} `,\n+    )\n+  }\n \n-export const markedCodeRenderer = () => (block: string, lang: string | undefined): string => {\n-  // Colorize the block only if the language is known to highlight.js\n-  const realLang = (!lang ? 'plaintext' : lang)\n-  let colorized = block\n-  if ((window as any).hljs) {\n-    if (realLang && (window as any).hljs.getLanguage(realLang)) {\n-      colorized = (window as any).hljs.highlight(realLang, block).value\n+export const markedCodeRenderer =\n+  () =>\n+  (block: string, lang: string | undefined): string => {\n+    // Colorize the block only if the language is known to highlight.js\n+    const realLang = !lang ? 'plaintext' : lang\n+    let colorized = block\n+    if ((window as any).hljs) {\n+      if (realLang && (window as any).hljs.getLanguage(realLang)) {\n+        colorized = (window as any).hljs.highlight(realLang, block).value\n+      }\n+    } else {\n+      colorized = renderCode(block)\n     }\n-  } else {\n-    colorized = renderCode(block)\n-  }\n \n-  return `<pre rel=\"${realLang}\">\\n`\n-    + `<code class=\"hljs language-${realLang}\">${colorized.replace(/&amp;/g, '&')}</code>\\n`\n-    + `</pre>`\n-}\n+    return (\n+      `<pre rel=\"${realLang}\">\\n` +\n+      `<code class=\"hljs language-${realLang}\">${colorized.replace(/&amp;/g, '&')}</code>\\n` +\n+      `</pre>`\n+    )\n+  }"
    },
    {
      "sha": "f498ea9933292b295fcfa12a28ed6162ee5c5aee",
      "filename": "ui/artalk/src/lib/marked.ts",
      "status": "modified",
      "additions": 26,
      "deletions": 14,
      "changes": 40,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmarked.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmarked.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fmarked.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,13 +7,13 @@ import { getRenderer } from './marked-renderer'\n type Replacer = (raw: string) => string\n export type TMarked = typeof libMarked\n \n-let instance: TMarked|undefined\n+let instance: TMarked | undefined\n let replacers: Replacer[] = []\n \n const markedOptions: MarkedOptions = {\n   gfm: true,\n   breaks: true,\n-  async: false\n+  async: false,\n }\n \n /** Get Marked instance */\n@@ -27,12 +27,16 @@ export function setReplacers(arr: Replacer[]) {\n \n /** 初始化 marked */\n export function initMarked() {\n-  try { if (!libMarked.name) return } catch { return }\n+  try {\n+    if (!libMarked.name) return\n+  } catch {\n+    return\n+  }\n \n   // @see https://github.com/markedjs/marked/blob/4afb228d956a415624c4e5554bb8f25d047676fe/src/Tokenizer.js#L329\n   libMarked.setOptions({\n     renderer: getRenderer(),\n-    ...markedOptions\n+    ...markedOptions,\n   })\n \n   instance = libMarked\n@@ -41,27 +45,35 @@ export function initMarked() {\n /** 解析 markdown */\n export default function marked(src: string): string {\n   let markedContent = getInstance()?.parse(src) as string\n-  if (!markedContent) { // 无 Markdown 模式简单处理\n+  if (!markedContent) {\n+    // 无 Markdown 模式简单处理\n     markedContent = simpleMarked(src)\n   }\n \n   let dest = sanitize(markedContent)\n \n   // 内容替换器\n   replacers.forEach((replacer) => {\n-    if (typeof replacer === 'function')\n-      dest = replacer(dest)\n+    if (typeof replacer === 'function') dest = replacer(dest)\n   })\n \n   return dest\n }\n \n function simpleMarked(src: string) {\n-  return src\n-    // .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n-    .replace(/```\\s*([^]+?.*?[^]+?[^]+?)```/g, (_, code) => `<pre><code>${renderCode(code)}</code></pre>`)\n-    // .replace(/`([^`]+?)`/g, '<code>$1</code>')\n-    .replace(/!\\[(.*?)\\]\\((.*?)\\)/g, (_, alt, imgSrc) => `<img src=\"${imgSrc}\" alt=\"${alt}\" />`)\n-    .replace(/\\[(.*?)\\]\\((.*?)\\)/g, (_, text, link) => `<a href=\"${link}\" target=\"_blank\">${text}</a>`)\n-    .replace(/\\n/g, '<br>')\n+  return (\n+    src\n+      // .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n+      .replace(\n+        /```\\s*([^]+?.*?[^]+?[^]+?)```/g,\n+        (_, code) => `<pre><code>${renderCode(code)}</code></pre>`,\n+      )\n+      // .replace(/`([^`]+?)`/g, '<code>$1</code>')\n+      .replace(/!\\[(.*?)\\]\\((.*?)\\)/g, (_, alt, imgSrc) => `<img src=\"${imgSrc}\" alt=\"${alt}\" />`)\n+      .replace(\n+        /\\[(.*?)\\]\\((.*?)\\)/g,\n+        (_, text, link) => `<a href=\"${link}\" target=\"_blank\">${text}</a>`,\n+      )\n+      .replace(/\\n/g, '<br>')\n+  )\n }"
    },
    {
      "sha": "d2939e5a5b56fdb47895d8ea70f29ba0c817cf12",
      "filename": "ui/artalk/src/lib/merge-deep.test.ts",
      "status": "modified",
      "additions": 15,
      "deletions": 5,
      "changes": 20,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmerge-deep.test.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmerge-deep.test.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fmerge-deep.test.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,13 +8,19 @@ describe('Normal operations', () => {\n   })\n \n   it('should merge objects (2 levels)', () => {\n-    expect(mergeDeep({ a: { b: 1 } }, { a: { c: 2 } })).toEqual({ a: { b: 1, c: 2 } })\n+    expect(mergeDeep({ a: { b: 1 } }, { a: { c: 2 } })).toEqual({\n+      a: { b: 1, c: 2 },\n+    })\n     expect(mergeDeep({ a: { b: 1 } }, { a: { b: 2 } })).toEqual({ a: { b: 2 } })\n   })\n \n   it('should merge objects (3 levels)', () => {\n-    expect(mergeDeep({ a: { b: { c: 1 } } }, { a: { b: { d: 2 } } })).toEqual({ a: { b: { c: 1, d: 2 } } })\n-    expect(mergeDeep({ a: { b: { c: 1 } } }, { a: { b: { c: 2 } } })).toEqual({ a: { b: { c: 2 } } })\n+    expect(mergeDeep({ a: { b: { c: 1 } } }, { a: { b: { d: 2 } } })).toEqual({\n+      a: { b: { c: 1, d: 2 } },\n+    })\n+    expect(mergeDeep({ a: { b: { c: 1 } } }, { a: { b: { c: 2 } } })).toEqual({\n+      a: { b: { c: 2 } },\n+    })\n   })\n })\n \n@@ -23,10 +29,14 @@ describe('Array merge', () => {\n     expect(mergeDeep({ a: [1] }, { a: [2] })).toEqual({ a: [1, 2] })\n   })\n   it('should merge arrays (2 levels)', () => {\n-    expect(mergeDeep({ a: { b: [1] } }, { a: { b: [2] } })).toEqual({ a: { b: [1, 2] } })\n+    expect(mergeDeep({ a: { b: [1] } }, { a: { b: [2] } })).toEqual({\n+      a: { b: [1, 2] },\n+    })\n   })\n   it('should merge arrays (3 levels)', () => {\n-    expect(mergeDeep({ a: { b: { c: [1] } } }, { a: { b: { c: [2] } } })).toEqual({ a: { b: { c: [1, 2] } } })\n+    expect(mergeDeep({ a: { b: { c: [1] } } }, { a: { b: { c: [2] } } })).toEqual({\n+      a: { b: { c: [1, 2] } },\n+    })\n   })\n })\n "
    },
    {
      "sha": "34a320cedc9b7a1a99d2fbfe8d7e3a25f90c91d1",
      "filename": "ui/artalk/src/lib/merge-deep.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmerge-deep.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fmerge-deep.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fmerge-deep.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,12 +6,12 @@\n  * @returns New object with merged key/values\n  */\n export function mergeDeep<T>(...objects: any[]): T {\n-  const isObject = (obj: any) => obj && typeof obj === \"object\" && obj.constructor === Object;\n+  const isObject = (obj: any) => obj && typeof obj === 'object' && obj.constructor === Object\n \n   return objects.reduce((prev, obj) => {\n     Object.keys(obj ?? {}).forEach((key) => {\n       // Avoid prototype pollution\n-      if (key === \"__proto__\" || key === \"constructor\" || key === \"prototype\") {\n+      if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n         return\n       }\n "
    },
    {
      "sha": "a92923076b6f8a648b08c6fbd23f5b47abaf2f40",
      "filename": "ui/artalk/src/lib/sanitizer.ts",
      "status": "modified",
      "additions": 59,
      "deletions": 18,
      "changes": 77,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fsanitizer.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fsanitizer.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fsanitizer.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,14 +7,56 @@ const insaneOptions = {\n   // @link https://leucosite.com/Microsoft-Edge-RCE/\n   // @link https://medium.com/@knownsec404team/analysis-of-the-security-issues-of-url-scheme-in-pc-from-cve-2018-8495-934478a36756\n   allowedSchemes: [\n-    'http', 'https', 'mailto',\n-    'data' // for support base64 encoded image (安全性有待考虑)\n+    'http',\n+    'https',\n+    'mailto',\n+    'data', // for support base64 encoded image (安全性有待考虑)\n   ],\n   allowedTags: [\n-    'a', 'abbr', 'article', 'b', 'blockquote', 'br', 'caption', 'code', 'del', 'details', 'div', 'em',\n-    'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'ins', 'kbd', 'li', 'main', 'mark',\n-    'ol', 'p', 'pre', 'section', 'span', 'strike', 'strong', 'sub', 'summary', 'sup', 'table',\n-    'tbody', 'td', 'th', 'thead', 'tr', 'u', 'ul'\n+    'a',\n+    'abbr',\n+    'article',\n+    'b',\n+    'blockquote',\n+    'br',\n+    'caption',\n+    'code',\n+    'del',\n+    'details',\n+    'div',\n+    'em',\n+    'h1',\n+    'h2',\n+    'h3',\n+    'h4',\n+    'h5',\n+    'h6',\n+    'hr',\n+    'i',\n+    'img',\n+    'ins',\n+    'kbd',\n+    'li',\n+    'main',\n+    'mark',\n+    'ol',\n+    'p',\n+    'pre',\n+    'section',\n+    'span',\n+    'strike',\n+    'strong',\n+    'sub',\n+    'summary',\n+    'sup',\n+    'table',\n+    'tbody',\n+    'td',\n+    'th',\n+    'thead',\n+    'tr',\n+    'u',\n+    'ul',\n   ],\n   allowedAttributes: {\n     '*': ['title', 'accesskey'],\n@@ -24,30 +66,29 @@ const insaneOptions = {\n     code: ['class'],\n     span: ['class', 'style'],\n   },\n-  filter: node => {\n+  filter: (node) => {\n     // allow hljs style\n     const allowed = [\n-      [ 'code', /^hljs\\W+language-(.*)$/ ],\n-      [ 'span', /^(hljs-.*)$/ ]\n+      ['code', /^hljs\\W+language-(.*)$/],\n+      ['span', /^(hljs-.*)$/],\n     ]\n-    allowed.forEach(([ tag, reg ]) => {\n-      if (\n-        node.tag === tag\n-        && !!node.attrs.class\n-        && !(reg as RegExp).test(node.attrs.class)\n-      ) {\n+    allowed.forEach(([tag, reg]) => {\n+      if (node.tag === tag && !!node.attrs.class && !(reg as RegExp).test(node.attrs.class)) {\n         delete node.attrs.class\n       }\n     })\n \n     // allow <span> set color sty\n-    if (node.tag === 'span' && !!node.attrs.style\n-        && !/^color:(\\W+)?#[0-9a-f]{3,6};?$/i.test(node.attrs.style)) {\n+    if (\n+      node.tag === 'span' &&\n+      !!node.attrs.style &&\n+      !/^color:(\\W+)?#[0-9a-f]{3,6};?$/i.test(node.attrs.style)\n+    ) {\n       delete node.attrs.style\n     }\n \n     return true\n-  }\n+  },\n }\n \n export function sanitize(content: string): string {"
    },
    {
      "sha": "f88ae771dbc34d1f66093dcb9c853e9c94b2502a",
      "filename": "ui/artalk/src/lib/ui.ts",
      "status": "modified",
      "additions": 28,
      "deletions": 21,
      "changes": 49,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fui.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fui.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fui.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,11 +7,12 @@ export function showLoading(parentElem: HTMLElement, conf?: { transparentBg?: bo\n   let $loading = parentElem.querySelector<HTMLElement>(':scope > .atk-loading')\n   if (!$loading) {\n     $loading = Utils.createElement(\n-    `<div class=\"atk-loading\" style=\"display: none;\">\n+      `<div class=\"atk-loading\" style=\"display: none;\">\n       <div class=\"atk-loading-spinner\">\n         <svg viewBox=\"25 25 50 50\"><circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg>\n       </div>\n-    </div>`)\n+    </div>`,\n+    )\n     if (conf?.transparentBg) $loading.style.background = 'transparent'\n     parentElem.appendChild($loading)\n   }\n@@ -50,44 +51,50 @@ export function isVisible(el: HTMLElement, viewport: HTMLElement = document.docu\n   const elemTop = rect.top + docViewTop\n   const elemBottom = elemTop + rect.height\n \n-  return (elemBottom <= docViewBottom) //&& (elemTop >= docViewTop) 注释因为假如 el 比 viewport 还高就会失效\n+  return elemBottom <= docViewBottom //&& (elemTop >= docViewTop) 注释因为假如 el 比 viewport 还高就会失效\n }\n \n /** 滚动到元素中心 */\n-export function scrollIntoView(elem: HTMLElement, enableAnim: boolean = true, relativeTo?: HTMLElement) {\n+export function scrollIntoView(\n+  elem: HTMLElement,\n+  enableAnim: boolean = true,\n+  relativeTo?: HTMLElement,\n+) {\n   let top: number\n \n   if (relativeTo) {\n     const containerRect = relativeTo.getBoundingClientRect()\n     const elementRect = elem.getBoundingClientRect()\n-    top = elementRect.top - containerRect.top + relativeTo.scrollTop - relativeTo.clientHeight / 2 + elem.clientHeight / 2\n+    top =\n+      elementRect.top -\n+      containerRect.top +\n+      relativeTo.scrollTop -\n+      relativeTo.clientHeight / 2 +\n+      elem.clientHeight / 2\n   } else {\n     const rect = elem.getBoundingClientRect()\n     const elemTop = rect.top + window.scrollY\n     top = elemTop - (window.innerHeight / 2 - rect.height / 2)\n   }\n \n   const scrollOptions: ScrollToOptions = {\n-    top, left: 0,\n+    top,\n+    left: 0,\n     // behavior: enableAnim ? 'smooth' : 'instant',\n-    behavior: 'instant'\n+    behavior: 'instant',\n   }\n \n   if (relativeTo) relativeTo.scroll(scrollOptions)\n   else window.scroll(scrollOptions)\n }\n \n /** 显示消息 */\n-export function showNotify(\n-  wrapElem: HTMLElement,\n-  msg: string,\n-  type: NotifyLevel,\n-) {\n+export function showNotify(wrapElem: HTMLElement, msg: string, type: NotifyLevel) {\n   const colors = { s: '#57d59f', e: '#ff6f6c', w: '#ffc721', i: '#2ebcfc' }\n   const timeout = 3000 // 持续显示时间 ms\n \n   const notifyElem = Utils.createElement(\n-    `<div class=\"atk-notify atk-fade-in\" style=\"background-color: ${colors[type]}\"><span class=\"atk-notify-content\"></span></div>`\n+    `<div class=\"atk-notify atk-fade-in\" style=\"background-color: ${colors[type]}\"><span class=\"atk-notify-content\"></span></div>`,\n   )\n   const notifyContentEl = notifyElem.querySelector<HTMLElement>('.atk-notify-content')!\n   notifyContentEl.innerHTML = Utils.htmlEncode(msg).replace('\\n', '<br/>')\n@@ -115,11 +122,7 @@ export function showNotify(\n }\n \n /** fade 动画 */\n-export function playFadeAnim(\n-  elem: HTMLElement,\n-  after?: () => void,\n-  type: 'in' | 'out' = 'in'\n-) {\n+export function playFadeAnim(elem: HTMLElement, after?: () => void, type: 'in' | 'out' = 'in') {\n   elem.classList.add(`atk-fade-${type}`)\n   // 动画结束清除 class\n   const onAnimEnded = () => {\n@@ -141,15 +144,19 @@ export function playFadeOutAnim(elem: HTMLElement, after?: () => void) {\n }\n \n /** 设置全局错误 */\n-export function setError(parentElem: HTMLElement, html: string | HTMLElement | null, title: string = '<span class=\"atk-error-title\">Artalk Error</span>') {\n+export function setError(\n+  parentElem: HTMLElement,\n+  html: string | HTMLElement | null,\n+  title: string = '<span class=\"atk-error-title\">Artalk Error</span>',\n+) {\n   let elem = parentElem.querySelector<HTMLElement>('.atk-error-layer')\n   if (html === null) {\n     if (elem !== null) elem.remove()\n     return\n   }\n   if (!elem) {\n     elem = Utils.createElement(\n-      `<div class=\"atk-error-layer\">${title}<span class=\"atk-error-text\"></span></div>`\n+      `<div class=\"atk-error-layer\">${title}<span class=\"atk-error-text\"></span></div>`,\n     )\n     parentElem.appendChild(elem)\n   }\n@@ -188,5 +195,5 @@ export function getScrollBarWidth() {\n \n   document.body.removeChild(outer)\n \n-  return (w1 - w2)\n+  return w1 - w2\n }"
    },
    {
      "sha": "fec4f76c057b39dd536cc2b977f93fc9913e4cf5",
      "filename": "ui/artalk/src/lib/user.ts",
      "status": "modified",
      "additions": 3,
      "deletions": 5,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fuser.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fuser.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fuser.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,9 +9,7 @@ interface UserOpts {\n class User {\n   private data: LocalUser\n \n-  constructor(\n-    private opts: UserOpts\n-  ) {\n+  constructor(private opts: UserOpts) {\n     // Import from localStorage\n     const localUser = JSON.parse(window.localStorage.getItem(LOCAL_USER_KEY) || '{}')\n \n@@ -21,7 +19,7 @@ class User {\n       email: localUser.email || '',\n       link: localUser.link || '',\n       token: localUser.token || '',\n-      isAdmin: localUser.isAdmin || false\n+      isAdmin: localUser.isAdmin || false,\n     }\n   }\n \n@@ -47,7 +45,7 @@ class User {\n   logout() {\n     this.update({\n       token: '',\n-      isAdmin: false\n+      isAdmin: false,\n     })\n   }\n "
    },
    {
      "sha": "b03b746387bcb744cf34f457b2b46814c00cb0e7",
      "filename": "ui/artalk/src/lib/utils.ts",
      "status": "modified",
      "additions": 35,
      "deletions": 23,
      "changes": 58,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Futils.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Futils.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Futils.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -23,18 +23,18 @@ export function htmlDecode(str: string) {\n }\n \n export function getQueryParam(name: string) {\n-  const match = RegExp(`[?&]${name}=([^&]*)`).exec(window.location.search);\n-  return match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n+  const match = RegExp(`[?&]${name}=([^&]*)`).exec(window.location.search)\n+  return match && decodeURIComponent(match[1].replace(/\\+/g, ' '))\n }\n \n export function getOffset(el: HTMLElement, relativeTo?: HTMLElement) {\n-  const getOffsetRecursive = (element: HTMLElement): { top: number, left: number } => {\n+  const getOffsetRecursive = (element: HTMLElement): { top: number; left: number } => {\n     const rect = element.getBoundingClientRect()\n     const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft\n     const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n     return {\n       top: rect.top + scrollTop,\n-      left: rect.left + scrollLeft\n+      left: rect.left + scrollLeft,\n     }\n   }\n \n@@ -45,7 +45,7 @@ export function getOffset(el: HTMLElement, relativeTo?: HTMLElement) {\n \n   return {\n     top: elOffset.top - relativeToOffset.top,\n-    left: elOffset.left - relativeToOffset.left\n+    left: elOffset.left - relativeToOffset.left,\n   }\n }\n \n@@ -127,25 +127,27 @@ export function onImagesLoaded($container: HTMLElement, event: Function) {\n   }\n }\n \n-export function getGravatarURL(opts: { params: string, mirror: string, emailMD5: string }) {\n+export function getGravatarURL(opts: { params: string; mirror: string; emailMD5: string }) {\n   return `${opts.mirror.replace(/\\/$/, '')}/${opts.emailMD5}?${opts.params.replace(/^\\?/, '')}`\n }\n \n export function sleep(ms: number) {\n-  return new Promise(resolve => { setTimeout(resolve, ms) });\n+  return new Promise((resolve) => {\n+    setTimeout(resolve, ms)\n+  })\n }\n \n /** 版本号比较（a < b :-1 | 0 | b < a :1） */\n export function versionCompare(a: string, b: string) {\n   const pa = a.split('.')\n   const pb = b.split('.')\n   for (let i = 0; i < 3; i++) {\n-      const na = Number(pa[i])\n-      const nb = Number(pb[i])\n-      if (na > nb) return 1\n-      if (nb > na) return -1\n-      if (!Number.isNaN(na) && Number.isNaN(nb)) return 1\n-      if (Number.isNaN(na) && !Number.isNaN(nb)) return -1\n+    const na = Number(pa[i])\n+    const nb = Number(pb[i])\n+    if (na > nb) return 1\n+    if (nb > na) return -1\n+    if (!Number.isNaN(na) && Number.isNaN(nb)) return 1\n+    if (Number.isNaN(na) && !Number.isNaN(nb)) return -1\n   }\n   return 0\n }\n@@ -162,23 +164,31 @@ export async function getCorrectUserAgent() {\n   const uaData = (navigator as any).userAgentData\n   let uaGot: any = null\n   try {\n-    uaGot = await uaData.getHighEntropyValues([\"platformVersion\"])\n-  } catch (err) { console.error(err); return uaRaw }\n+    uaGot = await uaData.getHighEntropyValues(['platformVersion'])\n+  } catch (err) {\n+    console.error(err)\n+    return uaRaw\n+  }\n   const majorPlatformVersion = Number(uaGot.platformVersion.split('.')[0])\n \n-  if (uaData.platform === \"Windows\") {\n-    if (majorPlatformVersion >= 13) { // @link https://docs.microsoft.com/en-us/microsoft-edge/web-platform/how-to-detect-win11\n+  if (uaData.platform === 'Windows') {\n+    if (majorPlatformVersion >= 13) {\n+      // @link https://docs.microsoft.com/en-us/microsoft-edge/web-platform/how-to-detect-win11\n       // @date 2022-4-29\n       // Win 11 样本：\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36\"\n       return uaRaw.replace(/Windows NT 10.0/, 'Windows NT 11.0')\n     }\n   }\n-  if (uaData.platform === \"macOS\") {\n-    if (majorPlatformVersion >= 11) { // 11 => BigSur\n+  if (uaData.platform === 'macOS') {\n+    if (majorPlatformVersion >= 11) {\n+      // 11 => BigSur\n       // @date 2022-4-29\n       // (Intel Chip) macOS 12.3 样本：\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\"\n       // (Arm Chip) macOS 样本：\"Mozilla/5.0 (Macintosh; ARM Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.2 Safari/605.1.15\"\n-      return uaRaw.replace(/(Mac OS X \\d+_\\d+_\\d+|Mac OS X)/, `Mac OS X ${uaGot.platformVersion.replace(/\\./g, '_')}`)\n+      return uaRaw.replace(\n+        /(Mac OS X \\d+_\\d+_\\d+|Mac OS X)/,\n+        `Mac OS X ${uaGot.platformVersion.replace(/\\./g, '_')}`,\n+      )\n     }\n   }\n \n@@ -191,12 +201,14 @@ export function isValidURL(urlRaw: string) {\n   let url: URL\n   try {\n     url = new URL(urlRaw)\n-  } catch (_) { return false }\n-  return url.protocol === \"http:\" || url.protocol === \"https:\"\n+  } catch (_) {\n+    return false\n+  }\n+  return url.protocol === 'http:' || url.protocol === 'https:'\n }\n \n /** 获取基于 conf.server 的 URL */\n-export function getURLBasedOnApi(opts: { base: string, path: string }) {\n+export function getURLBasedOnApi(opts: { base: string; path: string }) {\n   return getURLBasedOn(opts.base, opts.path)\n }\n "
    },
    {
      "sha": "d28c47a5434dd713bd218730ded47d7712f05072",
      "filename": "ui/artalk/src/lib/watch-conf.ts",
      "status": "modified",
      "additions": 8,
      "deletions": 2,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fwatch-conf.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flib%2Fwatch-conf.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flib%2Fwatch-conf.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,11 +1,17 @@\n import type { ArtalkConfig, ContextApi } from '@/types'\n \n-export function watchConf<T extends (keyof ArtalkConfig)[]>(ctx: ContextApi, keys: T, effect: (conf: Pick<ArtalkConfig, T[number]>) => void): void {\n+export function watchConf<T extends (keyof ArtalkConfig)[]>(\n+  ctx: ContextApi,\n+  keys: T,\n+  effect: (conf: Pick<ArtalkConfig, T[number]>) => void,\n+): void {\n   const deepEqual = (a: any, b: any) => JSON.stringify(a) === JSON.stringify(b)\n   const val = () => {\n     const conf = ctx.getConf()\n     const res: any = {}\n-    keys.forEach((key) => { res[key] = conf[key] })\n+    keys.forEach((key) => {\n+      res[key] = conf[key]\n+    })\n     return res\n   }\n   let lastVal: any = null"
    },
    {
      "sha": "6d9fd1f6ef46abb413a6e4d9681ec4f1491c93dc",
      "filename": "ui/artalk/src/list/comment.ts",
      "status": "modified",
      "additions": 11,
      "deletions": 3,
      "changes": 14,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fcomment.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fcomment.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Fcomment.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,7 +5,12 @@ interface CreateCommentNodeOptions {\n   forceFlatMode?: boolean\n }\n \n-export function createCommentNode(ctx: ContextApi, comment: CommentData, replyComment?: CommentData, opts?: CreateCommentNodeOptions): CommentNode {\n+export function createCommentNode(\n+  ctx: ContextApi,\n+  comment: CommentData,\n+  replyComment?: CommentData,\n+  opts?: CreateCommentNodeOptions,\n+): CommentNode {\n   const instance = new CommentNode(comment, {\n     onAfterRender: () => {\n       ctx.trigger('comment-rendered', instance)\n@@ -17,7 +22,10 @@ export function createCommentNode(ctx: ContextApi, comment: CommentData, replyCo\n     replyTo: replyComment,\n \n     // TODO simplify reference\n-    flatMode: typeof opts?.forceFlatMode === 'boolean' ? opts?.forceFlatMode : ctx.conf.flatMode as boolean,\n+    flatMode:\n+      typeof opts?.forceFlatMode === 'boolean'\n+        ? opts?.forceFlatMode\n+        : (ctx.conf.flatMode as boolean),\n     gravatar: ctx.conf.gravatar,\n     nestMax: ctx.conf.nestMax,\n     heightLimit: ctx.conf.heightLimit,\n@@ -30,7 +38,7 @@ export function createCommentNode(ctx: ContextApi, comment: CommentData, replyCo\n     // TODO: move to plugin folder and remove from core\n     getApi: () => ctx.getApi(),\n     replyComment: (c, $el) => ctx.replyComment(c, $el),\n-    editComment: (c, $el) => ctx.editComment(c, $el)\n+    editComment: (c, $el) => ctx.editComment(c, $el),\n   })\n \n   // 渲染元素"
    },
    {
      "sha": "24ae3bffded34cb64012db1270397069ac6081aa",
      "filename": "ui/artalk/src/list/layout/flat.ts",
      "status": "modified",
      "additions": 9,
      "deletions": 3,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Fflat.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Fflat.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Fflat.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,18 +5,24 @@ import type { LayoutStrategyCreator, LayoutOptions } from '.'\n export const createFlatStrategy: LayoutStrategyCreator = (opts) => ({\n   import: (comments) => {\n     comments.forEach((comment: CommentData) => {\n-      const replyComment = (comment.rid === 0 ? undefined : comments.find(c => c.id === comment.rid))\n+      const replyComment =\n+        comment.rid === 0 ? undefined : comments.find((c) => c.id === comment.rid)\n       insertComment(opts, 'append', comment, replyComment)\n     })\n   },\n   insert: (comment, replyComment) => {\n     const node = insertComment(opts, 'prepend', comment, replyComment)\n     node.scrollIntoView()\n-  }\n+  },\n })\n \n /** 导入评论 · 平铺模式 */\n-function insertComment(opts: LayoutOptions, insertMode: 'append'|'prepend', comment: CommentData, replyComment?: CommentData | undefined) {\n+function insertComment(\n+  opts: LayoutOptions,\n+  insertMode: 'append' | 'prepend',\n+  comment: CommentData,\n+  replyComment?: CommentData | undefined,\n+) {\n   if (comment.is_collapsed) comment.is_allow_reply = false\n   const node = opts.createCommentNode(comment, replyComment)\n "
    },
    {
      "sha": "286a6315856f89ff9dc8844dd2ae0f933e6983ac",
      "filename": "ui/artalk/src/list/layout/index.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 2,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -12,7 +12,7 @@ export interface LayoutOptions {\n   flatMode: boolean\n \n   createCommentNode(comment: CommentData, replyComment?: CommentData): CommentNode\n-  findCommentNode(id: number): CommentNode|undefined\n+  findCommentNode(id: number): CommentNode | undefined\n }\n \n export interface LayoutStrategy {\n@@ -26,7 +26,9 @@ export class ListLayout {\n   constructor(private options: LayoutOptions) {}\n \n   private getStrategy() {\n-    return this.options.flatMode ? createFlatStrategy(this.options) : createNestStrategy(this.options)\n+    return this.options.flatMode\n+      ? createFlatStrategy(this.options)\n+      : createNestStrategy(this.options)\n   }\n \n   import(comments: CommentData[]) {"
    },
    {
      "sha": "b323705796afa545e340cd60d3687b2dab21f0a3",
      "filename": "ui/artalk/src/list/layout/nest.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Fnest.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Fnest.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Flayout%2Fnest.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -44,7 +44,7 @@ export const createNestStrategy: LayoutStrategyCreator = (opts) => ({\n       // 子评论 新增\n       const parent = opts.findCommentNode(comment.rid)\n       if (parent) {\n-        parent.putChild(node, (opts.nestSortBy === 'DATE_ASC' ? 'append' : 'prepend'))\n+        parent.putChild(node, opts.nestSortBy === 'DATE_ASC' ? 'append' : 'prepend')\n \n         // 若父评论存在 “子评论部分” 限高，取消限高\n         node.getParents().forEach((p) => {\n@@ -57,5 +57,5 @@ export const createNestStrategy: LayoutStrategyCreator = (opts) => ({\n \n     node.scrollIntoView() // 滚动到可以见\n     node.getRender().playFadeAnim() // 播放评论渐出动画\n-  }\n+  },\n })"
    },
    {
      "sha": "3f99a8fe0e3879a92b9cb0d4392ddd572edc0b50",
      "filename": "ui/artalk/src/list/list.html",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flist.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flist.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Flist.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,7 +6,7 @@\n     <div class=\"atk-right-action\">\n       <span data-action=\"admin-close-comment\" class=\"atk-hide\" atk-only-admin-show></span>\n       <span data-action=\"open-sidebar\" class=\"atk-hide atk-on\">\n-        <span class=\"atk-unread-badge\" style=\"display: none;\"></span>\n+        <span class=\"atk-unread-badge\" style=\"display: none\"></span>\n         <div class=\"atk-text\"></div>\n       </span>\n     </div>"
    },
    {
      "sha": "bb4fb6192fd84741025ad7b52d539f08ab8f0449",
      "filename": "ui/artalk/src/list/list.ts",
      "status": "modified",
      "additions": 17,
      "deletions": 9,
      "changes": 26,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flist.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Flist.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Flist.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -10,12 +10,16 @@ import { initListPaginatorFunc } from './page'\n export default class List extends Component {\n   /** 列表评论集区域元素 */\n   $commentsWrap!: HTMLElement\n-  public getCommentsWrapEl() { return this.$commentsWrap }\n+  public getCommentsWrapEl() {\n+    return this.$commentsWrap\n+  }\n \n   protected commentNodes: CommentNode[] = []\n-  getCommentNodes() { return this.commentNodes }\n+  getCommentNodes() {\n+    return this.commentNodes\n+  }\n \n-  constructor (ctx: ContextApi) {\n+  constructor(ctx: ContextApi) {\n     super(ctx)\n \n     // Init base element\n@@ -34,14 +38,15 @@ export default class List extends Component {\n       $commentsWrap: this.$commentsWrap,\n       nestSortBy: this.ctx.conf.nestSort,\n       nestMax: this.ctx.conf.nestMax,\n-      flatMode: typeof forceFlatMode === 'boolean' ? forceFlatMode : this.ctx.conf.flatMode as boolean,\n+      flatMode:\n+        typeof forceFlatMode === 'boolean' ? forceFlatMode : (this.ctx.conf.flatMode as boolean),\n       // flatMode must be boolean because it had been handled when Artalk.init\n       createCommentNode: (d, r) => {\n         const node = createCommentNode(this.ctx, d, r, { forceFlatMode })\n         this.commentNodes.push(node) // store node instance\n         return node\n       },\n-      findCommentNode: (id) => this.commentNodes.find(c => c.getID() === id),\n+      findCommentNode: (id) => this.commentNodes.find((c) => c.getID() === id),\n     })\n   }\n \n@@ -65,16 +70,19 @@ export default class List extends Component {\n \n     // When comment delete\n     this.ctx.on('comment-deleted', (comment) => {\n-      const node = this.commentNodes.find(c => c.getID() === comment.id)\n-      if (!node) { console.error(`comment node id=${comment.id} not found`);return }\n+      const node = this.commentNodes.find((c) => c.getID() === comment.id)\n+      if (!node) {\n+        console.error(`comment node id=${comment.id} not found`)\n+        return\n+      }\n       node.remove()\n-      this.commentNodes = this.commentNodes.filter(c => c.getID() !== comment.id)\n+      this.commentNodes = this.commentNodes.filter((c) => c.getID() !== comment.id)\n       // TODO: remove child nodes\n     })\n \n     // When comment update\n     this.ctx.on('comment-updated', (comment) => {\n-      const node = this.commentNodes.find(c => c.getID() === comment.id)\n+      const node = this.commentNodes.find((c) => c.getID() === comment.id)\n       node && node.setData(comment)\n     })\n   }"
    },
    {
      "sha": "d28104bb7622b72f0ef8622309e9835889f1750e",
      "filename": "ui/artalk/src/list/nest.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 4,
      "changes": 11,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fnest.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fnest.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Fnest.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,10 +8,14 @@ export type CommentNode = {\n   level: number\n }\n \n-export type SortByType = 'DATE_DESC'|'DATE_ASC'|'SRC_INDEX'|'VOTE_UP_DESC'\n+export type SortByType = 'DATE_DESC' | 'DATE_ASC' | 'SRC_INDEX' | 'VOTE_UP_DESC'\n \n // 构建树状结构列表\n-export function makeNestCommentNodeList(srcData: CommentData[], sortBy: SortByType = 'DATE_DESC', nestMax = 2) {\n+export function makeNestCommentNodeList(\n+  srcData: CommentData[],\n+  sortBy: SortByType = 'DATE_DESC',\n+  nestMax = 2,\n+) {\n   const nodeList: CommentNode[] = []\n \n   const roots = srcData.filter((o) => o.rid === 0)\n@@ -25,7 +29,6 @@ export function makeNestCommentNodeList(srcData: CommentData[], sortBy: SortByTy\n \n     rootNode.parent = rootNode\n     nodeList.push(rootNode)\n-\n     ;(function loadChildren(parentNode: CommentNode) {\n       const children = srcData.filter((o) => o.rid === parentNode.id)\n       if (children.length === 0) return\n@@ -55,7 +58,7 @@ export function makeNestCommentNodeList(srcData: CommentData[], sortBy: SortByTy\n     return v\n   }\n \n-  (function sortLevels(nodes: CommentNode[]) {\n+  ;(function sortLevels(nodes: CommentNode[]) {\n     nodes.forEach((node) => {\n       node.children = node.children.sort(sortFunc)\n       sortLevels(node.children)"
    },
    {
      "sha": "68971e89b116872533a14c73296f4fe37b401f12",
      "filename": "ui/artalk/src/list/page.ts",
      "status": "modified",
      "additions": 8,
      "deletions": 3,
      "changes": 11,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fpage.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fpage.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Fpage.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,7 +9,10 @@ function createPaginatorByConf(conf: Pick<ArtalkConfig, 'pagination'>): Paginato\n   return new UpDownPaginator()\n }\n \n-function getPageDataByLastData(ctx: ContextApi): { offset: number, total: number } {\n+function getPageDataByLastData(ctx: ContextApi): {\n+  offset: number\n+  total: number\n+} {\n   const last = ctx.getData().getListLastFetch()\n   const r = { offset: 0, total: 0 }\n   if (!last) return r\n@@ -21,7 +24,7 @@ function getPageDataByLastData(ctx: ContextApi): { offset: number, total: number\n }\n \n export const initListPaginatorFunc = (ctx: ContextApi) => {\n-  let paginator: Paginator|null = null\n+  let paginator: Paginator | null = null\n \n   // Init paginator when conf loaded\n   ctx.watchConf(['pagination', 'locale'], (conf) => {\n@@ -35,7 +38,9 @@ export const initListPaginatorFunc = (ctx: ContextApi) => {\n     // create paginator dom\n     const { offset, total } = getPageDataByLastData(ctx)\n     const $paginator = paginator.create({\n-      ctx, pageSize: conf.pagination.pageSize, total,\n+      ctx,\n+      pageSize: conf.pagination.pageSize,\n+      total,\n \n       readMoreAutoLoad: conf.pagination.autoLoad,\n     })"
    },
    {
      "sha": "0811032554d4cd6083056ebf0418aaaed3f4231b",
      "filename": "ui/artalk/src/list/paginator/up-down.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fpaginator%2Fup-down.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Flist%2Fpaginator%2Fup-down.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Flist%2Fpaginator%2Fup-down.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,9 +17,9 @@ export default class UpDownPaginator implements Paginator {\n           offset: o,\n           onSuccess: () => {\n             opt.ctx.listGotoFirst()\n-          }\n+          },\n         })\n-      }\n+      },\n     })\n \n     return this.instance.$el"
    },
    {
      "sha": "bdec5c094fb12a364aedc8b6b7ae893c81506f6a",
      "filename": "ui/artalk/src/load.ts",
      "status": "modified",
      "additions": 48,
      "deletions": 30,
      "changes": 78,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fload.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fload.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fload.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,7 +6,7 @@ import { DefaultPlugins } from './plugins'\n /**\n  * Global Plugins for all Artalk instances\n  */\n-export const GlobalPlugins: ArtalkPlugin[] = [ ...DefaultPlugins ]\n+export const GlobalPlugins: ArtalkPlugin[] = [...DefaultPlugins]\n \n export async function load(ctx: ContextApi) {\n   const loadedPlugins: ArtalkPlugin[] = []\n@@ -23,10 +23,13 @@ export async function load(ctx: ContextApi) {\n   loadPlugins(GlobalPlugins)\n \n   // Get conf from server\n-  const { data } = await ctx.getApi().conf.conf().catch((err) => {\n-    onLoadErr(ctx, err)\n-    throw err\n-  })\n+  const { data } = await ctx\n+    .getApi()\n+    .conf.conf()\n+    .catch((err) => {\n+      onLoadErr(ctx, err)\n+      throw err\n+    })\n \n   // Initial config\n   let conf: Partial<ArtalkConfig> = {\n@@ -35,19 +38,25 @@ export async function load(ctx: ContextApi) {\n \n   // Reference conf from backend\n   if (ctx.conf.useBackendConf) {\n-    if (!data.frontend_conf) throw new Error('The remote backend does not respond to the frontend conf, but `useBackendConf` conf is enabled')\n+    if (!data.frontend_conf)\n+      throw new Error(\n+        'The remote backend does not respond to the frontend conf, but `useBackendConf` conf is enabled',\n+      )\n     conf = { ...conf, ...handleConfFormServer(data.frontend_conf) }\n   }\n \n   // Apply conf modifier\n   ctx.conf.remoteConfModifier && ctx.conf.remoteConfModifier(conf)\n \n   // Dynamically load network plugins\n-  conf.pluginURLs && await loadNetworkPlugins(conf.pluginURLs, ctx.conf.server).then((plugins) => {\n-    loadPlugins(plugins)\n-  }).catch((err) => {\n-    console.error('Failed to load plugin', err)\n-  })\n+  conf.pluginURLs &&\n+    (await loadNetworkPlugins(conf.pluginURLs, ctx.conf.server)\n+      .then((plugins) => {\n+        loadPlugins(plugins)\n+      })\n+      .catch((err) => {\n+        console.error('Failed to load plugin', err)\n+      }))\n \n   // After all plugins are loaded\n   ctx.trigger('created')\n@@ -59,7 +68,8 @@ export async function load(ctx: ContextApi) {\n   ctx.trigger('mounted')\n \n   // Load comment list\n-  if (!ctx.conf.remoteConfModifier) {  // only auto fetch when no remoteConfModifier\n+  if (!ctx.conf.remoteConfModifier) {\n+    // only auto fetch when no remoteConfModifier\n     ctx.fetch({ offset: 0 })\n   }\n }\n@@ -77,20 +87,22 @@ async function loadNetworkPlugins(scripts: string[], apiBase: string): Promise<A\n     if (!/^(http|https):\\/\\//.test(url))\n       url = `${apiBase.replace(/\\/$/, '')}/${url.replace(/^\\//, '')}`\n \n-    tasks.push(new Promise<void>((resolve, reject) => {\n-      // check if loaded\n-      if (document.querySelector(`script[src=\"${url}\"]`)) {\n-        resolve()\n-        return\n-      }\n-\n-      // load script\n-      const script = document.createElement('script')\n-      script.src = url\n-      document.head.appendChild(script)\n-      script.onload = () => resolve()\n-      script.onerror = (err) => reject(err)\n-    }))\n+    tasks.push(\n+      new Promise<void>((resolve, reject) => {\n+        // check if loaded\n+        if (document.querySelector(`script[src=\"${url}\"]`)) {\n+          resolve()\n+          return\n+        }\n+\n+        // load script\n+        const script = document.createElement('script')\n+        script.src = url\n+        document.head.appendChild(script)\n+        script.onload = () => resolve()\n+        script.onerror = (err) => reject(err)\n+      }),\n+    )\n   })\n \n   await Promise.all(tasks)\n@@ -103,7 +115,10 @@ export function onLoadErr(ctx: ContextApi, err: any) {\n \n   // if response err_no_site, modify the sidebar open view to create site\n   if (err.data?.err_no_site) {\n-    const viewLoadParam = { create_name: ctx.conf.site, create_urls: `${window.location.protocol}//${window.location.host}` }\n+    const viewLoadParam = {\n+      create_name: ctx.conf.site,\n+      create_urls: `${window.location.protocol}//${window.location.host}`,\n+    }\n     sidebarOpenView = `sites|${JSON.stringify(viewLoadParam)}`\n   }\n \n@@ -112,8 +127,11 @@ export function onLoadErr(ctx: ContextApi, err: any) {\n     errMsg: err.msg || String(err),\n     errData: err.data,\n     retryFn: () => load(ctx),\n-    onOpenSidebar: ctx.get('user').getData().isAdmin ? () => ctx.showSidebar({\n-      view: sidebarOpenView as any\n-    }) : undefined // only show open sidebar button when user is admin\n+    onOpenSidebar: ctx.get('user').getData().isAdmin\n+      ? () =>\n+          ctx.showSidebar({\n+            view: sidebarOpenView as any,\n+          })\n+      : undefined, // only show open sidebar button when user is admin\n   })\n }"
    },
    {
      "sha": "d9ed6b312167538a428b15a83b7302ba3a957e28",
      "filename": "ui/artalk/src/plugins/admin-only-elem.ts",
      "status": "modified",
      "additions": 13,
      "deletions": 5,
      "changes": 18,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fadmin-only-elem.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fadmin-only-elem.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Fadmin-only-elem.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,9 +2,12 @@ import type { ArtalkPlugin } from '@/types'\n \n export const AdminOnlyElem: ArtalkPlugin = (ctx) => {\n   const scanApply = () => {\n-    applyAdminOnlyEls(ctx.get('user').getData().isAdmin, getAdminOnlyEls({\n-      $root: ctx.$root\n-    }))\n+    applyAdminOnlyEls(\n+      ctx.get('user').getData().isAdmin,\n+      getAdminOnlyEls({\n+        $root: ctx.$root,\n+      }),\n+    )\n   }\n \n   ctx.on('list-loaded', () => {\n@@ -20,14 +23,19 @@ function getAdminOnlyEls(opts: { $root: HTMLElement }): HTMLElement[] {\n   const els: HTMLElement[] = []\n \n   // elements in $root\n-  opts.$root.querySelectorAll<HTMLElement>(`[atk-only-admin-show]`).forEach(item => els.push(item))\n+  opts.$root\n+    .querySelectorAll<HTMLElement>(`[atk-only-admin-show]`)\n+    .forEach((item) => els.push(item))\n \n   // TODO: provide a Artalk.conf hook to set whitelist of admin-only elements,\n   // and move following code to that hook (move into @artalk/artalk-sidebar)\n \n   // elements in sidebar\n   const $sidebarEl = document.querySelector<HTMLElement>('.atk-sidebar')\n-  if ($sidebarEl) $sidebarEl.querySelectorAll<HTMLElement>(`[atk-only-admin-show]`).forEach(item => els.push(item))\n+  if ($sidebarEl)\n+    $sidebarEl\n+      .querySelectorAll<HTMLElement>(`[atk-only-admin-show]`)\n+      .forEach((item) => els.push(item))\n \n   return els\n }"
    },
    {
      "sha": "7f26c7fb7c7a978f6ec1c363c371260e1788fd10",
      "filename": "ui/artalk/src/plugins/dark-mode.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fdark-mode.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fdark-mode.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Fdark-mode.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,7 +7,7 @@ let darkModeMedia: MediaQueryList | undefined\n function updateClassnames($els: HTMLElement[], darkMode: boolean) {\n   const DarkModeClassName = 'atk-dark-mode'\n \n-  $els.forEach($el => {\n+  $els.forEach(($el) => {\n     if (darkMode) $el.classList.add(DarkModeClassName)\n     else $el.classList.remove(DarkModeClassName)\n   })\n@@ -17,7 +17,7 @@ export const DarkMode: ArtalkPlugin = (ctx) => {\n   // the handler bind to Artalk instance, don't forget to remove it when Artalk instance destroyed\n   let darkModeAutoHandler: ((evt: MediaQueryListEvent) => void) | undefined\n \n-  const sync = (darkMode: boolean|'auto') => {\n+  const sync = (darkMode: boolean | 'auto') => {\n     // the elements that classnames need to be updated when darkMode changed\n     const $els = [ctx.$root, ctx.get('layerManager').getEl()]\n "
    },
    {
      "sha": "30fbdaa5eb232ebf9c997e20c782df27be867d98",
      "filename": "ui/artalk/src/plugins/editor-kit.ts",
      "status": "modified",
      "additions": 52,
      "deletions": 48,
      "changes": 100,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor-kit.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor-kit.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor-kit.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,10 +5,10 @@ import EditorPlug from './editor/_plug'\n import PlugKit from './editor/_kit'\n \n export interface EditorEventPayloadMap {\n-  'mounted': undefined\n-  'unmounted': undefined\n-  'header-input': { field: string, $input: HTMLInputElement }\n-  'header-change': { field: string, $input: HTMLInputElement }\n+  mounted: undefined\n+  unmounted: undefined\n+  'header-input': { field: string; $input: HTMLInputElement }\n+  'header-change': { field: string; $input: HTMLInputElement }\n   'content-updated': string\n   'panel-show': EditorPlug\n   'panel-hide': EditorPlug\n@@ -27,47 +27,49 @@ export const EditorKit: ArtalkPlugin = (ctx) => {\n \n export class PlugManager {\n   private plugs: EditorPlug[] = []\n-  private openedPlug: EditorPlug|null = null\n+  private openedPlug: EditorPlug | null = null\n   private events = new EventManager<EditorEventPayloadMap>()\n \n-  getPlugs() { return this.plugs }\n-  getEvents() { return this.events }\n+  getPlugs() {\n+    return this.plugs\n+  }\n+  getEvents() {\n+    return this.events\n+  }\n \n   private clear() {\n     this.plugs = []\n     this.events = new EventManager()\n     if (this.openedPlug) this.closePlugPanel()\n   }\n \n-  constructor(\n-    public editor: EditorApi\n-  ) {\n+  constructor(public editor: EditorApi) {\n     let confLoaded = false // config not loaded at first time\n-    this.editor.ctx.watchConf([\n-      'imgUpload', 'emoticons', 'preview', 'editorTravel', 'locale'\n-    ], (conf) => {\n-      // trigger unmount event will call all plugs' unmount function\n-      // (this will only be called while conf reloaded, not be called at first time)\n-      confLoaded && this.getEvents().trigger('unmounted')\n-\n-      // reset the plugs\n-      this.clear()\n-\n-      // init the all enabled plugs\n-      getEnabledPlugs(conf)\n-        .forEach((Plug) => {\n+    this.editor.ctx.watchConf(\n+      ['imgUpload', 'emoticons', 'preview', 'editorTravel', 'locale'],\n+      (conf) => {\n+        // trigger unmount event will call all plugs' unmount function\n+        // (this will only be called while conf reloaded, not be called at first time)\n+        confLoaded && this.getEvents().trigger('unmounted')\n+\n+        // reset the plugs\n+        this.clear()\n+\n+        // init the all enabled plugs\n+        getEnabledPlugs(conf).forEach((Plug) => {\n           // create the plug instance\n           const kit = new PlugKit(this)\n           this.plugs.push(new Plug(kit))\n         })\n \n-      // trigger event for plug initialization\n-      this.getEvents().trigger('mounted')\n-      confLoaded = true\n+        // trigger event for plug initialization\n+        this.getEvents().trigger('mounted')\n+        confLoaded = true\n \n-      // refresh the plug UI\n-      this.loadPluginUI()\n-    })\n+        // refresh the plug UI\n+        this.loadPluginUI()\n+      },\n+    )\n \n     this.events.on('panel-close', () => this.closePlugPanel())\n   }\n@@ -89,24 +91,26 @@ export class PlugManager {\n     this.editor.getUI().$plugBtnWrap.appendChild($btn)\n \n     // bind the event when click plug btn\n-    !$btn.onclick && ($btn.onclick = () => {\n-      // removing the active class from all the buttons\n-      this.editor.getUI().$plugBtnWrap\n-        .querySelectorAll('.active')\n-        .forEach(item => item.classList.remove('active'))\n-\n-      // if the plug is not the same as the openedPlug,\n-      if (plug !== this.openedPlug) {\n-        // then open the plug current clicked plug panel\n-        this.openPlugPanel(plug)\n-\n-        // add active class for current plug panel\n-        $btn.classList.add('active')\n-      } else {\n-        // then close the plug\n-        this.closePlugPanel()\n-      }\n-    })\n+    !$btn.onclick &&\n+      ($btn.onclick = () => {\n+        // removing the active class from all the buttons\n+        this.editor\n+          .getUI()\n+          .$plugBtnWrap.querySelectorAll('.active')\n+          .forEach((item) => item.classList.remove('active'))\n+\n+        // if the plug is not the same as the openedPlug,\n+        if (plug !== this.openedPlug) {\n+          // then open the plug current clicked plug panel\n+          this.openPlugPanel(plug)\n+\n+          // add active class for current plug panel\n+          $btn.classList.add('active')\n+        } else {\n+          // then close the plug\n+          this.closePlugPanel()\n+        }\n+      })\n \n     // initialization of plug panel\n     const $panel = plug.$panel\n@@ -117,7 +121,7 @@ export class PlugManager {\n   }\n \n   get<T extends typeof EditorPlug>(plug: T) {\n-    return this.plugs.find(p => p instanceof plug) as InstanceType<T> | undefined;\n+    return this.plugs.find((p) => p instanceof plug) as InstanceType<T> | undefined\n   }\n \n   /** Open the editor plug panel */"
    },
    {
      "sha": "e2f0171844f953a6767353995c3dc255471efae2",
      "filename": "ui/artalk/src/plugins/editor/_kit.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 5,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2F_kit.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2F_kit.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2F_kit.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,14 +1,11 @@\n import type { PlugManager } from '../editor-kit'\n-import type EditorPlug from \"./_plug\"\n+import type EditorPlug from './_plug'\n \n /**\n  * PlugKit provides a set of methods to help you develop editor plug\n  */\n export default class PlugKit {\n-  constructor(\n-    private plugs: PlugManager\n-  ) {\n-  }\n+  constructor(private plugs: PlugManager) {}\n \n   /** Use the editor */\n   useEditor() {"
    },
    {
      "sha": "b38dac8964a5fdda184c3531ac080791f735026f",
      "filename": "ui/artalk/src/plugins/editor/_plug.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 4,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2F_plug.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2F_plug.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2F_plug.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -14,10 +14,7 @@ interface EditorPlug {\n }\n \n class EditorPlug {\n-  constructor(\n-    protected kit: PlugKit\n-  ) {\n-  }\n+  constructor(protected kit: PlugKit) {}\n \n   /** Use plug btn will add a btn on the bottom of editor */\n   useBtn(html: string = '<div></div>') {"
    },
    {
      "sha": "24163a6516c8cc366ff6f6d222bcece55c1228b6",
      "filename": "ui/artalk/src/plugins/editor/closable.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fclosable.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fclosable.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fclosable.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -28,7 +28,11 @@ export default class Closable extends EditorPlug {\n \n   private close() {\n     if (!this.kit.useUI().$textareaWrap.querySelector('.atk-comment-closed'))\n-      this.kit.useUI().$textareaWrap.prepend(Utils.createElement(`<div class=\"atk-comment-closed\">${$t('onlyAdminCanReply')}</div>`))\n+      this.kit\n+        .useUI()\n+        .$textareaWrap.prepend(\n+          Utils.createElement(`<div class=\"atk-comment-closed\">${$t('onlyAdminCanReply')}</div>`),\n+        )\n \n     if (!this.kit.useUser().getData().isAdmin) {\n       this.kit.useUI().$textarea.style.display = 'none'"
    },
    {
      "sha": "0729e31e66bee55794a0835367e35ea825fc2db4",
      "filename": "ui/artalk/src/plugins/editor/emoticons.scss",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Femoticons.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Femoticons.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Femoticons.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -15,7 +15,7 @@\n       flex-direction: row;\n       padding: 5px 10px 35px 10px;\n \n-      &[data-type=\"image\"] > .atk-item {\n+      &[data-type='image'] > .atk-item {\n         height: 63px;\n         width: 63px;\n       }"
    },
    {
      "sha": "df0167b1f7e9e437a8398d1f1114407f66029e3f",
      "filename": "ui/artalk/src/plugins/editor/emoticons.ts",
      "status": "modified",
      "additions": 57,
      "deletions": 36,
      "changes": 93,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Femoticons.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Femoticons.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Femoticons.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,15 +8,15 @@ import EditorPlug from './_plug'\n import type PlugKit from './_kit'\n \n type OwOFormatType = {\n-  [key: string] : {\n-    type: 'emoticon'|'emoji'|'image',\n-    container: {icon: string, text: string}[]\n+  [key: string]: {\n+    type: 'emoticon' | 'emoji' | 'image'\n+    container: { icon: string; text: string }[]\n   }\n }\n \n export default class Emoticons extends EditorPlug {\n   private emoticons: EmoticonListData = []\n-  private loadingTask: Promise<void>|null = null\n+  private loadingTask: Promise<void> | null = null\n \n   private $grpWrap!: HTMLElement\n   private $grpSwitcher!: HTMLElement\n@@ -26,7 +26,9 @@ export default class Emoticons extends EditorPlug {\n \n     this.kit.useMounted(() => {\n       this.usePanel(`<div class=\"atk-editor-plug-emoticons\"></div>`)\n-      this.useBtn(`<i aria-label=\"${$t('emoticon')}\"><svg fill=\"currentColor\" aria-hidden=\"true\" height=\"14\" viewBox=\"0 0 14 14\" width=\"14\"><path d=\"m4.26829 5.29294c0-.94317.45893-1.7074 1.02439-1.7074.56547 0 1.02439.76423 1.02439 1.7074s-.45892 1.7074-1.02439 1.7074c-.56546 0-1.02439-.76423-1.02439-1.7074zm4.43903 1.7074c.56546 0 1.02439-.76423 1.02439-1.7074s-.45893-1.7074-1.02439-1.7074c-.56547 0-1.02439.76423-1.02439 1.7074s.45892 1.7074 1.02439 1.7074zm-1.70732 2.73184c-1.51883 0-2.06312-1.52095-2.08361-1.58173l-1.29551.43231c.03414.10244.868 2.51604 3.3798 2.51604 2.51181 0 3.34502-2.41291 3.37982-2.51604l-1.29484-.43573c-.02254.06488-.56683 1.58583-2.08498 1.58583zm7-2.73252c0 3.86004-3.1401 7.00034-7 7.00034s-7-3.1396-7-6.99966c0-3.86009 3.1401-7.00034 7-7.00034s7 3.14025 7 7.00034zm-1.3659 0c0-3.10679-2.5275-5.63442-5.6341-5.63442-3.10663 0-5.63415 2.52832-5.63415 5.6351 0 3.10676 2.52752 5.63446 5.63415 5.63446 3.1066 0 5.6341-2.5277 5.6341-5.63446z\"/></svg></i>`)\n+      this.useBtn(\n+        `<i aria-label=\"${$t('emoticon')}\"><svg fill=\"currentColor\" aria-hidden=\"true\" height=\"14\" viewBox=\"0 0 14 14\" width=\"14\"><path d=\"m4.26829 5.29294c0-.94317.45893-1.7074 1.02439-1.7074.56547 0 1.02439.76423 1.02439 1.7074s-.45892 1.7074-1.02439 1.7074c-.56546 0-1.02439-.76423-1.02439-1.7074zm4.43903 1.7074c.56546 0 1.02439-.76423 1.02439-1.7074s-.45893-1.7074-1.02439-1.7074c-.56547 0-1.02439.76423-1.02439 1.7074s.45892 1.7074 1.02439 1.7074zm-1.70732 2.73184c-1.51883 0-2.06312-1.52095-2.08361-1.58173l-1.29551.43231c.03414.10244.868 2.51604 3.3798 2.51604 2.51181 0 3.34502-2.41291 3.37982-2.51604l-1.29484-.43573c-.02254.06488-.56683 1.58583-2.08498 1.58583zm7-2.73252c0 3.86004-3.1401 7.00034-7 7.00034s-7-3.1396-7-6.99966c0-3.86009 3.1401-7.00034 7-7.00034s7 3.14025 7 7.00034zm-1.3659 0c0-3.10679-2.5275-5.63442-5.6341-5.63442-3.10663 0-5.63415 2.52832-5.63415 5.6351 0 3.10676 2.52752 5.63446 5.63415 5.63446 3.1066 0 5.6341-2.5277 5.6341-5.63446z\"/></svg></i>`,\n+      )\n     })\n     this.kit.useUnmounted(() => {})\n \n@@ -91,39 +93,47 @@ export default class Emoticons extends EditorPlug {\n \n     const pushGrp = (grp: EmoticonGrpData) => {\n       if (typeof grp !== 'object') return\n-      if (grp.name && data.find(o => o.name === grp.name)) return\n+      if (grp.name && data.find((o) => o.name === grp.name)) return\n       data.push(grp)\n     }\n \n     // 加载子内容\n     const remoteLoad = async (d: any[]) => {\n-      await Promise.all(d.map(async (grp, index) => {\n-        if (typeof grp === 'object' && !Array.isArray(grp)) {\n-          pushGrp(grp)\n-        } else if (Array.isArray(grp)) {\n-          await remoteLoad(grp)\n-        } else if (typeof grp === \"string\") {\n-          const grpData = await this.remoteLoad(grp)\n-\n-          if (Array.isArray(grpData)) await remoteLoad(grpData)\n-          else if (typeof grpData === 'object') pushGrp(grpData)\n-        }\n-      }))\n+      await Promise.all(\n+        d.map(async (grp, index) => {\n+          if (typeof grp === 'object' && !Array.isArray(grp)) {\n+            pushGrp(grp)\n+          } else if (Array.isArray(grp)) {\n+            await remoteLoad(grp)\n+          } else if (typeof grp === 'string') {\n+            const grpData = await this.remoteLoad(grp)\n+\n+            if (Array.isArray(grpData)) await remoteLoad(grpData)\n+            else if (typeof grpData === 'object') pushGrp(grpData)\n+          }\n+        }),\n+      )\n     }\n     await remoteLoad(data)\n \n     // 处理数组数据\n     data.forEach((item: any) => {\n       if (this.isOwOFormat(item)) {\n         const c = this.convertOwO(item)\n-        c.forEach((grp) => { pushGrp(grp) })\n+        c.forEach((grp) => {\n+          pushGrp(grp)\n+        })\n       } else if (Array.isArray(item)) {\n-        item.forEach((grp) => { pushGrp(grp) })\n+        item.forEach((grp) => {\n+          pushGrp(grp)\n+        })\n       }\n     })\n \n     // 剔除非法数据\n-    data = data.filter((item: any) => (typeof item === 'object' && !Array.isArray(item) && !!item && !!item.name))\n+    data = data.filter(\n+      (item: any) => typeof item === 'object' && !Array.isArray(item) && !!item && !!item.name,\n+    )\n \n     // console.log(data)\n \n@@ -153,17 +163,17 @@ export default class Emoticons extends EditorPlug {\n   private solveNullKey(data: EmoticonGrpData[]) {\n     data.forEach((grp) => {\n       grp.items.forEach((item, index) => {\n-        if (!item.key) item.key = `${grp.name} ${index+1}`\n+        if (!item.key) item.key = `${grp.name} ${index + 1}`\n       })\n     })\n   }\n \n   /** 避免相同 item.key */\n   private solveSameKey(data: EmoticonGrpData[]) {\n-    const tmp: {[key: string]: number} = {}\n+    const tmp: { [key: string]: number } = {}\n     data.forEach((grp) => {\n-      grp.items.forEach(item => {\n-        if (!item.key || String(item.key).trim() === \"\") return\n+      grp.items.forEach((item) => {\n+        if (!item.key || String(item.key).trim() === '') return\n         if (!tmp[item.key]) tmp[item.key] = 1\n         else tmp[item.key]++\n \n@@ -175,10 +185,15 @@ export default class Emoticons extends EditorPlug {\n   /** 判断是否为 OwO 格式 */\n   private isOwOFormat(data: any) {\n     try {\n-      return (typeof data === 'object') && !!Object.values(data).length\n-        && Array.isArray(Object.keys(Object.values<any>(data)[0].container))\n-        && Object.keys(Object.values<any>(data)[0].container[0]).includes('icon')\n-    } catch { return false }\n+      return (\n+        typeof data === 'object' &&\n+        !!Object.values(data).length &&\n+        Array.isArray(Object.keys(Object.values<any>(data)[0].container)) &&\n+        Object.keys(Object.values<any>(data)[0].container[0]).includes('icon')\n+      )\n+    } catch {\n+      return false\n+    }\n   }\n \n   /** 转换 OwO 格式数据 */\n@@ -193,7 +208,10 @@ export default class Emoticons extends EditorPlug {\n           const find = /src=[\"'](.*?)[\"']/.exec(iconStr)\n           if (find && find.length > 1) item.icon = find[1]\n         }\n-        nGrp.items.push({ key: item.text || `${grpName} ${index+1}`, val: item.icon })\n+        nGrp.items.push({\n+          key: item.text || `${grpName} ${index + 1}`,\n+          val: item.icon,\n+        })\n       })\n       dest.push(nGrp)\n     })\n@@ -216,7 +234,7 @@ export default class Emoticons extends EditorPlug {\n         const $item = Utils.createElement(`<span class=\"atk-item\"></span>`)\n         $grp.append($item)\n \n-        if (!!item.key && !(new RegExp(`^(${grp.name})?\\\\s?[0-9]+$`).test(item.key)))\n+        if (!!item.key && !new RegExp(`^(${grp.name})?\\\\s?[0-9]+$`).test(item.key))\n           $item.setAttribute('title', item.key)\n \n         if (grp.type === 'image') {\n@@ -246,7 +264,7 @@ export default class Emoticons extends EditorPlug {\n         const $item = Utils.createElement('<span />')\n         $item.innerText = grp.name\n         $item.setAttribute('data-index', String(index))\n-        $item.onclick = () => (this.openGrp(index))\n+        $item.onclick = () => this.openGrp(index)\n         this.$grpSwitcher.append($item)\n       })\n     }\n@@ -266,7 +284,9 @@ export default class Emoticons extends EditorPlug {\n       }\n     })\n \n-    this.$grpSwitcher?.querySelectorAll('span.active').forEach(item => item.classList.remove('active'))\n+    this.$grpSwitcher\n+      ?.querySelectorAll('span.active')\n+      .forEach((item) => item.classList.remove('active'))\n     this.$grpSwitcher?.querySelector(`span[data-index=\"${index}\"]`)?.classList.add('active')\n \n     this.changeListHeight()\n@@ -279,13 +299,14 @@ export default class Emoticons extends EditorPlug {\n \n   /** 处理评论 content 中的表情内容 */\n   public transEmoticonImageText(text: string) {\n-    if (!this.emoticons || !Array.isArray(this.emoticons))\n-      return text\n+    if (!this.emoticons || !Array.isArray(this.emoticons)) return text\n \n     this.emoticons.forEach((grp) => {\n       if (grp.type !== 'image') return\n       Object.entries(grp.items).forEach(([index, item]) => {\n-        text = text.split(`:[${item.key}]`).join(`<img src=\"${item.val}\" atk-emoticon=\"${item.key}\">`) // replaceAll(...)\n+        text = text\n+          .split(`:[${item.key}]`)\n+          .join(`<img src=\"${item.val}\" atk-emoticon=\"${item.key}\">`) // replaceAll(...)\n       })\n     })\n "
    },
    {
      "sha": "8a5125387b589252b2300e5bb3d5ea3c4b681b59",
      "filename": "ui/artalk/src/plugins/editor/header-event.ts",
      "status": "modified",
      "additions": 14,
      "deletions": 7,
      "changes": 21,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fheader-event.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fheader-event.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fheader-event.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,18 +9,25 @@ export default class HeaderEvent extends EditorPlug {\n   constructor(kit: PlugKit) {\n     super(kit)\n \n-    const inputEventFns: {[name: string]: () => void} = {}\n-    const changeEventFns: {[name: string]: () => void} = {}\n+    const inputEventFns: { [name: string]: () => void } = {}\n+    const changeEventFns: { [name: string]: () => void } = {}\n \n-    const trigger = (evt: 'header-input'|'header-change', $input: HTMLInputElement, field: string) => () => {\n-      this.kit.useEvents().trigger(evt, { field, $input })\n-    }\n+    const trigger =\n+      (evt: 'header-input' | 'header-change', $input: HTMLInputElement, field: string) => () => {\n+        this.kit.useEvents().trigger(evt, { field, $input })\n+      }\n \n     this.kit.useMounted(() => {\n       // batch bind the events\n       Object.entries(this.$inputs).forEach(([key, $input]) => {\n-        $input.addEventListener('input', inputEventFns[key] = trigger('header-input', $input, key))\n-        $input.addEventListener('change', changeEventFns[key] = trigger('header-change', $input, key))\n+        $input.addEventListener(\n+          'input',\n+          (inputEventFns[key] = trigger('header-input', $input, key)),\n+        )\n+        $input.addEventListener(\n+          'change',\n+          (changeEventFns[key] = trigger('header-change', $input, key)),\n+        )\n       })\n     })\n "
    },
    {
      "sha": "ae7e0db053ab7891f77cd2c183dba9b5d1cac7e3",
      "filename": "ui/artalk/src/plugins/editor/header-user.ts",
      "status": "modified",
      "additions": 21,
      "deletions": 21,
      "changes": 42,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fheader-user.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fheader-user.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fheader-user.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,27 +7,24 @@ export default class HeaderUser extends EditorPlug {\n   constructor(kit: PlugKit) {\n     super(kit)\n \n-    const onInput = ({ $input, field }: { $input: HTMLInputElement, field: string }) => {\n-      if (this.kit.useEditor().getState() === 'edit')\n-        return // TODO: prevent execute when editing, since update comment.user not support\n+    const onInput = ({ $input, field }: { $input: HTMLInputElement; field: string }) => {\n+      if (this.kit.useEditor().getState() === 'edit') return // TODO: prevent execute when editing, since update comment.user not support\n \n       // update user data\n       this.kit.useUser().update({ [field]: $input.value.trim() })\n \n       // remote fetch user info\n-      if (field === 'nick' || field === 'email')\n-        this.fetchUserInfo() // must after update user data, since fetchUserInfo() will use User.data\n+      if (field === 'nick' || field === 'email') this.fetchUserInfo() // must after update user data, since fetchUserInfo() will use User.data\n     }\n \n     this.kit.useMounted(() => {\n-      Object.entries(this.kit.useEditor().getHeaderInputEls())\n-        .forEach(([key, $input]) => {\n-          // set placeholder\n-          $input.placeholder = `${$t(key as any)}`\n+      Object.entries(this.kit.useEditor().getHeaderInputEls()).forEach(([key, $input]) => {\n+        // set placeholder\n+        $input.placeholder = `${$t(key as any)}`\n \n-          // sync header values from User.data\n-          $input.value = this.kit.useUser().getData()[key] || ''\n-        })\n+        // sync header values from User.data\n+        $input.value = this.kit.useUser().getData()[key] || ''\n+      })\n \n       // bind events\n       this.kit.useEvents().on('header-input', onInput)\n@@ -39,8 +36,8 @@ export default class HeaderUser extends EditorPlug {\n   }\n \n   private query = {\n-    timer: <number|null>null,\n-    abortFn: <(() => void)|null>null\n+    timer: <number | null>null,\n+    abortFn: <(() => void) | null>null,\n   }\n \n   /**\n@@ -59,9 +56,14 @@ export default class HeaderUser extends EditorPlug {\n       const CANCEL_TOKEN = 'getUserCancelToken'\n       this.query.abortFn = () => api.abortRequest(CANCEL_TOKEN)\n \n-      api.user.getUser({ ...api.getUserFields() }, {\n-        cancelToken: CANCEL_TOKEN\n-      }).then(res => this.onUserInfoFetched(res.data))\n+      api.user\n+        .getUser(\n+          { ...api.getUserFields() },\n+          {\n+            cancelToken: CANCEL_TOKEN,\n+          },\n+        )\n+        .then((res) => this.onUserInfoFetched(res.data))\n         .catch((err) => {})\n         .finally(() => {\n           this.query.abortFn = null // clear the abort function (clarify the request is finished)\n@@ -74,9 +76,7 @@ export default class HeaderUser extends EditorPlug {\n    *\n    * @param data The response data from server\n    */\n-  private onUserInfoFetched(\n-    data: UserInfoApiResponseData\n-  ) {\n+  private onUserInfoFetched(data: UserInfoApiResponseData) {\n     // If api response is not login, logout\n     if (!data.is_login) this.kit.useUser().logout()\n \n@@ -87,7 +87,7 @@ export default class HeaderUser extends EditorPlug {\n     if (this.kit.useUser().checkHasBasicUserInfo() && !data.is_login && data.user?.is_admin) {\n       // then show login window\n       this.kit.useGlobalCtx().checkAdmin({\n-        onSuccess: () => {}\n+        onSuccess: () => {},\n       })\n     }\n "
    },
    {
      "sha": "e1c5c36b55cf7a0793a66723cd38712664ee85ad",
      "filename": "ui/artalk/src/plugins/editor/index.ts",
      "status": "modified",
      "additions": 15,
      "deletions": 6,
      "changes": 21,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -19,20 +19,29 @@ import Preview from './preview'\n const EDITOR_PLUGS: (typeof EditorPlug)[] = [\n   // Core\n   LocalStorage,\n-  HeaderEvent, HeaderUser, HeaderLink,\n+  HeaderEvent,\n+  HeaderUser,\n+  HeaderLink,\n   Textarea,\n-  Submit, SubmitBtn,\n-  Mover, StateReply, StateEdit,\n+  Submit,\n+  SubmitBtn,\n+  Mover,\n+  StateReply,\n+  StateEdit,\n   Closable,\n \n   // Extensions\n-  Emoticons, Upload, Preview\n+  Emoticons,\n+  Upload,\n+  Preview,\n ]\n \n /**\n  * Get the enabled plugs by config\n  */\n-export function getEnabledPlugs(conf: Pick<ArtalkConfig, 'imgUpload'|'emoticons'|'preview'|'editorTravel'>): (typeof EditorPlug)[] {\n+export function getEnabledPlugs(\n+  conf: Pick<ArtalkConfig, 'imgUpload' | 'emoticons' | 'preview' | 'editorTravel'>,\n+): (typeof EditorPlug)[] {\n   // The reference map of config and plugs\n   // (for check if the plug is enabled)\n   const confRefs = new Map<typeof EditorPlug, any>()\n@@ -41,5 +50,5 @@ export function getEnabledPlugs(conf: Pick<ArtalkConfig, 'imgUpload'|'emoticons'\n   confRefs.set(Preview, conf.preview)\n   confRefs.set(Mover, conf.editorTravel)\n \n-  return EDITOR_PLUGS.filter(p => !confRefs.has(p) || !!confRefs.get(p))\n+  return EDITOR_PLUGS.filter((p) => !confRefs.has(p) || !!confRefs.get(p))\n }"
    },
    {
      "sha": "da085ea1e45d3c69fb00c9c2be0725884935b54c",
      "filename": "ui/artalk/src/plugins/editor/mover.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 1,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fmover.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fmover.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fmover.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -23,7 +23,10 @@ export default class Mover extends EditorPlug {\n   back() {\n     if (!this.isMoved) return\n     this.isMoved = false\n-    this.kit.useGlobalCtx().$root.querySelector('.atk-editor-travel-placeholder')?.replaceWith(this.kit.useUI().$el)\n+    this.kit\n+      .useGlobalCtx()\n+      .$root.querySelector('.atk-editor-travel-placeholder')\n+      ?.replaceWith(this.kit.useUI().$el)\n     this.kit.useUI().$el.classList.remove('editor-traveling')\n   }\n }"
    },
    {
      "sha": "39b2ee7cf54e0db4a9d24d4e0d40e253f859b8d9",
      "filename": "ui/artalk/src/plugins/editor/preview.ts",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fpreview.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fpreview.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fpreview.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -15,7 +15,9 @@ export default class Preview extends EditorPlug {\n       this.usePanel(`<div class=\"atk-editor-plug-preview\"></div>`)\n \n       // initialize plug button\n-      this.useBtn(`<i aria-label=\"${$t('preview')}\"><svg fill=\"currentColor\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z\"></path></svg></i>`)\n+      this.useBtn(\n+        `<i aria-label=\"${$t('preview')}\"><svg fill=\"currentColor\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z\"></path></svg></i>`,\n+      )\n     })\n     this.kit.useUnmounted(() => {})\n "
    },
    {
      "sha": "2b561b12bae7ed1f153ac6640858e6e4aafb2368",
      "filename": "ui/artalk/src/plugins/editor/state-edit.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 4,
      "changes": 9,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fstate-edit.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fstate-edit.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fstate-edit.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -23,7 +23,7 @@ export default class StateEdit extends EditorPlug {\n     // register submit preset\n     this.kit.useMounted(() => {\n       const submitPlug = this.kit.useDeps(Submit)\n-      if (!submitPlug) throw Error(\"SubmitPlug not initialized\")\n+      if (!submitPlug) throw Error('SubmitPlug not initialized')\n \n       submitPlug.registerCustom({\n         activeCond: () => !!this.comment, // active this custom submit when edit mode\n@@ -36,13 +36,14 @@ export default class StateEdit extends EditorPlug {\n           }\n           const comment = this.comment!\n           const nComment = await this.kit.useApi().comments.updateComment(comment.id, {\n-            ...comment, ...saveData\n+            ...comment,\n+            ...saveData,\n           })\n           return nComment.data\n         },\n         post: (nComment: CommentData) => {\n           this.kit.useGlobalCtx().getData().updateComment(nComment)\n-        }\n+        },\n       })\n     })\n   }\n@@ -56,7 +57,7 @@ export default class StateEdit extends EditorPlug {\n           `${$t('editCancel')}` +\n           `</span>` +\n           `<span class=\"atk-cancel atk-icon-close atk-icon\"></span>` +\n-        `</span>`\n+          `</span>`,\n       )\n       $btn.onclick = () => {\n         this.kit.useEditor().resetState()"
    },
    {
      "sha": "492a0c3c51ba4a1c914af07206dd1b49f58a6490",
      "filename": "ui/artalk/src/plugins/editor/state-reply.ts",
      "status": "modified",
      "additions": 12,
      "deletions": 10,
      "changes": 22,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fstate-reply.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fstate-reply.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fstate-reply.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -25,7 +25,7 @@ export default class StateReply extends EditorPlug {\n     // register submit preset\n     this.kit.useEvents().on('mounted', () => {\n       const submitPlug = this.kit.useDeps(Submit)\n-      if (!submitPlug) throw Error(\"SubmitPlug not initialized\")\n+      if (!submitPlug) throw Error('SubmitPlug not initialized')\n \n       const defaultPreset = new SubmitAddPreset(this.kit)\n \n@@ -34,13 +34,15 @@ export default class StateReply extends EditorPlug {\n         req: async () => {\n           if (!this.comment) throw new Error('reply comment cannot be empty')\n \n-          const nComment = (await this.kit.useApi().comments.createComment({\n-            ...(await defaultPreset.getSubmitAddParams()),\n-            rid: this.comment.id,\n-            page_key: this.comment.page_key,\n-            page_title: undefined,\n-            site_name: this.comment.site_name\n-          })).data\n+          const nComment = (\n+            await this.kit.useApi().comments.createComment({\n+              ...(await defaultPreset.getSubmitAddParams()),\n+              rid: this.comment.id,\n+              page_key: this.comment.page_key,\n+              page_title: undefined,\n+              site_name: this.comment.site_name,\n+            })\n+          ).data\n \n           return nComment\n         },\n@@ -52,7 +54,7 @@ export default class StateReply extends EditorPlug {\n           }\n \n           defaultPreset.postSubmitAdd(nComment)\n-        }\n+        },\n       })\n     })\n   }\n@@ -66,7 +68,7 @@ export default class StateReply extends EditorPlug {\n           `${$t('reply')} <span class=\"atk-text\"></span>` +\n           `</span>` +\n           `<span class=\"atk-cancel atk-icon-close atk-icon\"></span>` +\n-        `</span>`\n+          `</span>`,\n       )\n       $btn.querySelector<HTMLElement>('.atk-text')!.innerText = `@${commentData.nick}`\n       $btn.addEventListener('click', () => {"
    },
    {
      "sha": "79838569b5f7390fad78b15cc04cfd569a6581dd",
      "filename": "ui/artalk/src/plugins/editor/submit-add.ts",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fsubmit-add.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fsubmit-add.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fsubmit-add.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,9 +6,11 @@ export default class SubmitAddPreset {\n   constructor(private kit: PlugKit) {}\n \n   async reqAdd() {\n-    const nComment = (await this.kit.useApi().comments.createComment({\n-      ...(await this.getSubmitAddParams())\n-    })).data\n+    const nComment = (\n+      await this.kit.useApi().comments.createComment({\n+        ...(await this.getSubmitAddParams()),\n+      })\n+    ).data\n     return nComment\n   }\n \n@@ -18,7 +20,9 @@ export default class SubmitAddPreset {\n \n     return {\n       content: this.kit.useEditor().getContentFinal(),\n-      name: nick, email, link,\n+      name: nick,\n+      email,\n+      link,\n       rid: 0,\n       page_key: conf.pageKey,\n       page_title: conf.pageTitle,"
    },
    {
      "sha": "a4e1758f32fcd4fc12571d4bc4e0593e33d20ddf",
      "filename": "ui/artalk/src/plugins/editor/submit.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fsubmit.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fsubmit.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fsubmit.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -42,7 +42,7 @@ export default class Submit extends EditorPlug {\n       return\n     }\n \n-    const custom = this.customs.find(o => o.activeCond())\n+    const custom = this.customs.find((o) => o.activeCond())\n \n     this.kit.useEditor().showLoading()\n "
    },
    {
      "sha": "d4b4fa58ef045c6b7b7bb807d7259e77326dcf94",
      "filename": "ui/artalk/src/plugins/editor/upload.ts",
      "status": "modified",
      "additions": 21,
      "deletions": 9,
      "changes": 30,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fupload.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fupload.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fupload.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -21,16 +21,19 @@ export default class Upload extends EditorPlug {\n     this.$imgUploadInput = document.createElement('input')\n     this.$imgUploadInput.type = 'file'\n     this.$imgUploadInput.style.display = 'none'\n-    this.$imgUploadInput.accept = AllowImgExts.map(o => `.${o}`).join(',')\n+    this.$imgUploadInput.accept = AllowImgExts.map((o) => `.${o}`).join(',')\n \n     // TODO: Use btn cannot refresh when mounted event is triggered\n-    const $btn = this.useBtn(`<i aria-label=\"${$t('uploadImage')}\"><svg fill=\"currentColor\" aria-hidden=\"true\" height=\"14\" viewBox=\"0 0 14 14\" width=\"14\"><path d=\"m0 1.94444c0-1.074107.870333-1.94444 1.94444-1.94444h10.11116c1.0741 0 1.9444.870333 1.9444 1.94444v10.11116c0 1.0741-.8703 1.9444-1.9444 1.9444h-10.11116c-1.074107 0-1.94444-.8703-1.94444-1.9444zm1.94444-.38888c-.21466 0-.38888.17422-.38888.38888v7.06689l2.33333-2.33333 2.33333 2.33333 3.88888-3.88889 2.3333 2.33334v-5.51134c0-.21466-.1742-.38888-.3888-.38888zm10.49996 8.09977-2.3333-2.33333-3.88888 3.8889-2.33333-2.33334-2.33333 2.33334v.8447c0 .2146.17422.3888.38888.3888h10.11116c.2146 0 .3888-.1742.3888-.3888zm-7.1944-6.54422c-.75133 0-1.36111.60978-1.36111 1.36111 0 .75134.60978 1.36111 1.36111 1.36111s1.36111-.60977 1.36111-1.36111c0-.75133-.60978-1.36111-1.36111-1.36111z\"/></svg></i>`)\n+    const $btn = this.useBtn(\n+      `<i aria-label=\"${$t('uploadImage')}\"><svg fill=\"currentColor\" aria-hidden=\"true\" height=\"14\" viewBox=\"0 0 14 14\" width=\"14\"><path d=\"m0 1.94444c0-1.074107.870333-1.94444 1.94444-1.94444h10.11116c1.0741 0 1.9444.870333 1.9444 1.94444v10.11116c0 1.0741-.8703 1.9444-1.9444 1.9444h-10.11116c-1.074107 0-1.94444-.8703-1.94444-1.9444zm1.94444-.38888c-.21466 0-.38888.17422-.38888.38888v7.06689l2.33333-2.33333 2.33333 2.33333 3.88888-3.88889 2.3333 2.33334v-5.51134c0-.21466-.1742-.38888-.3888-.38888zm10.49996 8.09977-2.3333-2.33333-3.88888 3.8889-2.33333-2.33334-2.33333 2.33334v.8447c0 .2146.17422.3888.38888.3888h10.11116c.2146 0 .3888-.1742.3888-.3888zm-7.1944-6.54422c-.75133 0-1.36111.60978-1.36111 1.36111 0 .75134.60978 1.36111 1.36111 1.36111s1.36111-.60977 1.36111-1.36111c0-.75133-.60978-1.36111-1.36111-1.36111z\"/></svg></i>`,\n+    )\n     $btn.after(this.$imgUploadInput)\n     $btn.onclick = () => {\n       // 选择图片\n       const $input = this.$imgUploadInput!\n       $input.onchange = () => {\n-        (async () => { // 解决阻塞 UI 问题\n+        ;(async () => {\n+          // 解决阻塞 UI 问题\n           if (!$input.files || $input.files.length === 0) return\n           const file = $input.files[0]\n           this.uploadImg(file)\n@@ -129,16 +132,25 @@ export default class Upload extends EditorPlug {\n       let imgURL = resp.public_url as string\n \n       // 若为相对路径，加上 artalk server\n-      if (!Utils.isValidURL(imgURL)) imgURL = Utils.getURLBasedOnApi({\n-        base: this.kit.useConf().server,\n-        path: imgURL,\n-      })\n+      if (!Utils.isValidURL(imgURL))\n+        imgURL = Utils.getURLBasedOnApi({\n+          base: this.kit.useConf().server,\n+          path: imgURL,\n+        })\n \n       // 上传成功插入图片\n-      this.kit.useEditor().setContent(this.kit.useUI().$textarea.value.replace(uploadPlaceholderTxt, `${insertPrefix}![](${imgURL})`))\n+      this.kit\n+        .useEditor()\n+        .setContent(\n+          this.kit\n+            .useUI()\n+            .$textarea.value.replace(uploadPlaceholderTxt, `${insertPrefix}![](${imgURL})`),\n+        )\n     } else {\n       // 上传失败删除加载文字\n-      this.kit.useEditor().setContent(this.kit.useUI().$textarea.value.replace(uploadPlaceholderTxt, ''))\n+      this.kit\n+        .useEditor()\n+        .setContent(this.kit.useUI().$textarea.value.replace(uploadPlaceholderTxt, ''))\n     }\n   }\n }"
    },
    {
      "sha": "debbb2e65cd5c8c18225c96c08a86b8c84a49b84",
      "filename": "ui/artalk/src/plugins/index.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 2,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,8 +9,12 @@ import { AdminOnlyElem } from './admin-only-elem'\n import { DarkMode } from './dark-mode'\n \n export const DefaultPlugins: ArtalkPlugin[] = [\n-  Markdown, EditorKit, AdminOnlyElem,\n+  Markdown,\n+  EditorKit,\n+  AdminOnlyElem,\n   ...ListPlugins,\n   Notifies,\n-  PvCountWidget, VersionCheck, DarkMode,\n+  PvCountWidget,\n+  VersionCheck,\n+  DarkMode,\n ]"
    },
    {
      "sha": "a98af86974ff96f1bc1d8bf80a8b93c2a1e34a43",
      "filename": "ui/artalk/src/plugins/list/copyright.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fcopyright.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fcopyright.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fcopyright.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,9 +8,9 @@ export const Copyright: ArtalkPlugin = (ctx) => {\n     const $copyright = list.$el.querySelector<HTMLElement>('.atk-copyright')\n     if (!$copyright) return\n \n-    $copyright.innerHTML = (\n+    $copyright.innerHTML =\n       `Powered By <a href=\"https://artalk.js.org\" ` +\n       `target=\"_blank\" title=\"Artalk v${ARTALK_VERSION}\">` +\n-      `Artalk</a>`)\n+      `Artalk</a>`\n   })\n }"
    },
    {
      "sha": "cf7ed0453e2653b90395a12d1e3249c42e2a3349",
      "filename": "ui/artalk/src/plugins/list/count.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fcount.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fcount.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fcount.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -9,7 +9,11 @@ export const Count: ArtalkPlugin = (ctx) => {\n     const $count = list.$el.querySelector('.atk-comment-count .atk-text')\n     if (!$count) return\n \n-    const text = Utils.htmlEncode($t('counter', { count: `${Number(ctx.getData().getListLastFetch()?.data?.count) || 0}` }))\n+    const text = Utils.htmlEncode(\n+      $t('counter', {\n+        count: `${Number(ctx.getData().getListLastFetch()?.data?.count) || 0}`,\n+      }),\n+    )\n     $count.innerHTML = text.replace(/(\\d+)/, '<span class=\"atk-comment-count-num\">$1</span>')\n   }\n "
    },
    {
      "sha": "b73ecc69839f316be233289303233897fbd4e925",
      "filename": "ui/artalk/src/plugins/list/dropdown.ts",
      "status": "modified",
      "additions": 45,
      "deletions": 13,
      "changes": 58,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fdropdown.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fdropdown.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fdropdown.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -12,11 +12,39 @@ export const Dropdown: ArtalkPlugin = (ctx) => {\n     renderDropdown({\n       $dropdownWrap: $dropdownOn,\n       dropdownList: [\n-        [$t('sortLatest'), () => { reloadUseParamsEditor(p => { p.sort_by = 'date_desc' }) }],\n-        [$t('sortBest'), () => { reloadUseParamsEditor(p => { p.sort_by = 'vote' }) }],\n-        [$t('sortOldest'), () => { reloadUseParamsEditor(p => { p.sort_by = 'date_asc' }) }],\n-        [$t('sortAuthor'), () => { reloadUseParamsEditor(p => { p.view_only_admin = true }) }],\n-      ]\n+        [\n+          $t('sortLatest'),\n+          () => {\n+            reloadUseParamsEditor((p) => {\n+              p.sort_by = 'date_desc'\n+            })\n+          },\n+        ],\n+        [\n+          $t('sortBest'),\n+          () => {\n+            reloadUseParamsEditor((p) => {\n+              p.sort_by = 'vote'\n+            })\n+          },\n+        ],\n+        [\n+          $t('sortOldest'),\n+          () => {\n+            reloadUseParamsEditor((p) => {\n+              p.sort_by = 'date_asc'\n+            })\n+          },\n+        ],\n+        [\n+          $t('sortAuthor'),\n+          () => {\n+            reloadUseParamsEditor((p) => {\n+              p.view_only_admin = true\n+            })\n+          },\n+        ],\n+      ],\n     })\n   }\n \n@@ -31,15 +59,15 @@ export const Dropdown: ArtalkPlugin = (ctx) => {\n       initDropdown($count)\n     } else {\n       removeDropdown({\n-        $dropdownWrap: $count\n+        $dropdownWrap: $count,\n       })\n     }\n   })\n }\n \n /** 评论排序方式选择下拉菜单 */\n function renderDropdown(conf: {\n-  $dropdownWrap: HTMLElement,\n+  $dropdownWrap: HTMLElement\n   dropdownList: [string, () => void][]\n }) {\n   const { $dropdownWrap, dropdownList } = conf\n@@ -58,12 +86,16 @@ function renderDropdown(conf: {\n \n     // set active\n     curtActive = i\n-    $dropdown.querySelectorAll('.active').forEach((e) => { e.classList.remove('active') })\n+    $dropdown.querySelectorAll('.active').forEach((e) => {\n+      e.classList.remove('active')\n+    })\n     $item.classList.add('active')\n \n     // 关闭层 (临时消失，取消 :hover)\n     $dropdown.style.display = 'none'\n-    setTimeout(() => { $dropdown.style.display = '' }, 80)\n+    setTimeout(() => {\n+      $dropdown.style.display = ''\n+    }, 80)\n   }\n \n   // 生成列表元素\n@@ -75,7 +107,9 @@ function renderDropdown(conf: {\n     const $item = Utils.createElement(`<li class=\"atk-dropdown-item\"><span></span></li>`)\n     const $link = $item.querySelector<HTMLElement>('span')!\n     $link.innerText = name\n-    $link.onclick = () => { onItemClick(i, $item, name, action) }\n+    $link.onclick = () => {\n+      onItemClick(i, $item, name, action)\n+    }\n     $dropdown.append($item)\n \n     if (i === curtActive) $item.classList.add('active') // 默认选中项\n@@ -85,9 +119,7 @@ function renderDropdown(conf: {\n }\n \n /** 删除评论排序方式选择下拉菜单 */\n-function removeDropdown(conf: {\n-  $dropdownWrap: HTMLElement\n-}) {\n+function removeDropdown(conf: { $dropdownWrap: HTMLElement }) {\n   const { $dropdownWrap } = conf\n   $dropdownWrap.classList.remove('atk-dropdown-wrap')\n   $dropdownWrap.querySelector('.atk-arrow-down-icon')?.remove()"
    },
    {
      "sha": "c4cc01a126d80b1b40be7d98349e6346688e74a5",
      "filename": "ui/artalk/src/plugins/list/error-dialog.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ferror-dialog.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ferror-dialog.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ferror-dialog.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -15,8 +15,7 @@ export const ErrorDialog: ArtalkPlugin = (ctx) => {\n       $err: ctx.get('list').$el,\n       errMsg: err.msg,\n       errData: err.data,\n-      retryFn: () => ctx.fetch({ offset: 0 })\n+      retryFn: () => ctx.fetch({ offset: 0 }),\n     })\n   })\n }\n-"
    },
    {
      "sha": "f81701c222dbef1c2f29d46f937dd008cd5b9b58",
      "filename": "ui/artalk/src/plugins/list/fetch.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 6,
      "changes": 13,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ffetch.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ffetch.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ffetch.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,12 +11,12 @@ export const Fetch: ArtalkPlugin = (ctx) => {\n       limit: ctx.conf.pagination.pageSize,\n       flatMode: ctx.conf.flatMode as boolean, // always be boolean because had been handled in Artalk.init\n       paramsModifier: ctx.conf.listFetchParamsModifier,\n-      ..._params\n+      ..._params,\n     }\n \n     // must before other function call\n     ctx.getData().setListLastFetch({\n-      params\n+      params,\n     })\n \n     // prepare params for request\n@@ -32,10 +32,11 @@ export const Fetch: ArtalkPlugin = (ctx) => {\n     if (params.paramsModifier) params.paramsModifier(reqParams)\n \n     // start request\n-    ctx.getApi().comments\n-      .getComments({\n+    ctx\n+      .getApi()\n+      .comments.getComments({\n         ...reqParams,\n-        ...ctx.getApi().getUserFields()\n+        ...ctx.getApi().getUserFields(),\n       })\n       .then(({ data }) => {\n         // Must before all other function call and event trigger,\n@@ -59,7 +60,7 @@ export const Fetch: ArtalkPlugin = (ctx) => {\n         // 显示错误对话框\n         const error = {\n           msg: e.msg || String(e),\n-          data: e.data\n+          data: e.data,\n         }\n \n         params.onError && params.onError(error)"
    },
    {
      "sha": "32308317e76a532d85b850033e287a12e0ab8490",
      "filename": "ui/artalk/src/plugins/list/goto-dispatcher.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 4,
      "changes": 9,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fgoto-dispatcher.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fgoto-dispatcher.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fgoto-dispatcher.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,8 +7,8 @@ export const GotoDispatcher: ArtalkPlugin = (ctx) => {\n     const commentID = extractCommentID()\n     if (!commentID) return\n \n-    if (locker && lastID === commentID) return  // if the commentID is the same as the last one, do nothing\n-    lastID = commentID  // record the last commentID\n+    if (locker && lastID === commentID) return // if the commentID is the same as the last one, do nothing\n+    lastID = commentID // record the last commentID\n \n     ctx.trigger('list-goto', commentID) // trigger event\n   }\n@@ -25,12 +25,13 @@ export const GotoDispatcher: ArtalkPlugin = (ctx) => {\n   })\n }\n \n-function extractCommentID(): number|null {\n+function extractCommentID(): number | null {\n   // Try get from hash\n   // Hash retrieval priority is higher than query,\n   // Because click goto will change hash.\n   const match = window.location.hash.match(/#atk-comment-([0-9]+)/)\n-  let commentId = match && match[1] && !Number.isNaN(parseFloat(match[1])) ? parseFloat(match[1]) : null\n+  let commentId =\n+    match && match[1] && !Number.isNaN(parseFloat(match[1])) ? parseFloat(match[1]) : null\n \n   // Fail over to get from query\n   if (!commentId) {"
    },
    {
      "sha": "31ecf85076b28282ee34590b3977d7bf66fa0847",
      "filename": "ui/artalk/src/plugins/list/goto-focus.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fgoto-focus.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fgoto-focus.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fgoto-focus.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,15 +3,17 @@ import type { ArtalkPlugin } from '@/types'\n export const GotoFocus: ArtalkPlugin = (ctx) => {\n   ctx.on('list-goto', async (commentID) => {\n     // find the comment node\n-    let comment = ctx.getCommentNodes().find(c => c.getID() === commentID)\n+    let comment = ctx.getCommentNodes().find((c) => c.getID() === commentID)\n     if (!comment) {\n       // fetch and insert the comment from the server\n       const data = (await ctx.getApi().comments.getComment(commentID)).data\n-      ctx.get('list').getListLayout({ forceFlatMode: true }).insert(data.comment, data.reply_comment)\n-      comment = ctx.getCommentNodes().find(c => c.getID() === commentID)\n+      ctx\n+        .get('list')\n+        .getListLayout({ forceFlatMode: true })\n+        .insert(data.comment, data.reply_comment)\n+      comment = ctx.getCommentNodes().find((c) => c.getID() === commentID)\n     }\n     if (!comment) return\n     comment.focus()\n   })\n }\n-"
    },
    {
      "sha": "4dc5725c4a82c0a03c720e25bdc32d780c0accca",
      "filename": "ui/artalk/src/plugins/list/index.ts",
      "status": "modified",
      "additions": 16,
      "deletions": 4,
      "changes": 20,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Findex.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Findex.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Findex.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,10 +17,22 @@ import { ReachBottom } from './reach-bottom'\n import { GotoFirst } from './goto-first'\n \n const ListPlugins: ArtalkPlugin[] = [\n-  Fetch, Loading, Unread,\n-  WithEditor, Count, SidebarBtn, UnreadBadge,\n-  Dropdown, GotoDispatcher, GotoFocus, NoComment, Copyright,\n-  TimeTicking, ErrorDialog, ReachBottom, GotoFirst\n+  Fetch,\n+  Loading,\n+  Unread,\n+  WithEditor,\n+  Count,\n+  SidebarBtn,\n+  UnreadBadge,\n+  Dropdown,\n+  GotoDispatcher,\n+  GotoFocus,\n+  NoComment,\n+  Copyright,\n+  TimeTicking,\n+  ErrorDialog,\n+  ReachBottom,\n+  GotoFirst,\n ]\n \n export { ListPlugins }"
    },
    {
      "sha": "311114f46a5a9029b96adaeb3d747b81df32aaf8",
      "filename": "ui/artalk/src/plugins/list/loading.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Floading.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Floading.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Floading.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,7 +5,8 @@ export const Loading: ArtalkPlugin = (ctx) => {\n   ctx.on('list-fetch', (p) => {\n     const list = ctx.get('list')\n \n-    if (p.offset === 0) // only show loading when fetch first page\n+    if (p.offset === 0)\n+      // only show loading when fetch first page\n       Ui.setLoading(true, list.$el)\n     // else if not first page, show loading in paginator (code not there)\n   })"
    },
    {
      "sha": "cfa5a2b3197ce3f7d9f318426e3fea768ea50be4",
      "filename": "ui/artalk/src/plugins/list/reach-bottom.ts",
      "status": "modified",
      "additions": 20,
      "deletions": 17,
      "changes": 37,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Freach-bottom.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Freach-bottom.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Freach-bottom.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,27 +1,30 @@\n import type { ArtalkPlugin } from '@/types'\n \n export const ReachBottom: ArtalkPlugin = (ctx) => {\n-  let observer: IntersectionObserver|null = null\n+  let observer: IntersectionObserver | null = null\n \n   const setupObserver = ($target: HTMLElement) => {\n     const scrollEvtAt = (ctx.conf.scrollRelativeTo && ctx.conf.scrollRelativeTo()) || null\n \n     // eslint-disable-next-line compat/compat\n-    observer = new IntersectionObserver(([entries]) => {\n-      if (entries.isIntersecting) {\n-        clearObserver() // clear before trigger event to avoid trigger twice `list-reach-bottom`\n-\n-        // note that this event will be triggered only once\n-        // until the next list is loaded\n-        ctx.trigger('list-reach-bottom')\n-      }\n-    }, {\n-      threshold: 0.9, // when the target is 90% visible\n-\n-      // @see https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/root\n-      // If the root is null, then the bounds of the actual document viewport are used.\n-      root: scrollEvtAt\n-    })\n+    observer = new IntersectionObserver(\n+      ([entries]) => {\n+        if (entries.isIntersecting) {\n+          clearObserver() // clear before trigger event to avoid trigger twice `list-reach-bottom`\n+\n+          // note that this event will be triggered only once\n+          // until the next list is loaded\n+          ctx.trigger('list-reach-bottom')\n+        }\n+      },\n+      {\n+        threshold: 0.9, // when the target is 90% visible\n+\n+        // @see https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/root\n+        // If the root is null, then the bounds of the actual document viewport are used.\n+        root: scrollEvtAt,\n+      },\n+    )\n     observer.observe($target)\n   }\n \n@@ -37,7 +40,7 @@ export const ReachBottom: ArtalkPlugin = (ctx) => {\n \n     // get the second last child\n     const children = list.getCommentsWrapEl().childNodes\n-    const $target = children.length > 2 ? children[children.length - 2] as HTMLElement : null\n+    const $target = children.length > 2 ? (children[children.length - 2] as HTMLElement) : null\n     if (!$target) return\n \n     // check IntersectionObserver support"
    },
    {
      "sha": "139ab75f839527d225d136318c50416e7d6e025f",
      "filename": "ui/artalk/src/plugins/list/sidebar-btn.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fsidebar-btn.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fsidebar-btn.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fsidebar-btn.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,7 +2,7 @@ import type { ArtalkPlugin } from '@/types'\n import $t from '@/i18n'\n \n export const SidebarBtn: ArtalkPlugin = (ctx) => {\n-  let $openSidebarBtn: HTMLElement|null = null\n+  let $openSidebarBtn: HTMLElement | null = null\n \n   const syncByUser = () => {\n     if (!$openSidebarBtn) return\n@@ -14,7 +14,7 @@ export const SidebarBtn: ArtalkPlugin = (ctx) => {\n \n       // update button text (normal user or admin)\n       const $btnText = $openSidebarBtn.querySelector<HTMLElement>('.atk-text')\n-      if ($btnText) $btnText.innerText = (!user.isAdmin) ? $t('msgCenter') : $t('ctrlCenter')\n+      if ($btnText) $btnText.innerText = !user.isAdmin ? $t('msgCenter') : $t('ctrlCenter')\n     } else {\n       $openSidebarBtn.classList.add('atk-hide')\n     }\n@@ -26,7 +26,8 @@ export const SidebarBtn: ArtalkPlugin = (ctx) => {\n     $openSidebarBtn = list.$el.querySelector<HTMLElement>('[data-action=\"open-sidebar\"]')\n     if (!$openSidebarBtn) return\n \n-    $openSidebarBtn.onclick = () => { // use onclick rather than addEventListener to prevent duplicate event\n+    $openSidebarBtn.onclick = () => {\n+      // use onclick rather than addEventListener to prevent duplicate event\n       ctx.showSidebar()\n     }\n "
    },
    {
      "sha": "5b7a9c729dab54c7a22004f897175ce00873811e",
      "filename": "ui/artalk/src/plugins/list/time-ticking.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ftime-ticking.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ftime-ticking.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Ftime-ticking.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,13 +3,13 @@ import * as Utils from '@/lib/utils'\n \n /** 评论时间自动更新 */\n export const TimeTicking: ArtalkPlugin = (ctx) => {\n-  let timer: number|null = null\n+  let timer: number | null = null\n \n   ctx.on('mounted', () => {\n     timer = window.setInterval(() => {\n       const list = ctx.get('list')\n \n-      list.$el.querySelectorAll<HTMLElement>('[data-atk-comment-date]').forEach(el => {\n+      list.$el.querySelectorAll<HTMLElement>('[data-atk-comment-date]').forEach((el) => {\n         const date = el.getAttribute('data-atk-comment-date')\n         el.innerText = Utils.timeAgo(new Date(Number(date)), ctx.$t)\n       })"
    },
    {
      "sha": "b79edf786ac4faf416bf565c776f2bf61bd6c2e8",
      "filename": "ui/artalk/src/plugins/list/unread-badge.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Funread-badge.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Funread-badge.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Funread-badge.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,7 +1,7 @@\n import type { ArtalkPlugin } from '@/types'\n \n export const UnreadBadge: ArtalkPlugin = (ctx) => {\n-  let $unreadBadge: HTMLElement|null = null\n+  let $unreadBadge: HTMLElement | null = null\n \n   const showUnreadBadge = (count: number) => {\n     if (!$unreadBadge) return"
    },
    {
      "sha": "5eb59692ffd831e8fa0ee7aa92c17c2fdcdd57be",
      "filename": "ui/artalk/src/plugins/list/unread.ts",
      "status": "modified",
      "additions": 11,
      "deletions": 4,
      "changes": 15,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Funread.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Funread.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Funread.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,7 +6,7 @@ export const Unread: ArtalkPlugin = (ctx) => {\n     // comment unread highlight\n     if (ctx.conf.listUnreadHighlight === true) {\n       const notifies = ctx.getData().getNotifies()\n-      const notify = notifies.find(o => o.comment_id === comment.getID())\n+      const notify = notifies.find((o) => o.comment_id === comment.getID())\n \n       if (notify) {\n         // if comment contains in unread list\n@@ -15,7 +15,7 @@ export const Unread: ArtalkPlugin = (ctx) => {\n           window.open(notify.read_link)\n \n           // remove notify which has been read\n-          ctx.getData().updateNotifies(notifies.filter(o => o.comment_id !== comment.getID()))\n+          ctx.getData().updateNotifies(notifies.filter((o) => o.comment_id !== comment.getID()))\n         })\n       } else {\n         // comment not in unread list\n@@ -28,10 +28,17 @@ export const Unread: ArtalkPlugin = (ctx) => {\n     const notifyKey = Utils.getQueryParam('atk_notify_key')\n     if (notifyKey) {\n       // mark as read\n-      ctx.getApi().notifies.markNotifyRead(commentID, notifyKey)\n+      ctx\n+        .getApi()\n+        .notifies.markNotifyRead(commentID, notifyKey)\n         .then(() => {\n           // remove from unread list\n-          ctx.getData().updateNotifies(ctx.getData().getNotifies().filter(o => o.comment_id !== commentID))\n+          ctx.getData().updateNotifies(\n+            ctx\n+              .getData()\n+              .getNotifies()\n+              .filter((o) => o.comment_id !== commentID),\n+          )\n         })\n     }\n   })"
    },
    {
      "sha": "bd2bb6030d64ee677f789d7df2d56b9553ef02d9",
      "filename": "ui/artalk/src/plugins/list/with-editor.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 3,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fwith-editor.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fwith-editor.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Flist%2Fwith-editor.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,7 +2,7 @@ import type { ContextApi, ArtalkPlugin, PageData } from '@/types'\n import $t from '@/i18n'\n \n export const WithEditor: ArtalkPlugin = (ctx) => {\n-  let $closeCommentBtn: HTMLElement|undefined\n+  let $closeCommentBtn: HTMLElement | undefined\n \n   // on Artalk mounted\n   // (after all components had mounted)\n@@ -46,11 +46,13 @@ export const WithEditor: ArtalkPlugin = (ctx) => {\n /** 管理员设置页面信息 */\n function adminPageEditSave(ctx: ContextApi, page: PageData) {\n   ctx.editorShowLoading()\n-  ctx.getApi().pages.updatePage(page.id, page)\n+  ctx\n+    .getApi()\n+    .pages.updatePage(page.id, page)\n     .then(({ data }) => {\n       ctx.getData().updatePage(data)\n     })\n-    .catch(err => {\n+    .catch((err) => {\n       ctx.editorShowNotify(`${$t('editFail')}: ${err.message || String(err)}`, 'e')\n     })\n     .finally(() => {"
    },
    {
      "sha": "a02c57dcc99472ef72249e88c1b5d9398644a858",
      "filename": "ui/artalk/src/plugins/notifies.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 3,
      "changes": 9,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fnotifies.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fnotifies.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Fnotifies.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,8 +8,11 @@ export const Notifies: ArtalkPlugin = (ctx) => {\n     if (!user) return\n \n     // Fetch all unread notifies\n-    ctx.getApi().notifies.getNotifies(user).then(res => {\n-      ctx.getData().updateNotifies(res.data.notifies)\n-    })\n+    ctx\n+      .getApi()\n+      .notifies.getNotifies(user)\n+      .then((res) => {\n+        ctx.getData().updateNotifies(res.data.notifies)\n+      })\n   })\n }"
    },
    {
      "sha": "6fa2824e55f0717a3541ecd38e84ccc754b89645",
      "filename": "ui/artalk/src/plugins/stat.ts",
      "status": "modified",
      "additions": 22,
      "deletions": 17,
      "changes": 39,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fstat.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fstat.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Fstat.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -15,17 +15,15 @@ export interface CountOptions {\n }\n \n export const PvCountWidget: ArtalkPlugin = (ctx: ContextApi) => {\n-  ctx.watchConf([\n-    'site', 'pageKey', 'pageTitle', 'countEl', 'pvEl',\n-  ], (conf) => {\n+  ctx.watchConf(['site', 'pageKey', 'pageTitle', 'countEl', 'pvEl'], (conf) => {\n     initCountWidget({\n       getApi: () => ctx.getApi(),\n       siteName: conf.site,\n       pageKey: conf.pageKey,\n       pageTitle: conf.pageTitle,\n       countEl: conf.countEl,\n       pvEl: conf.pvEl,\n-      pvAdd: (typeof ctx.conf.pvAdd === 'boolean' ? ctx.conf.pvAdd : true),\n+      pvAdd: typeof ctx.conf.pvAdd === 'boolean' ? ctx.conf.pvAdd : true,\n     })\n   })\n }\n@@ -38,13 +36,18 @@ export async function initCountWidget(opt: CountOptions) {\n   }\n \n   // PV\n-  const initialData = (opt.pvAdd && opt.pageKey) ? {\n-    [opt.pageKey]: (await opt.getApi().pages.logPv({\n-      page_key: opt.pageKey,\n-      page_title: opt.pageTitle,\n-      site_name: opt.siteName,\n-    })).data.pv // pv+1 and get pv count\n-  } : undefined\n+  const initialData =\n+    opt.pvAdd && opt.pageKey\n+      ? {\n+          [opt.pageKey]: (\n+            await opt.getApi().pages.logPv({\n+              page_key: opt.pageKey,\n+              page_title: opt.pageTitle,\n+              site_name: opt.siteName,\n+            })\n+          ).data.pv, // pv+1 and get pv count\n+        }\n+      : undefined\n \n   if (opt.pvEl && document.querySelector(opt.pvEl)) {\n     refreshStatCount(opt, {\n@@ -63,7 +66,7 @@ async function refreshStatCount(\n     query: 'page_pv' | 'page_comment'\n     numEl: string\n     data?: CountData\n-  }\n+  },\n ) {\n   let data: CountData = args.data || {}\n \n@@ -76,10 +79,12 @@ async function refreshStatCount(\n \n   // Fetch count data from server\n   if (queryPageKeys.length > 0) {\n-    const res = (await opt.getApi().stats.getStats(args.query, {\n-      page_keys: queryPageKeys.join(','),\n-      site_name: opt.siteName,\n-    })).data.data as CountData\n+    const res = (\n+      await opt.getApi().stats.getStats(args.query, {\n+        page_keys: queryPageKeys.join(','),\n+        site_name: opt.siteName,\n+      })\n+    ).data.data as CountData\n     data = { ...data, ...res }\n   }\n \n@@ -90,7 +95,7 @@ async function refreshStatCount(\n function applyCountData(selector: string, data: CountData, defaultCount: number) {\n   document.querySelectorAll(selector).forEach((el) => {\n     const pageKey = el.getAttribute('data-page-key')\n-    const count = Number(pageKey ? (data[pageKey]) : defaultCount)\n+    const count = Number(pageKey ? data[pageKey] : defaultCount)\n     el.innerHTML = `${count}`\n   })\n }"
    },
    {
      "sha": "e4488e043eb5aa0d84de3de1d0ac57a9ca8912a8",
      "filename": "ui/artalk/src/plugins/version-check.ts",
      "status": "modified",
      "additions": 6,
      "deletions": 5,
      "changes": 11,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fversion-check.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fplugins%2Fversion-check.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fplugins%2Fversion-check.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,14 +17,15 @@ export const VersionCheck: ArtalkPlugin = (ctx) => {\n \n function versionCheck(list: List, feVer: string, beVer: string) {\n   const comp = Utils.versionCompare(feVer, beVer)\n-  const sameVer = (comp === 0)\n+  const sameVer = comp === 0\n   if (sameVer) return\n \n   const errEl = Utils.createElement(\n-    `<div>${$t('updateMsg', { name: (comp < 0) ? $t('frontend') : $t('backend') })}` +\n-    `<br/><br/><span style=\"color: var(--at-color-meta);\">` +\n-    `${$t('currentVersion')}: ${$t('frontend')} ${feVer} / ${$t('backend')} ${beVer}` +\n-    `</span><br/><br/></div>`)\n+    `<div>${$t('updateMsg', { name: comp < 0 ? $t('frontend') : $t('backend') })}` +\n+      `<br/><br/><span style=\"color: var(--at-color-meta);\">` +\n+      `${$t('currentVersion')}: ${$t('frontend')} ${feVer} / ${$t('backend')} ${beVer}` +\n+      `</span><br/><br/></div>`,\n+  )\n   const ignoreBtn = Utils.createElement(`<span style=\"cursor:pointer\">${$t('ignore')}</span>`)\n   ignoreBtn.onclick = () => {\n     Ui.setError(list.$el.parentElement!, null)"
    },
    {
      "sha": "ab7312dc56926df37f89f2d29c41958398424d1a",
      "filename": "ui/artalk/src/service.ts",
      "status": "modified",
      "additions": 11,
      "deletions": 7,
      "changes": 18,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fservice.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fservice.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fservice.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -30,7 +30,7 @@ const services = {\n     const user = new User({\n       onUserChanged: (data) => {\n         ctx.trigger('user-changed', data)\n-      }\n+      },\n     })\n     return user\n   },\n@@ -48,7 +48,7 @@ const services = {\n       onReload: () => ctx.reload(),\n \n       // make sure suffix with a slash, because it will be used as a base url when call `fetch`\n-      getCaptchaIframeURL: () => `${ctx.conf.server}/api/v2/captcha/?t=${+new Date()}`\n+      getCaptchaIframeURL: () => `${ctx.conf.server}/api/v2/captcha/?t=${+new Date()}`,\n     })\n     return checkerLauncher\n   },\n@@ -79,17 +79,21 @@ const services = {\n   // Not inject to ctx immediately,\n   // but can be injected by other occasions\n \n-  editorPlugs(): PlugManager|undefined {\n+  editorPlugs(): PlugManager | undefined {\n     return undefined\n-  }\n+  },\n }\n \n export default services\n \n // type tricks for dependency injection\n type TServiceImps = typeof services\n-type TObjectWithFuncs = {[k: string]: (...args: any) => any}\n-type TKeysOnlyReturn<T extends TObjectWithFuncs, V> = {[K in keyof T]: ReturnType<T[K]> extends V ? K : never}[keyof T]\n+type TObjectWithFuncs = { [k: string]: (...args: any) => any }\n+type TKeysOnlyReturn<T extends TObjectWithFuncs, V> = {\n+  [K in keyof T]: ReturnType<T[K]> extends V ? K : never\n+}[keyof T]\n type TOmitConditions = TKeysOnlyReturn<TServiceImps, void>\n type TServiceInjectors = Omit<TServiceImps, TOmitConditions>\n-export type TInjectedServices = {[K in keyof TServiceInjectors]: ReturnType<TServiceInjectors[K]>}\n+export type TInjectedServices = {\n+  [K in keyof TServiceInjectors]: ReturnType<TServiceInjectors[K]>\n+}"
    },
    {
      "sha": "7f1b49999886d18c83f1a784ecebb99f5dd1f836",
      "filename": "ui/artalk/src/style/_color.scss",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2F_color.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2F_color.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fstyle%2F_color.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,12 +1,13 @@\n-.artalk, .atk-layer-wrap {\n+.artalk,\n+.atk-layer-wrap {\n   --at-color-font: #2a2e2e;\n   --at-color-deep: #2a2e2e;\n   --at-color-sub: #757575;\n   --at-color-grey: #747474;\n   --at-color-meta: #697182;\n   --at-color-border: #eceff2;\n   --at-color-light: #4285f4;\n-  --at-color-bg: #FFF;\n+  --at-color-bg: #fff;\n   --at-color-bg-transl: rgba(255, 255, 255, 0.94);\n   --at-color-bg-grey: #f3f4f5;\n   --at-color-bg-grey-transl: rgba(244, 244, 244, 0.75);\n@@ -29,7 +30,7 @@\n     --at-color-bg: #1e2224;\n     --at-color-bg-transl: rgba(30, 34, 36, 0.95);\n     --at-color-bg-grey: #46494e;\n-    --at-color-bg-grey-transl:  rgba(8, 8, 8, 0.95);\n+    --at-color-bg-grey-transl: rgba(8, 8, 8, 0.95);\n     --at-color-bg-light: rgba(29, 161, 242, 0.1);\n     --at-color-main: #0083ff;\n     --at-color-red: #ff5652;"
    },
    {
      "sha": "790cde3bc6cedcd59800fca653f8a73ada58d0c2",
      "filename": "ui/artalk/src/style/_extend.scss",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2F_extend.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2F_extend.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fstyle%2F_extend.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,14 +7,14 @@\n \n   &::-webkit-scrollbar-thumb,\n   &::-webkit-scrollbar-thumb:window-inactive {\n-    background: rgba(86,86,86,.3);\n+    background: rgba(86, 86, 86, 0.3);\n   }\n \n   &::-webkit-scrollbar-thumb:vertical:hover {\n-    background: rgba(65,74,82,.77);\n+    background: rgba(65, 74, 82, 0.77);\n   }\n \n   &::-webkit-scrollbar-thumb:vertical:active {\n-    background: rgba(41,47,53,.77);\n+    background: rgba(41, 47, 53, 0.77);\n   }\n }"
    },
    {
      "sha": "d430c0f5201d9837e2492deef5ae3eefaf907f5c",
      "filename": "ui/artalk/src/style/comment.scss",
      "status": "modified",
      "additions": 19,
      "deletions": 10,
      "changes": 29,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2Fcomment.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2Fcomment.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fstyle%2Fcomment.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -7,8 +7,12 @@\n     animation: atkFlashOnce 1s ease-in-out 0s;\n \n     @keyframes atkFlashOnce {\n-      from { background: rgba(0, 131, 255, 0.2); }\n-      to { background: transparent; }\n+      from {\n+        background: rgba(0, 131, 255, 0.2);\n+      }\n+      to {\n+        background: transparent;\n+      }\n     }\n   }\n \n@@ -62,7 +66,7 @@\n     & > .atk-header {\n       line-height: 1.5;\n       font-size: 13px;\n-      margin-bottom: .5em;\n+      margin-bottom: 0.5em;\n       overflow: hidden;\n       position: relative;\n       display: flex;\n@@ -80,7 +84,8 @@\n           margin-right: 6px;\n         }\n \n-        &.atk-nick, &.atk-nick a {\n+        &.atk-nick,\n+        &.atk-nick a {\n           font-size: 14px;\n           color: var(--at-color-main);\n           text-decoration: none;\n@@ -215,7 +220,7 @@\n           font-size: 15px;\n \n           .atk-nick {\n-            color: var(--at-color-main)\n+            color: var(--at-color-main);\n           }\n         }\n \n@@ -265,7 +270,8 @@\n           cursor: pointer;\n           user-select: none;\n \n-          &.atk-error, &.atk-error:hover {\n+          &.atk-error,\n+          &.atk-error:hover {\n             color: var(--at-color-red);\n           }\n \n@@ -288,7 +294,7 @@\n     display: block;\n     overflow: hidden;\n     width: 100%;\n-    content: \" \";\n+    content: ' ';\n     bottom: 0;\n     height: 80px;\n     background: var(--at-color-gradient);\n@@ -330,12 +336,15 @@\n       /* Shadow covers */\n       linear-gradient($cOverwrite 1px, transparent 1px calc(100% - 1px)) center top,\n       linear-gradient(transparent calc(100% - 1px), $cOverwrite calc(100% - 1px) 1px) center bottom,\n-      /* Shadows */\n-      linear-gradient($cBorder 1px, transparent 1px calc(100% - 1px)) center top,\n+      /* Shadows */ linear-gradient($cBorder 1px, transparent 1px calc(100% - 1px)) center top,\n       linear-gradient(transparent calc(100% - 1px), $cBorder calc(100% - 1px) 1px) center bottom;\n     background-repeat: no-repeat;\n     background-color: transparent;\n-    background-size: 100% 1px, 100% 1px, 100% 1px, 100% 1px;\n+    background-size:\n+      100% 1px,\n+      100% 1px,\n+      100% 1px,\n+      100% 1px;\n     /* Opera doesn't support this in the shorthand */\n     background-attachment: local, local, scroll, scroll;\n   }"
    },
    {
      "sha": "c590d39bc2b400abbccd1f7a7772eac418273faa",
      "filename": "ui/artalk/src/style/list.scss",
      "status": "modified",
      "additions": 6,
      "deletions": 3,
      "changes": 9,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2Flist.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2Flist.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fstyle%2Flist.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -53,7 +53,8 @@\n       }\n \n       .atk-dropdown-item {\n-        span, a {\n+        span,\n+        a {\n           display: block;\n           line-height: 2rem;\n           position: relative;\n@@ -66,7 +67,8 @@\n           }\n         }\n \n-        &.active span, a {\n+        &.active span,\n+        a {\n           color: var(--at-color-main);\n         }\n       }\n@@ -95,7 +97,8 @@\n         user-select: none;\n         position: relative;\n \n-        &.atk-on, &.atk-on * {\n+        &.atk-on,\n+        &.atk-on * {\n           color: var(--at-color-main);\n         }\n "
    },
    {
      "sha": "f661217eead6faf4a7ef47256e9026ca8861170d",
      "filename": "ui/artalk/src/style/main.scss",
      "status": "modified",
      "additions": 93,
      "deletions": 48,
      "changes": 141,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2Fmain.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Fstyle%2Fmain.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fstyle%2Fmain.scss?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,4 +1,4 @@\n-@import \"./_color.scss\";\n+@import './_color.scss';\n @import './comment.scss';\n @import './list.scss';\n @import './pagination.scss';\n@@ -11,7 +11,8 @@\n   min-height: 200px;\n }\n \n-.artalk, .atk-layer-wrap {\n+.artalk,\n+.atk-layer-wrap {\n   color: var(--at-color-font);\n   word-wrap: break-word;\n   word-break: break-word;\n@@ -20,21 +21,30 @@\n     box-sizing: border-box;\n   }\n \n-  input, textarea, button, optgroup, select {\n+  input,\n+  textarea,\n+  button,\n+  optgroup,\n+  select {\n     font-family: inherit;\n     color: inherit;\n     font-size: inherit;\n   }\n \n-  $codeFont: source code pro, Consolas, Monaco, Menlo, sans-serif;\n+  $codeFont:\n+    source code pro,\n+    Consolas,\n+    Monaco,\n+    Menlo,\n+    sans-serif;\n \n   code {\n     font-family: $codeFont;\n-    margin: 0 .05em;\n-    padding: 0 .4em;\n+    margin: 0 0.05em;\n+    padding: 0 0.4em;\n     display: inline-block;\n     vertical-align: middle;\n-    font-size: .9em;\n+    font-size: 0.9em;\n     background-color: var(--at-color-bg-grey);\n     color: var(--at-color-font);\n     border-radius: 2px;\n@@ -47,7 +57,9 @@\n   }\n \n   pre code {\n-    * { font-family: $codeFont; }\n+    * {\n+      font-family: $codeFont;\n+    }\n     line-height: $line-height;\n     display: block;\n     padding: 10px 15px;\n@@ -88,17 +100,18 @@\n     border-collapse: collapse;\n     border-spacing: 0;\n     margin-bottom: 1.5em;\n-    font-size: .96em\n+    font-size: 0.96em;\n   }\n \n-  td, th {\n+  td,\n+  th {\n     text-align: left;\n     padding: 4px 8px 4px 10px;\n-    border: 1px solid var(--at-color-border)\n+    border: 1px solid var(--at-color-border);\n   }\n \n   td {\n-    vertical-align: top\n+    vertical-align: top;\n   }\n \n   tr:nth-child(even) {\n@@ -161,45 +174,63 @@\n     left: 0;\n \n     circle {\n-      stroke-dasharray: 1,200;\n+      stroke-dasharray: 1, 200;\n       stroke-dashoffset: 0;\n-      animation: atkDash 1.5s ease-in-out infinite, atkColor 6s ease-in-out infinite;\n-      stroke-linecap: round\n+      animation:\n+        atkDash 1.5s ease-in-out infinite,\n+        atkColor 6s ease-in-out infinite;\n+      stroke-linecap: round;\n     }\n   }\n }\n \n @keyframes atkRotate {\n-  100% { transform: rotate(360deg) }\n+  100% {\n+    transform: rotate(360deg);\n+  }\n }\n \n @keyframes atkDash {\n   0% {\n-    stroke-dasharray: 1,200;\n-    stroke-dashoffset: 0\n+    stroke-dasharray: 1, 200;\n+    stroke-dashoffset: 0;\n   }\n \n   50% {\n-    stroke-dasharray: 89,200;\n-    stroke-dashoffset: -35px\n+    stroke-dasharray: 89, 200;\n+    stroke-dashoffset: -35px;\n   }\n \n   100% {\n-    stroke-dasharray: 89,200;\n-    stroke-dashoffset: -124px\n+    stroke-dasharray: 89, 200;\n+    stroke-dashoffset: -124px;\n   }\n }\n \n @keyframes atkColor {\n-  0%,100% { stroke: #ff5652 }\n-  40% { stroke: #2196F3 }\n-  66% { stroke: #32c787 }\n-  80%,90% { stroke: #ffc107 }\n+  0%,\n+  100% {\n+    stroke: #ff5652;\n+  }\n+  40% {\n+    stroke: #2196f3;\n+  }\n+  66% {\n+    stroke: #32c787;\n+  }\n+  80%,\n+  90% {\n+    stroke: #ffc107;\n+  }\n }\n \n @keyframes atkLoadingIconRotate {\n-  0% { transform: rotate(0) }\n-  100% { transform: rotate(360deg) }\n+  0% {\n+    transform: rotate(0);\n+  }\n+  100% {\n+    transform: rotate(360deg);\n+  }\n }\n \n .atk-loading-icon {\n@@ -210,40 +241,51 @@\n   border-top-color: #29d;\n   border-left-color: #29d;\n   border-radius: 50%;\n-  animation: atkLoadingIconRotate .4s linear infinite;\n+  animation: atkLoadingIconRotate 0.4s linear infinite;\n }\n \n /* Animations */\n .atk-fade-in {\n-  animation: atkFadeIn both .3s;\n+  animation: atkFadeIn both 0.3s;\n }\n \n .atk-fade-out {\n-  animation: atkFadeOut both .2s;\n+  animation: atkFadeOut both 0.2s;\n }\n .atk-rotate {\n   animation: atkRotate 2s linear infinite;\n }\n \n @keyframes atkFadeIn {\n-  0% { opacity: 0 }\n-  to { opacity: 1 }\n+  0% {\n+    opacity: 0;\n+  }\n+  to {\n+    opacity: 1;\n+  }\n }\n \n @keyframes atkFadeOut {\n-  100% { opacity: 0; }\n-  0% {}\n+  100% {\n+    opacity: 0;\n+  }\n+  0% {\n+  }\n }\n \n @keyframes atkRotate {\n-  from { transform: rotate(0deg); }\n-  to { transform: rotate(360deg); }\n+  from {\n+    transform: rotate(0deg);\n+  }\n+  to {\n+    transform: rotate(360deg);\n+  }\n }\n \n .atk-icon {\n   &::after {\n     display: block;\n-    content: \"\";\n+    content: '';\n     width: 1em;\n     height: 1em;\n     background-color: var(--at-color-deep);\n@@ -268,23 +310,25 @@\n   mask-image: url(\"data:image/svg+xml,%3Csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.70618 4.08515L12.6081 7.06376M1.00041 13.021L11.7376 2L14.6392 4.97861L3.90274 16H1L1.00041 13.021Z' stroke='%234E5969' stroke-width='1.5'/%3E%3C/svg%3E\");\n }\n \n-.atk-icon-yes::after, .atk-icon-check::after {\n+.atk-icon-yes::after,\n+.atk-icon-check::after {\n   mask-image: url(\"data:image/svg+xml,%3Csvg width='25' height='25' viewBox='0 0 25 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21.7071 5.75533L9.92197 17.5404L3.29285 10.9113' stroke='%234E5969'/%3E%3C/svg%3E\");\n }\n \n .atk-icon-plus::after {\n   mask-image: url(\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.08331 10H17.9166' stroke='%234E5969' stroke-width='2'/%3E%3Cpath d='M10 2.08334L10 17.9167' stroke='%234E5969' stroke-width='2'/%3E%3C/svg%3E\");\n }\n \n-.atk-icon-close-slim::after  {\n+.atk-icon-close-slim::after {\n   mask-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='25' height='25' viewBox='0 0 25 25' fill='none'%3E%3Cpath d='M19.8657 5.13431L12.5 12.5L5.13431 19.8657' stroke='%234E5969'/%3E%3Cpath d='M5.13431 5.13432L12.5 12.5L19.8657 19.8657' stroke='%234E5969'/%3E%3C/svg%3E\");\n }\n \n .atk-icon-arrow-left::after {\n   mask-image: url('data:image/svg+xml,<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.54542 8.00004L11 12.6667L9.72729 14L4 8.00004L9.72729 2L11 3.33333L6.54542 8.00004Z\" /></svg>');\n }\n \n-.atk-icon-no::after, .atk-icon-close::after {\n+.atk-icon-no::after,\n+.atk-icon-close::after {\n   mask-image: url('data:image/svg+xml,<svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 512 512\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z\"></path></svg>');\n }\n \n@@ -301,7 +345,8 @@\n     color: var(--at-color-yellow);\n   }\n \n-  .atk-error-title, .atk-warn-title {\n+  .atk-error-title,\n+  .atk-warn-title {\n     display: inline-block;\n     padding: 0 15px;\n     margin-bottom: 20px;\n@@ -374,7 +419,7 @@\n         outline: none;\n \n         &:active {\n-          color: #FFF;\n+          color: #fff;\n           background: var(--at-color-main);\n         }\n \n@@ -383,7 +428,7 @@\n         }\n \n         &.error {\n-          color: #FFF;\n+          color: #fff;\n           background: #ff5652;\n           border-color: #ff5652;\n         }\n@@ -429,15 +474,15 @@\n \n @media only screen and (max-width: 768px) {\n   .atk-layer-dialog-wrap > .atk-layer-dialog {\n-      width: 90% !important;\n+    width: 90% !important;\n   }\n }\n \n .atk-notify {\n   display: block;\n   overflow: hidden;\n   background-color: #2c2c2c;\n-  color: #FFF;\n+  color: #fff;\n   border-radius: calc($block-radius / 2);\n   cursor: pointer;\n   font-size: 14px;\n@@ -448,7 +493,7 @@\n   }\n \n   .atk-notify-content {\n-    color: #FFF;\n+    color: #fff;\n   }\n }\n \n@@ -460,7 +505,7 @@\n     width: 100%;\n     height: 100%;\n     z-index: 99998;\n-    background: rgba(0, 0, 0, .3);\n+    background: rgba(0, 0, 0, 0.3);\n   }\n \n   .atk-layer-item {"
    },
    {
      "sha": "243adc7ffcf5b9fdd165fcd23a1dd174c418b3d6",
      "filename": "ui/artalk/src/types/config.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fconfig.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fconfig.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Ftypes%2Fconfig.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,7 +4,7 @@ import type { EditorApi } from './editor'\n \n export interface ArtalkConfig {\n   /** 装载元素 */\n-  el: string|HTMLElement\n+  el: string | HTMLElement\n \n   /** 页面唯一标识（完整 URL） */\n   pageKey: string\n@@ -31,7 +31,7 @@ export interface ArtalkConfig {\n   editorTravel: boolean\n \n   /** 表情包 */\n-  emoticons: object|any[]|string|false\n+  emoticons: object | any[] | string | false\n \n   /** Gravatar 头像 */\n   gravatar: {\n@@ -42,7 +42,7 @@ export interface ArtalkConfig {\n   }\n \n   /** 头像链接生成器 */\n-  avatarURLBuilder?: (comment: CommentData) => string,\n+  avatarURLBuilder?: (comment: CommentData) => string\n \n   /** 分页配置 */\n   pagination: {\n@@ -82,19 +82,19 @@ export interface ArtalkConfig {\n   pvEl: string\n \n   /** 夜间模式 */\n-  darkMode: boolean|'auto'\n+  darkMode: boolean | 'auto'\n \n   /** 请求超时（单位：秒） */\n   reqTimeout: number\n \n   /** 平铺模式 */\n-  flatMode: boolean|'auto'\n+  flatMode: boolean | 'auto'\n \n   /** 嵌套模式 · 最大层数 */\n   nestMax: number\n \n   /** 嵌套模式 · 排序方式 */\n-  nestSort: 'DATE_ASC'|'DATE_DESC'\n+  nestSort: 'DATE_ASC' | 'DATE_DESC'\n \n   /** 显示 UA 徽标 */\n   uaBadge: boolean\n@@ -115,7 +115,7 @@ export interface ArtalkConfig {\n   useBackendConf: boolean\n \n   /** 语言本地化 */\n-  locale: I18n|string\n+  locale: I18n | string\n \n   /** 后端版本 (系统数据，用户不允许更改) */\n   apiVersion?: string"
    },
    {
      "sha": "5863baf2dc4f36bdb4b573b42290dcb3a4ab491c",
      "filename": "ui/artalk/src/types/context.ts",
      "status": "modified",
      "additions": 15,
      "deletions": 4,
      "changes": 19,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fcontext.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fcontext.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Ftypes%2Fcontext.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -5,7 +5,15 @@ import type { TMarked } from '@/lib/marked'\n import type { I18n } from '@/i18n'\n import type { Api, ApiHandlers } from '@/api'\n import type { CommentNode } from '@/comment'\n-import type { SidebarShowPayload, EventPayloadMap, ArtalkConfig, CommentData, DataManagerApi, ListFetchParams, NotifyLevel } from '.'\n+import type {\n+  SidebarShowPayload,\n+  EventPayloadMap,\n+  ArtalkConfig,\n+  CommentData,\n+  DataManagerApi,\n+  ListFetchParams,\n+  NotifyLevel,\n+} from '.'\n \n /**\n  * Artalk Context\n@@ -94,10 +102,10 @@ export interface ContextApi extends EventManagerFuncs<EventPayloadMap> {\n   checkAdmin(payload: CheckerPayload): Promise<void>\n \n   /** i18n 翻译 */\n-  $t(key: keyof I18n, args?: {[key: string]: string}): string\n+  $t(key: keyof I18n, args?: { [key: string]: string }): string\n \n   /** 设置夜间模式 */\n-  setDarkMode(darkMode: boolean|'auto'): void\n+  setDarkMode(darkMode: boolean | 'auto'): void\n \n   /** 获取配置 */\n   getConf(): ArtalkConfig\n@@ -109,5 +117,8 @@ export interface ContextApi extends EventManagerFuncs<EventPayloadMap> {\n   updateConf(conf: Partial<ArtalkConfig>): void\n \n   /** 监听配置更新 */\n-  watchConf<T extends (keyof ArtalkConfig)[]>(keys: T, effect: (val: Pick<ArtalkConfig, T[number]>) => void): void\n+  watchConf<T extends (keyof ArtalkConfig)[]>(\n+    keys: T,\n+    effect: (val: Pick<ArtalkConfig, T[number]>) => void,\n+  ): void\n }"
    },
    {
      "sha": "28bd9c0968e2e9afae739db125864fd2058c8ad3",
      "filename": "ui/artalk/src/types/data.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 7,
      "changes": 14,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fdata.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fdata.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Ftypes%2Fdata.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -187,9 +187,9 @@ export interface NotifyData {\n }\n \n export type EmoticonGrpData = {\n-  name: string,\n-  type: 'emoticon'|'image'|'emoji'\n-  items: {key: string, val: string}[]\n+  name: string\n+  type: 'emoticon' | 'image' | 'emoji'\n+  items: { key: string; val: string }[]\n }\n \n export type EmoticonListData = EmoticonGrpData[]\n@@ -223,11 +223,11 @@ export interface DataManagerApi {\n   getLoading(): boolean\n   setLoading(val: boolean): void\n \n-  getListLastFetch(): ListLastFetchData|undefined\n+  getListLastFetch(): ListLastFetchData | undefined\n   setListLastFetch(val: ListLastFetchData): void\n \n   getComments(): CommentData[]\n-  findComment(id: number): CommentData|undefined\n+  findComment(id: number): CommentData | undefined\n \n   fetchComments(params: Partial<ListFetchParams>): void\n   loadComments(comments: CommentData[]): void\n@@ -240,11 +240,11 @@ export interface DataManagerApi {\n   getNotifies(): NotifyData[]\n   updateNotifies(notifies: NotifyData[]): void\n \n-  getPage(): PageData|undefined\n+  getPage(): PageData | undefined\n   updatePage(pageData: PageData): void\n }\n \n-export type NotifyLevel = \"i\" | \"s\" | \"w\" | \"e\"\n+export type NotifyLevel = 'i' | 's' | 'w' | 'e'\n \n export interface UserInfoApiResponseData {\n   user?: UserData"
    },
    {
      "sha": "7ca87f5c118ee3933a92f6b31ac9ca80da140a21",
      "filename": "ui/artalk/src/types/event.ts",
      "status": "modified",
      "additions": 31,
      "deletions": 24,
      "changes": 55,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fevent.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fevent.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Ftypes%2Fevent.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -2,37 +2,44 @@ import type { CommentNode } from '@/comment'\n import { CommentData, ListData, ListFetchParams, NotifyData, PageData } from './data'\n import { ArtalkConfig, LocalUser } from './config'\n \n-export interface ListErrorData { msg: string, data?: any }\n-export interface ListFetchedArgs { params: Partial<ListFetchParams>, data?: ListData, error?: ListErrorData }\n+export interface ListErrorData {\n+  msg: string\n+  data?: any\n+}\n+export interface ListFetchedArgs {\n+  params: Partial<ListFetchParams>\n+  data?: ListData\n+  error?: ListErrorData\n+}\n \n /** EventName to EventPayload Type */\n export interface EventPayloadMap {\n   // Basic lifecycle\n-  'created': undefined\n-  'mounted': undefined\n-  'updated': ArtalkConfig\n-  'unmounted': undefined\n+  created: undefined\n+  mounted: undefined\n+  updated: ArtalkConfig\n+  unmounted: undefined\n \n-  'list-fetch': Partial<ListFetchParams>    // 评论列表请求时\n-  'list-fetched': ListFetchedArgs           // 评论列表请求后\n-  'list-load': CommentData[]     // 评论装载前 (list-load payload is partial comments)\n+  'list-fetch': Partial<ListFetchParams> // 评论列表请求时\n+  'list-fetched': ListFetchedArgs // 评论列表请求后\n+  'list-load': CommentData[] // 评论装载前 (list-load payload is partial comments)\n \n-  'list-loaded': CommentData[]     // 评论装载后 (list-loaded payload is full comments)\n-  'list-failed': ListErrorData          // 评论加载错误时\n+  'list-loaded': CommentData[] // 评论装载后 (list-loaded payload is full comments)\n+  'list-failed': ListErrorData // 评论加载错误时\n \n-  'list-goto-first': undefined    // 评论列表归位时\n-  'list-reach-bottom': undefined  // 评论列表滚动到底部时\n+  'list-goto-first': undefined // 评论列表归位时\n+  'list-reach-bottom': undefined // 评论列表滚动到底部时\n \n-  'comment-inserted': CommentData  // 评论插入后\n-  'comment-updated': CommentData   // 评论更新后\n-  'comment-deleted': CommentData   // 评论删除后\n-  'comment-rendered': CommentNode  // 评论节点渲染后\n+  'comment-inserted': CommentData // 评论插入后\n+  'comment-updated': CommentData // 评论更新后\n+  'comment-deleted': CommentData // 评论删除后\n+  'comment-rendered': CommentNode // 评论节点渲染后\n   'notifies-updated': NotifyData[] // 消息列表变更时\n-  'list-goto': number              // 评论跳转时\n-  'page-loaded': PageData          // 页面数据更新后\n-  'editor-submit': undefined       // 编辑器提交时\n-  'editor-submitted': undefined    // 编辑器提交后\n-  'user-changed': LocalUser        // 本地用户数据变更时\n-  'sidebar-show': undefined        // 侧边栏显示\n-  'sidebar-hide': undefined        // 侧边栏隐藏\n+  'list-goto': number // 评论跳转时\n+  'page-loaded': PageData // 页面数据更新后\n+  'editor-submit': undefined // 编辑器提交时\n+  'editor-submitted': undefined // 编辑器提交后\n+  'user-changed': LocalUser // 本地用户数据变更时\n+  'sidebar-show': undefined // 侧边栏显示\n+  'sidebar-hide': undefined // 侧边栏隐藏\n }"
    },
    {
      "sha": "d3c805cd59b9fb2b91fb59c30fd84fdf4b8c308d",
      "filename": "ui/artalk/src/types/sidebar.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fsidebar.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fsrc%2Ftypes%2Fsidebar.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Ftypes%2Fsidebar.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,3 +1,3 @@\n export interface SidebarShowPayload {\n-  view?: 'comments'|'sites'|'pages'|'transfer'\n+  view?: 'comments' | 'sites' | 'pages' | 'transfer'\n }"
    },
    {
      "sha": "288e7d75e7be4d97843276bbd5f6e19be06f2557",
      "filename": "ui/artalk/tests/e2e/comment-add.spec.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 3,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fe2e%2Fcomment-add.spec.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fe2e%2Fcomment-add.spec.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftests%2Fe2e%2Fcomment-add.spec.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -17,7 +17,5 @@ test('Comment Add', async ({ page }) => {\n   await page.getByPlaceholder('键入内容...').fill(CommentContent)\n   await page.getByRole('button', { name: '发送评论' }).click()\n   await page.waitForResponse('http://localhost:23366/api/v2/comments')\n-  expect(\n-    await page.locator('.atk-list').getByText(CommentContent).isVisible(),\n-  ).toBeTruthy()\n+  expect(await page.locator('.atk-list').getByText(CommentContent).isVisible()).toBeTruthy()\n })"
    },
    {
      "sha": "cc9ca3762b61462f0c13b0262cc13e7b0770dc09",
      "filename": "ui/artalk/tests/html/ArtalkCount.html",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkCount.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkCount.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkCount.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,6 +11,6 @@\n     server: 'http://localhost:23366',\n     site: 'ArtalkDocs',\n     pvEl: '.pv',\n-    countEl: \".count\",\n-  });\n+    countEl: '.count',\n+  })\n </script>"
    },
    {
      "sha": "92e01425ada6b729074b568aa393dd4bcf081905",
      "filename": "ui/artalk/tests/html/ArtalkI18n.html",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkI18n.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkI18n.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkI18n.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,4 +1,4 @@\n-<link rel=\"stylesheet\" href=\"../../dist/Artalk.css\">\n+<link rel=\"stylesheet\" href=\"../../dist/Artalk.css\" />\n <script src=\"../../dist/Artalk.js\"></script>\n <script src=\"../../dist/i18n/zh-TW.js\"></script>\n \n@@ -12,5 +12,5 @@\n     server: 'http://localhost:23366',\n     site: 'ArtalkDocs',\n     locale: 'auto',\n-  });\n+  })\n </script>"
    },
    {
      "sha": "9b8c15ace23d4c7f2c347ddb763801f92dc7978c",
      "filename": "ui/artalk/tests/html/ArtalkLite.html",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkLite.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkLite.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftests%2Fhtml%2FArtalkLite.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,5 +1,5 @@\n <!-- <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script> -->\n-<link rel=\"stylesheet\" href=\"../../dist/ArtalkLite.css\">\n+<link rel=\"stylesheet\" href=\"../../dist/ArtalkLite.css\" />\n <script src=\"../../dist/ArtalkLite.js\"></script>\n \n <div id=\"comments\"></div>\n@@ -11,5 +11,5 @@\n     pageTitle: 'Artalk Home',\n     server: 'http://localhost:23366',\n     site: 'ArtalkDocs',\n-  });\n+  })\n </script>"
    },
    {
      "sha": "2e5f8a619a89229ec0a9d5fe5e159d4f77fc8af1",
      "filename": "ui/artalk/tests/html/CSRF.html",
      "status": "modified",
      "additions": 21,
      "deletions": 23,
      "changes": 44,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FCSRF.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fhtml%2FCSRF.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftests%2Fhtml%2FCSRF.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,26 +1,24 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <title>CSRF Test</title>\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <title>CSRF Test</title>\n \n-  <!-- 解除注释来测试当 referer 为空时的行为 -->\n-  <!-- <meta name=\"referrer\" content=\"never\"> -->\n-</head>\n-<body>\n-\n-  <form action=\"http://localhost:23366/api/add\" method=\"post\">\n-    <input type=\"text\" name=\"name\" value=\"admin\">\n-    <input type=\"text\" name=\"email\" value=\"test@example.com\">\n-    <input type=\"text\" name=\"link\" value=\"\">\n-    <input type=\"text\" name=\"content\" value=\"CSRF Success\">\n-    <input type=\"text\" name=\"rid\" value=\"0\">\n-    <input type=\"text\" name=\"page_key\" value=\"https://artalk.js.org/\">\n-    <input type=\"text\" name=\"site_name\" value=\"ArtalkDocs\">\n-    <button type=\"submit\">Fire!</button>\n-  </form>\n-\n-</body>\n+    <!-- 解除注释来测试当 referer 为空时的行为 -->\n+    <!-- <meta name=\"referrer\" content=\"never\"> -->\n+  </head>\n+  <body>\n+    <form action=\"http://localhost:23366/api/add\" method=\"post\">\n+      <input type=\"text\" name=\"name\" value=\"admin\" />\n+      <input type=\"text\" name=\"email\" value=\"test@example.com\" />\n+      <input type=\"text\" name=\"link\" value=\"\" />\n+      <input type=\"text\" name=\"content\" value=\"CSRF Success\" />\n+      <input type=\"text\" name=\"rid\" value=\"0\" />\n+      <input type=\"text\" name=\"page_key\" value=\"https://artalk.js.org/\" />\n+      <input type=\"text\" name=\"site_name\" value=\"ArtalkDocs\" />\n+      <button type=\"submit\">Fire!</button>\n+    </form>\n+  </body>\n </html>"
    },
    {
      "sha": "060bf715e946c5d72b54f9692ac132cb4832b055",
      "filename": "ui/artalk/tests/setup.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fsetup.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fsetup.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftests%2Fsetup.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,7 +3,7 @@ import { vi } from 'vitest'\n // @see https://github.com/vitest-dev/vitest/issues/821\n Object.defineProperty(window, 'matchMedia', {\n   writable: true,\n-  value: vi.fn().mockImplementation(query => ({\n+  value: vi.fn().mockImplementation((query) => ({\n     matches: false,\n     media: query,\n     onchange: null,"
    },
    {
      "sha": "101e060dc93030d6293ea5a64aa31aa2e602fe2f",
      "filename": "ui/artalk/tests/ui-api.test.ts",
      "status": "modified",
      "additions": 63,
      "deletions": 45,
      "changes": 108,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fui-api.test.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftests%2Fui-api.test.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftests%2Fui-api.test.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,44 +11,56 @@ const InitConf = {\n \n const RemoteConf = {\n   darkMode: false, // simulate response `false`, but the final should still be `true`, cannot override this\n-  gravatar: { mirror: 'https://test.avatar.com/unit_test', params: 'test=123' }\n+  gravatar: { mirror: 'https://test.avatar.com/unit_test', params: 'test=123' },\n }\n \n const ContainerID = 'artalk-container'\n \n beforeAll(() => {\n   // mock fetch\n-  global.fetch = vi.fn().mockImplementation((url: string, init: RequestInit) => Promise.resolve({\n-    ok: true,\n-    status: 200,\n-    json: () => {\n-      let resp: any = {}\n-\n-      const map = {\n-        '/api/v2/conf': {\n-          frontend_conf: RemoteConf,\n-          version: {},\n-        },\n-        '/api/v2/stat': { data: { '/': 0 } },\n-        '/api/v2/pages/pv': { pv: 2 },\n-        '/api/v2/notifies': { notifies: [], count: 0 },\n-        '/api/v2/comments': {\n-          comments: [],\n-          count: 0,\n-          roots_count: 0,\n-          page: { id: 4, admin_only: false, key: '/', url: '/', title: 'Artalk DEMO', site_name: 'ArtalkDocs', vote_up: 0, vote_down: 0, pv: 1 },\n+  global.fetch = vi.fn().mockImplementation((url: string, init: RequestInit) =>\n+    Promise.resolve({\n+      ok: true,\n+      status: 200,\n+      json: () => {\n+        let resp: any = {}\n+\n+        const map = {\n+          '/api/v2/conf': {\n+            frontend_conf: RemoteConf,\n+            version: {},\n+          },\n+          '/api/v2/stat': { data: { '/': 0 } },\n+          '/api/v2/pages/pv': { pv: 2 },\n+          '/api/v2/notifies': { notifies: [], count: 0 },\n+          '/api/v2/comments': {\n+            comments: [],\n+            count: 0,\n+            roots_count: 0,\n+            page: {\n+              id: 4,\n+              admin_only: false,\n+              key: '/',\n+              url: '/',\n+              title: 'Artalk DEMO',\n+              site_name: 'ArtalkDocs',\n+              vote_up: 0,\n+              vote_down: 0,\n+              pv: 1,\n+            },\n+          },\n         }\n-      }\n \n-      const path = new URL(url).pathname\n+        const path = new URL(url).pathname\n \n-      Object.entries(map).forEach(([k, v]) => {\n-        if (path.startsWith(k)) resp = v\n-      })\n+        Object.entries(map).forEach(([k, v]) => {\n+          if (path.startsWith(k)) resp = v\n+        })\n \n-      return Promise.resolve(resp)\n-    }\n-  })) as any\n+        return Promise.resolve(resp)\n+      },\n+    }),\n+  ) as any\n })\n \n describe('Artalk instance', () => {\n@@ -83,26 +95,30 @@ describe('Artalk instance', () => {\n     confCopy = JSON.parse(JSON.stringify(conf))\n   })\n \n-  it('should can listen to events and the conf-remoter works (artalk.trigger, artalk.on, conf-remoter)', async () => {\n-    global.devLoadArtalk()\n+  it(\n+    'should can listen to events and the conf-remoter works (artalk.trigger, artalk.on, conf-remoter)',\n+    async () => {\n+      global.devLoadArtalk()\n \n-    const fn = vi.fn()\n+      const fn = vi.fn()\n \n-    await new Promise<void>(resolve => {\n-      artalk.on('mounted', (conf) => {\n-        resolve()\n-        fn()\n+      await new Promise<void>((resolve) => {\n+        artalk.on('mounted', (conf) => {\n+          resolve()\n+          fn()\n+        })\n       })\n-    })\n \n-    expect(fn).toBeCalledTimes(1)\n+      expect(fn).toBeCalledTimes(1)\n \n-    const conf = artalk.getConf()\n-    expect(conf.darkMode, \"the darkMode is unmodifiable, should still false\").toBe(true)\n-    expect(conf.gravatar, \"the gravatar should be modified\").toEqual(RemoteConf.gravatar)\n-  }, {\n-    timeout: 1000\n-  })\n+      const conf = artalk.getConf()\n+      expect(conf.darkMode, 'the darkMode is unmodifiable, should still false').toBe(true)\n+      expect(conf.gravatar, 'the gravatar should be modified').toEqual(RemoteConf.gravatar)\n+    },\n+    {\n+      timeout: 1000,\n+    },\n+  )\n \n   it('should other config not changed after conf-remoter loaded (conf-remoter, artalk.update)', () => {\n     const confNew = JSON.parse(JSON.stringify(artalk.getConf()))\n@@ -116,7 +132,9 @@ describe('Artalk instance', () => {\n \n     const conf = artalk.getConf()\n     expect(conf.placeholder).toBe(Placeholder)\n-    expect(conf.gravatar, \"the gravatar which not in update should keep the same\").toEqual(RemoteConf.gravatar)\n+    expect(conf.gravatar, 'the gravatar which not in update should keep the same').toEqual(\n+      RemoteConf.gravatar,\n+    )\n   })\n \n   it('should can getEl after config updated (artalk.getEl)', () => {\n@@ -144,7 +162,7 @@ describe('Artalk instance', () => {\n \n     const fn = vi.fn()\n \n-    await new Promise(resolve => {\n+    await new Promise((resolve) => {\n       artalk.on('list-loaded', () => {\n         resolve(null)\n         fn()"
    },
    {
      "sha": "bfb75a1498621872a6666c7a7e8e1dfcb7f80939",
      "filename": "ui/artalk/tsconfig.json",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftsconfig.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Ftsconfig.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Ftsconfig.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -8,5 +8,5 @@\n       \"@/*\": [\"./src/*\"]\n     }\n   },\n-  \"include\": [\"./src\", \"./types\", \"./tests\", \"./scripts\"],\n+  \"include\": [\"./src\", \"./types\", \"./tests\", \"./scripts\"]\n }"
    },
    {
      "sha": "6e771a405873db78971ac9609ace2cd12aae2d9b",
      "filename": "ui/artalk/vite.config.ts",
      "status": "modified",
      "additions": 33,
      "deletions": 27,
      "changes": 60,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fvite.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fvite.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fvite.config.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -4,14 +4,14 @@ import { resolve, dirname } from 'node:path'\n import { fileURLToPath } from 'node:url'\n import checker from 'vite-plugin-checker'\n import dts from 'vite-plugin-dts'\n-import { copyFileSync } from \"node:fs\"\n+import { copyFileSync } from 'node:fs'\n \n const __dirname = dirname(fileURLToPath(import.meta.url))\n \n export function getFileName(name: string, format: string) {\n-  if (format == \"umd\") return `${name}.js`\n-  else if (format == \"cjs\") return `${name}.cjs`\n-  else if (format == \"es\") return `${name}.mjs`\n+  if (format == 'umd') return `${name}.js`\n+  else if (format == 'cjs') return `${name}.cjs`\n+  else if (format == 'es') return `${name}.mjs`\n   return `${name}.${format}.js`\n }\n \n@@ -21,41 +21,45 @@ export default defineConfig({\n   root: __dirname,\n   build: {\n     target: 'es2015',\n-    outDir: resolve(__dirname, \"dist\"),\n+    outDir: resolve(__dirname, 'dist'),\n     minify: 'terser',\n     sourcemap: true,\n-    emptyOutDir: name === 'Artalk',  // wait for https://github.com/qmhc/vite-plugin-dts/pull/291\n+    emptyOutDir: name === 'Artalk', // wait for https://github.com/qmhc/vite-plugin-dts/pull/291\n     lib: {\n       name: 'Artalk',\n       fileName: (format: string) => getFileName(name, format),\n       entry: resolve(__dirname, 'src/main.ts'),\n-      formats: [\"es\", \"umd\", \"cjs\", \"iife\"]\n+      formats: ['es', 'umd', 'cjs', 'iife'],\n     },\n     rollupOptions: {\n-      external: (name === 'ArtalkLite') ? ['marked'] : [],\n+      external: name === 'ArtalkLite' ? ['marked'] : [],\n       output: {\n-        globals: (name === 'ArtalkLite') ? {\n-          marked: 'marked',\n-        } : {},\n-        assetFileNames: (assetInfo) => (/\\.css$/.test(assetInfo.name || '') ? `${name}.css` : \"[name].[ext]\"),\n+        globals:\n+          name === 'ArtalkLite'\n+            ? {\n+                marked: 'marked',\n+              }\n+            : {},\n+        assetFileNames: (assetInfo) =>\n+          /\\.css$/.test(assetInfo.name || '') ? `${name}.css` : '[name].[ext]',\n         // @see https://github.com/rollup/rollup/issues/587\n         //  and https://github.com/rollup/rollup/pull/631/files\n         exports: 'named',\n-      }\n-    }\n+      },\n+    },\n   },\n   css: {\n     preprocessorOptions: {\n       scss: {\n-        additionalData: `@import \"./src/style/_variables.scss\";@import \"./src/style/_extend.scss\";`\n-     },\n+        additionalData: `@import \"./src/style/_variables.scss\";@import \"./src/style/_extend.scss\";`,\n+      },\n     },\n   },\n   resolve: {\n     alias: {\n       '@': resolve(__dirname, 'src'),\n       '~': resolve(__dirname),\n-    }\n+    },\n   },\n   define: {\n     ARTALK_LITE: false,\n@@ -69,15 +73,17 @@ export default defineConfig({\n       },\n     }),\n     // @see https://github.com/qmhc/vite-plugin-dts\n-    (name === 'Artalk') ? dts({\n-      include: ['src'],\n-      exclude: ['src/**/*.{spec,test}.ts', 'dist'],\n-      rollupTypes: true,\n-      afterBuild: () => {\n-        // @see https://github.com/arethetypeswrong/arethetypeswrong.github.io/tree/main/packages/cli\n-        // @fix https://github.com/arethetypeswrong/arethetypeswrong.github.io/blob/main/docs/problems/FalseESM.md#consequences\n-        copyFileSync(\"dist/main.d.ts\", \"dist/main.d.cts\")\n-      },\n-    }) : null,\n+    name === 'Artalk'\n+      ? dts({\n+          include: ['src'],\n+          exclude: ['src/**/*.{spec,test}.ts', 'dist'],\n+          rollupTypes: true,\n+          afterBuild: () => {\n+            // @see https://github.com/arethetypeswrong/arethetypeswrong.github.io/tree/main/packages/cli\n+            // @fix https://github.com/arethetypeswrong/arethetypeswrong.github.io/blob/main/docs/problems/FalseESM.md#consequences\n+            copyFileSync('dist/main.d.ts', 'dist/main.d.cts')\n+          },\n+        })\n+      : null,\n   ],\n })"
    },
    {
      "sha": "7e36f3861a6bc2a8c4b11984274f0230983ba66c",
      "filename": "ui/artalk/vitest.config.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fvitest.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fartalk%2Fvitest.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fvitest.config.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -11,6 +11,6 @@ export default mergeConfig(\n       exclude: [...configDefaults.exclude, 'tests/e2e/*'],\n       root: fileURLToPath(new URL('./', import.meta.url)),\n       setupFiles: ['tests/setup.ts'],\n-    }\n-  })\n+    },\n+  }),\n )"
    },
    {
      "sha": "6b4f63a0a17944e312786155ec398ec344c49264",
      "filename": "ui/plugin-katex/index.html",
      "status": "modified",
      "additions": 24,
      "deletions": 24,
      "changes": 48,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Findex.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Findex.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-katex%2Findex.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,28 +1,28 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <title>plugin-katex</title>\n-  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css\">\n-  <script defer src=\"https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js\"></script>\n-</head>\n-<body>\n-  <div id=\"comments\"></div>\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <title>plugin-katex</title>\n+    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css\" />\n+    <script defer src=\"https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js\"></script>\n+  </head>\n+  <body>\n+    <div id=\"comments\"></div>\n \n-  <script type=\"module\">\n-    import Artalk from 'artalk'\n-    import './main.ts'\n-    import 'artalk/dist/Artalk.css'\n+    <script type=\"module\">\n+      import Artalk from 'artalk'\n+      import './main.ts'\n+      import 'artalk/dist/Artalk.css'\n \n-    var artalk = Artalk.init({\n-      el: '#comments',\n-      pageKey: 'https://artalk.js.org/',\n-      pageTitle: 'Artalk Home',\n-      server: (import.meta.env.DEV) ? 'http://localhost:23366' : 'https://artalk.qwqaq.com',\n-      site: 'ArtalkDocs',\n-    });\n-  </script>\n-</body>\n+      var artalk = Artalk.init({\n+        el: '#comments',\n+        pageKey: 'https://artalk.js.org/',\n+        pageTitle: 'Artalk Home',\n+        server: import.meta.env.DEV ? 'http://localhost:23366' : 'https://artalk.qwqaq.com',\n+        site: 'ArtalkDocs',\n+      })\n+    </script>\n+  </body>\n </html>"
    },
    {
      "sha": "b9bce7b24de540a51f4910c9991c58924c3e416f",
      "filename": "ui/plugin-katex/main.ts",
      "status": "modified",
      "additions": 23,
      "deletions": 15,
      "changes": 38,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Fmain.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Fmain.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-katex%2Fmain.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -13,7 +13,9 @@ Artalk.use((ctx) => {\n \n   let i = 0\n   const nextID = () => `__atk_katex_id_${i++}__`\n-  const mathExpressions: { [key: string]: { type: 'block' | 'inline', expression: string } } = {}\n+  const mathExpressions: {\n+    [key: string]: { type: 'block' | 'inline'; expression: string }\n+  } = {}\n \n   function replaceMathWithIds(text: string) {\n     // Allowing newlines inside of `$$...$$`\n@@ -42,30 +44,36 @@ Artalk.use((ctx) => {\n   const orgCodespan = renderer.codespan\n   const orgText = renderer.text\n \n-  renderer.listitem = (text: string, task: boolean, checked: boolean) => orgListitem(replaceMathWithIds(text), task, checked)\n+  renderer.listitem = (text: string, task: boolean, checked: boolean) =>\n+    orgListitem(replaceMathWithIds(text), task, checked)\n   renderer.paragraph = (text: string) => orgParagraph(replaceMathWithIds(text))\n-  renderer.tablecell = (content: string, flags: any) => orgTablecell(replaceMathWithIds(content), flags)\n+  renderer.tablecell = (content: string, flags: any) =>\n+    orgTablecell(replaceMathWithIds(content), flags)\n   renderer.codespan = (code: string) => orgCodespan(replaceMathWithIds(code))\n   renderer.text = (text: string) => orgText(replaceMathWithIds(text)) // Inline level, maybe unneeded\n \n   ctx.updateConf({\n-    markedReplacers: [(text) => {\n-      text = text.replace(/(__atk_katex_id_\\d+__)/g, (_match, capture) => {\n-        const v = mathExpressions[capture]\n-        const type = v.type\n-        let expression = v.expression\n+    markedReplacers: [\n+      (text) => {\n+        text = text.replace(/(__atk_katex_id_\\d+__)/g, (_match, capture) => {\n+          const v = mathExpressions[capture]\n+          const type = v.type\n+          let expression = v.expression\n \n-        // replace <br/> tag to \\n\n-        expression = expression.replace(/<br\\s*\\/?>/mg, \"\\n\")\n+          // replace <br/> tag to \\n\n+          expression = expression.replace(/<br\\s*\\/?>/gm, '\\n')\n \n-        return katex.renderToString(expression, { displayMode: type === 'block' })\n-      })\n+          return katex.renderToString(expression, {\n+            displayMode: type === 'block',\n+          })\n+        })\n \n-      return text\n-    }]\n+        return text\n+      },\n+    ],\n   })\n \n   markedInstance.use({\n-    renderer\n+    renderer,\n   })\n })"
    },
    {
      "sha": "122e9c5f06870e707609a14179c70d671db5013e",
      "filename": "ui/plugin-katex/tsconfig.json",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Ftsconfig.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Ftsconfig.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-katex%2Ftsconfig.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,5 +3,5 @@\n   \"compilerOptions\": {\n     \"baseUrl\": \".\",\n     \"outDir\": \"dist\"\n-  },\n+  }\n }"
    },
    {
      "sha": "b40c1ff01fb8b5c04f718d1e0d9fa291ee018325",
      "filename": "ui/plugin-katex/vite.config.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 6,
      "changes": 13,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Fvite.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-katex%2Fvite.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-katex%2Fvite.config.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,13 +6,14 @@ export default defineConfig({\n   base: './',\n   build: {\n     target: 'es2015',\n-    outDir: resolve(__dirname, \"dist\"),\n+    outDir: resolve(__dirname, 'dist'),\n     minify: 'terser',\n     lib: {\n       entry: resolve(__dirname, './main.ts'),\n       name: 'artalk-plugin-katex',\n-      fileName: (format) => ((format == \"umd\") ? 'artalk-plugin-katex.js' : `artalk-plugin-katex.${format}.js`),\n-      formats: [\"es\", \"umd\", \"iife\"]\n+      fileName: (format) =>\n+        format == 'umd' ? 'artalk-plugin-katex.js' : `artalk-plugin-katex.${format}.js`,\n+      formats: ['es', 'umd', 'iife'],\n     },\n     rollupOptions: {\n       // 确保外部化处理那些你不想打包进库的依赖\n@@ -23,9 +24,9 @@ export default defineConfig({\n           artalk: 'Artalk',\n           katex: 'katex',\n         },\n-        extend: true\n-      }\n-    }\n+        extend: true,\n+      },\n+    },\n   },\n   plugins: [tsconfigPaths()],\n })"
    },
    {
      "sha": "e7a5aa5af0a972be195684e5960e787d40399a9b",
      "filename": "ui/plugin-lightbox/global.d.ts",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Fglobal.d.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Fglobal.d.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-lightbox%2Fglobal.d.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,8 +1,8 @@\n interface Window {\n-  lightGallery: (el: any, options: any) => any | undefined;\n-  Fancybox?: any;\n-  lightbox?: any;\n-  PhotoSwipeLightbox?: any;\n+  lightGallery: (el: any, options: any) => any | undefined\n+  Fancybox?: any\n+  lightbox?: any\n+  PhotoSwipeLightbox?: any\n   $?: any\n \n   /** Artalk Lightbox 插件类型 */"
    },
    {
      "sha": "890c34c1377545d777b9acff212d6713707f49ec",
      "filename": "ui/plugin-lightbox/index.html",
      "status": "modified",
      "additions": 66,
      "deletions": 66,
      "changes": 132,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Findex.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Findex.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-lightbox%2Findex.html?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,76 +1,76 @@\n-<!DOCTYPE html>\n+<!doctype html>\n <html>\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <title>plugin-lightbox</title>\n-  <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n-</head>\n-<body>\n-  <div id=\"switcher\">\n-    <button>LightGallery</button>\n-    <button>FancyBox</button>\n-    <button>lightbox2</button>\n-  </div>\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <title>plugin-lightbox</title>\n+    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n+  </head>\n+  <body>\n+    <div id=\"switcher\">\n+      <button>LightGallery</button>\n+      <button>FancyBox</button>\n+      <button>lightbox2</button>\n+    </div>\n \n-  <div id=\"comments\"></div>\n+    <div id=\"comments\"></div>\n \n-  <script type=\"module\">\n-    const type = localStorage.getItem('lightbox_type') || 'LightGallery'\n-    if (type === 'LightGallery') {\n-      loadSrc(\n-        'https://unpkg.com/lightgallery@2.5.0/lightgallery.min.js',\n-        'https://unpkg.com/lightgallery@2.5.0/css/lightgallery.css'\n-      )\n-    } else if (type === 'FancyBox') {\n-      loadSrc(\n-        'https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.umd.js',\n-        'https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.css'\n-      )\n-    } else if (type === 'lightbox2') {\n-      loadSrc(\n-        'https://unpkg.com/lightbox2@v2/dist/js/lightbox-plus-jquery.min.js',\n-        'https://unpkg.com/lightbox2@v2/dist/css/lightbox.min.css'\n-      )\n-    }\n+    <script type=\"module\">\n+      const type = localStorage.getItem('lightbox_type') || 'LightGallery'\n+      if (type === 'LightGallery') {\n+        loadSrc(\n+          'https://unpkg.com/lightgallery@2.5.0/lightgallery.min.js',\n+          'https://unpkg.com/lightgallery@2.5.0/css/lightgallery.css',\n+        )\n+      } else if (type === 'FancyBox') {\n+        loadSrc(\n+          'https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.umd.js',\n+          'https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.css',\n+        )\n+      } else if (type === 'lightbox2') {\n+        loadSrc(\n+          'https://unpkg.com/lightbox2@v2/dist/js/lightbox-plus-jquery.min.js',\n+          'https://unpkg.com/lightbox2@v2/dist/css/lightbox.min.css',\n+        )\n+      }\n \n-    // switcher\n-    document.addEventListener('DOMContentLoaded', () => {\n-      document.querySelectorAll('#switcher button').forEach(btn => {\n-        btn.onclick = () => {\n-          localStorage.setItem('lightbox_type', btn.innerText)\n-          location.reload()\n-        }\n+      // switcher\n+      document.addEventListener('DOMContentLoaded', () => {\n+        document.querySelectorAll('#switcher button').forEach((btn) => {\n+          btn.onclick = () => {\n+            localStorage.setItem('lightbox_type', btn.innerText)\n+            location.reload()\n+          }\n+        })\n       })\n-    })\n \n-    import Artalk from 'artalk'\n-    import './main.ts'\n-    import 'artalk/dist/Artalk.css'\n+      import Artalk from 'artalk'\n+      import './main.ts'\n+      import 'artalk/dist/Artalk.css'\n \n-    function loadArtalk() {\n-      var artalk = Artalk.init({\n-        el: '#comments',\n-        pageKey: 'https://artalk.js.org/',\n-        pageTitle: 'Artalk Home',\n-        server: (import.meta.env.DEV) ? 'http://localhost:23366' : 'https://artalk.qwqaq.com',\n-        site: 'ArtalkDocs',\n-      });\n-    }\n+      function loadArtalk() {\n+        var artalk = Artalk.init({\n+          el: '#comments',\n+          pageKey: 'https://artalk.js.org/',\n+          pageTitle: 'Artalk Home',\n+          server: import.meta.env.DEV ? 'http://localhost:23366' : 'https://artalk.qwqaq.com',\n+          site: 'ArtalkDocs',\n+        })\n+      }\n \n-    function loadSrc(js, css) {\n-      const script = document.createElement('script')\n-      script.src = js\n-      document.body.appendChild(script)\n-      script.onload = () => {\n-        loadArtalk()\n+      function loadSrc(js, css) {\n+        const script = document.createElement('script')\n+        script.src = js\n+        document.body.appendChild(script)\n+        script.onload = () => {\n+          loadArtalk()\n+        }\n+        const style = document.createElement('link')\n+        style.rel = 'stylesheet'\n+        style.href = css\n+        document.head.appendChild(style)\n       }\n-      const style = document.createElement('link')\n-      style.rel = 'stylesheet'\n-      style.href = css\n-      document.head.appendChild(style)\n-    }\n-  </script>\n-</body>\n+    </script>\n+  </body>\n </html>"
    },
    {
      "sha": "50760f310941c9182840d58d009bb4fd959b8805",
      "filename": "ui/plugin-lightbox/main.ts",
      "status": "modified",
      "additions": 18,
      "deletions": 20,
      "changes": 38,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Fmain.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Fmain.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-lightbox%2Fmain.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -1,43 +1,41 @@\n import Artalk from 'artalk'\n \n Artalk.use((ctx) => {\n-  const LOADED_ATTR       = 'atk-lightbox-loaded'\n+  const LOADED_ATTR = 'atk-lightbox-loaded'\n   const IMG_LINK_EL_CLASS = 'atk-lightbox-img'\n-  const IMG_LINK_EL_SEL   = `.${IMG_LINK_EL_CLASS}`\n+  const IMG_LINK_EL_SEL = `.${IMG_LINK_EL_CLASS}`\n \n   const typeSet = window.ATK_LIGHTBOX_TYPE\n-  const typeIs  = (t: string) => (\n-    (!typeSet && window[t]) ||\n-    ((typeSet || '').toLowerCase() === t.toLowerCase())\n-  )\n+  const typeIs = (t: string) =>\n+    (!typeSet && window[t]) || (typeSet || '').toLowerCase() === t.toLowerCase()\n \n   // add artalk event listener\n   ctx.on('list-loaded', () => {\n     const $imgLinks: HTMLAnchorElement[] = []\n \n-    ctx.getCommentNodes().forEach(comment => {\n+    ctx.getCommentNodes().forEach((comment) => {\n       const $content = comment.getRender().$content\n-      $content.querySelectorAll<HTMLImageElement>(\n-        `img:not([atk-emoticon]):not([${LOADED_ATTR}])`\n-      ).forEach($img => {\n-        $img.setAttribute(LOADED_ATTR, '') // 初始化标记\n+      $content\n+        .querySelectorAll<HTMLImageElement>(`img:not([atk-emoticon]):not([${LOADED_ATTR}])`)\n+        .forEach(($img) => {\n+          $img.setAttribute(LOADED_ATTR, '') // 初始化标记\n \n-        const $imgLink = document.createElement('a')\n-        $imgLink.setAttribute('class', IMG_LINK_EL_CLASS)\n-        $imgLink.setAttribute('href', $img.src)\n-        $imgLink.setAttribute('data-src', $img.src)\n-        $imgLink.append($img.cloneNode())\n+          const $imgLink = document.createElement('a')\n+          $imgLink.setAttribute('class', IMG_LINK_EL_CLASS)\n+          $imgLink.setAttribute('href', $img.src)\n+          $imgLink.setAttribute('data-src', $img.src)\n+          $imgLink.append($img.cloneNode())\n \n-        $img.replaceWith($imgLink)\n-        $imgLinks.push($imgLink)\n-      })\n+          $img.replaceWith($imgLink)\n+          $imgLinks.push($imgLink)\n+        })\n \n       // lightGallery\n       // @link https://github.com/sachinchoolur/lightGallery\n       if (typeIs('lightGallery')) {\n         window.lightGallery($content, {\n           selector: IMG_LINK_EL_SEL,\n-          ...(window.ATK_LIGHTBOX_CONF || {})\n+          ...(window.ATK_LIGHTBOX_CONF || {}),\n         })\n       }\n     })"
    },
    {
      "sha": "122e9c5f06870e707609a14179c70d671db5013e",
      "filename": "ui/plugin-lightbox/tsconfig.json",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Ftsconfig.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Ftsconfig.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-lightbox%2Ftsconfig.json?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -3,5 +3,5 @@\n   \"compilerOptions\": {\n     \"baseUrl\": \".\",\n     \"outDir\": \"dist\"\n-  },\n+  }\n }"
    },
    {
      "sha": "d003e1ff5385eb822fcabf58427ffa419f8e8790",
      "filename": "ui/plugin-lightbox/vite.config.ts",
      "status": "modified",
      "additions": 7,
      "deletions": 6,
      "changes": 13,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Fvite.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/aa8dce4dc0de9f71397c4095495572bf9f64fb8a/ui%2Fplugin-lightbox%2Fvite.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fplugin-lightbox%2Fvite.config.ts?ref=aa8dce4dc0de9f71397c4095495572bf9f64fb8a",
      "patch": "@@ -6,13 +6,14 @@ export default defineConfig({\n   base: './',\n   build: {\n     target: 'es2015',\n-    outDir: resolve(__dirname, \"dist\"),\n+    outDir: resolve(__dirname, 'dist'),\n     minify: 'terser',\n     lib: {\n       entry: resolve(__dirname, './main.ts'),\n       name: 'artalk-plugin-lightbox',\n-      fileName: (format) => ((format == \"umd\") ? 'artalk-plugin-lightbox.js' : `artalk-plugin-lightbox.${format}.js`),\n-      formats: [\"es\", \"umd\", \"iife\"]\n+      fileName: (format) =>\n+        format == 'umd' ? 'artalk-plugin-lightbox.js' : `artalk-plugin-lightbox.${format}.js`,\n+      formats: ['es', 'umd', 'iife'],\n     },\n     rollupOptions: {\n       external: ['artalk', 'lightgallery'],\n@@ -21,9 +22,9 @@ export default defineConfig({\n           artalk: 'Artalk',\n           lightgallery: 'lightgallery',\n         },\n-        extend: true\n-      }\n-    }\n+        extend: true,\n+      },\n+    },\n   },\n   plugins: [tsconfigPaths()],\n })"
    }
  ]
}
