{
  "sha": "235f0dade066bdf4a8253d56a9563a8561e8f6d6",
  "node_id": "C_kwDOBtgov9oAKDIzNWYwZGFkZTA2NmJkZjRhODI1M2Q1NmE5NTYzYTg1NjFlOGY2ZDY",
  "commit": {
    "author": {
      "name": "Justin Hawkins",
      "email": "justin@hawkins.id.au",
      "date": "2023-07-21T02:12:11Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2023-07-21T02:12:11Z"
    },
    "message": "Update documentation to support Caddy V2 (#1657)\n\n* Update index.md\r\n\r\nChange Caddy example config to the current V2 config.\r\n\r\n* Simplify config\r\n\r\n* Include legacy config as well",
    "tree": {
      "sha": "9c79d79319cceec0e9d9f3c579019e143a12bc5f",
      "url": "https://api.github.com/repos/umputun/remark42/git/trees/9c79d79319cceec0e9d9f3c579019e143a12bc5f"
    },
    "url": "https://api.github.com/repos/umputun/remark42/git/commits/235f0dade066bdf4a8253d56a9563a8561e8f6d6",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkuel7CRBK7hj4Ov3rIwAACYEIAF9RxRKc6qM8A+FP+vWVLI+l\n5m20ezM4+CsEHW7ZU4nzP6ieD7dAY6U/fiTzy2Dk+DQsh6t6tDI2sXNSYJMWNOOc\nONwJmCegO2r7BCkmx4D37T0CA4ni2yqZOIeKbwCCnZORp0J2KcmScIZNaVkHVQQ9\nuXRvxTl6hH6mbxev6ikZ7S7tTqllXuWfW31JBFr+37Xi7fvPPSEMlhQ1o1AoMVlj\nXG5/qnXONQiGUKq0yUSRyvLkQnqXfz7wTpbuuVVB6wPsh4w9V74fbCmBTkmsx0cg\nTjrc8vlo8JC90j+9KAAOYU5iCsDWyMvAvbEoxeH9F/eLO2RIH5mT5zb80YtTcZU=\n=pcD7\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 9c79d79319cceec0e9d9f3c579019e143a12bc5f\nparent 9c718cbc5f1c365f3ca36e9c106d3bc9f187e3f3\nauthor Justin Hawkins <justin@hawkins.id.au> 1689905531 +0930\ncommitter GitHub <noreply@github.com> 1689905531 -0500\n\nUpdate documentation to support Caddy V2 (#1657)\n\n* Update index.md\r\n\r\nChange Caddy example config to the current V2 config.\r\n\r\n* Simplify config\r\n\r\n* Include legacy config as well"
    }
  },
  "url": "https://api.github.com/repos/umputun/remark42/commits/235f0dade066bdf4a8253d56a9563a8561e8f6d6",
  "html_url": "https://github.com/umputun/remark42/commit/235f0dade066bdf4a8253d56a9563a8561e8f6d6",
  "comments_url": "https://api.github.com/repos/umputun/remark42/commits/235f0dade066bdf4a8253d56a9563a8561e8f6d6/comments",
  "author": {
    "login": "tardisx",
    "id": 39711,
    "node_id": "MDQ6VXNlcjM5NzEx",
    "avatar_url": "https://avatars.githubusercontent.com/u/39711?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tardisx",
    "html_url": "https://github.com/tardisx",
    "followers_url": "https://api.github.com/users/tardisx/followers",
    "following_url": "https://api.github.com/users/tardisx/following{/other_user}",
    "gists_url": "https://api.github.com/users/tardisx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tardisx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tardisx/subscriptions",
    "organizations_url": "https://api.github.com/users/tardisx/orgs",
    "repos_url": "https://api.github.com/users/tardisx/repos",
    "events_url": "https://api.github.com/users/tardisx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tardisx/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "9c718cbc5f1c365f3ca36e9c106d3bc9f187e3f3",
      "url": "https://api.github.com/repos/umputun/remark42/commits/9c718cbc5f1c365f3ca36e9c106d3bc9f187e3f3",
      "html_url": "https://github.com/umputun/remark42/commit/9c718cbc5f1c365f3ca36e9c106d3bc9f187e3f3"
    }
  ],
  "stats": {
    "total": 24,
    "additions": 22,
    "deletions": 2
  },
  "files": [
    {
      "sha": "24892ab0ef2001b93f43a0d888f373c4a7214501",
      "filename": "site/src/docs/manuals/subdomain/index.md",
      "status": "modified",
      "additions": 22,
      "deletions": 2,
      "changes": 24,
      "blob_url": "https://github.com/umputun/remark42/blob/235f0dade066bdf4a8253d56a9563a8561e8f6d6/site%2Fsrc%2Fdocs%2Fmanuals%2Fsubdomain%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/235f0dade066bdf4a8253d56a9563a8561e8f6d6/site%2Fsrc%2Fdocs%2Fmanuals%2Fsubdomain%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fmanuals%2Fsubdomain%2Findex.md?ref=235f0dade066bdf4a8253d56a9563a8561e8f6d6",
      "patch": "@@ -58,15 +58,35 @@ The `nginx.conf` would then look something like:\n \n ### Caddy configuration\n \n-Example of Caddy configuration (`Caddyfile`) running remark42 service on `example.com/remark42/`:\n+Example of Caddy 2 configuration (`Caddyfile`) running remark42 service on `example.com/remark42/`, proxying\n+requests under the path /remark42 through to the docker container:\n+\n+```\n+example.com {\n+  root * /srv/www\n+\n+  log {\n+    output file /logs/example.com.access.log\n+  }\n+\n+  # remark42\n+  handle_path /remark42* {\n+    reverse_proxy remark42:8080\n+  }\n+  \n+  file_server\n+}\n+```\n+\n+If you are using a legacy version (v1) of Caddy, the following configuration would be appropriate:\n \n ```\n example.com {\n \tgzip\n \ttls mail@example.com\n \n \troot /srv/www\n-\tlog  /logs/access.log\n+\tlog  /logs/example.com.access.log\n \n \t# remark42\n \tproxy /remark42/ http://remark42:8080/ {"
    }
  ]
}
