{
  "sha": "adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
  "node_id": "C_kwDOCQOkhNoAKGFkY2I3NWEyZTJhOTYxMWFmZGQxYTg0YmY5ZDZlOTQyN2JmMTg2YjA",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "22412567+qwqcode@users.noreply.github.com",
      "date": "2024-08-19T20:10:17Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2024-08-19T20:10:17Z"
    },
    "message": "feat(ui/dashboard): new dashboard ui refresh for desktop devices (#957)\n\n* feat(ui/dashboard): new dashboard ui refresh on desktop device\r\n\r\n* add z-index for login dialog layer",
    "tree": {
      "sha": "f55f933efcf01675e26a964b306898afa5fa74a5",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/f55f933efcf01675e26a964b306898afa5fa74a5"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJmw6apCRC1aQ7uu5UhlAAASLEQAHigXPsVDGzCQSzaFKcB5tES\nroMWrsL0oDd8adCixhT4fIS1U1rFtnbJgYXLIcGVpRgFSD9i+e5I6HBejhkTV0kg\ng+gOiBI34I3F3thIV+syFG24JNQPIvicDQ+QQ2x24o+jPXO6Mk0WK/brSSknagbC\ni/7bvul3sXZOolDZwDbEjeiXTYkUTsiNE4xPdAbVTy2vnrqaoVqe2GDT6vb/gZ3C\nd8ue+Z3gPMs9T5+AZzmFkyZa/80L4EkCoYY30EjG//N//rKXovCeX2/iSXtHU03G\nWjsLJarOnEuBJSvhbkMF37IJlezHabjWImoMhi6r2ulKaUMtHMwhpSzVoFdV5HhP\nX/YrRabAlrpWo6h7oLPsr2AKfFxUQXSzDZ5JHLE2Ysrt6aYrfatS83Hd9ryqcVhp\n7ta8usDAdxmAZZKI3rutv+/LPOHrAuX030GhTuaQxfZ6+yiJwqB7r0p5SIjxSooD\nPYc+C2T9fpuCQzjmee8KwP0NSejqhE6fVv9caybK7t9epktUsduHPublqOqxzO/Q\nlHSrlFm4DibnYnbYWV0PFjKZYJsejrz+bxehwJ4KIzrc79QeZyiuuxN8nWZ7yK+c\njkyFo15IOa9NDq/5qP17Q/VD032mHhF8seCZW2fuY46chaRKZEf3W+Gb5AGiEppp\nRWYD5GhVThAaYAbNDfj9\n=nEtN\n-----END PGP SIGNATURE-----\n",
      "payload": "tree f55f933efcf01675e26a964b306898afa5fa74a5\nparent 4d7e157ff099db4143fb81ca707ceb8bc02f6e75\nauthor qwqcode <22412567+qwqcode@users.noreply.github.com> 1724098217 +0800\ncommitter GitHub <noreply@github.com> 1724098217 +0800\n\nfeat(ui/dashboard): new dashboard ui refresh for desktop devices (#957)\n\n* feat(ui/dashboard): new dashboard ui refresh on desktop device\r\n\r\n* add z-index for login dialog layer"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "4d7e157ff099db4143fb81ca707ceb8bc02f6e75",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/4d7e157ff099db4143fb81ca707ceb8bc02f6e75",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/4d7e157ff099db4143fb81ca707ceb8bc02f6e75"
    }
  ],
  "stats": {
    "total": 1183,
    "additions": 829,
    "deletions": 354
  },
  "files": [
    {
      "sha": "a70606d1d1b6f0931f7bbacfde26566581773222",
      "filename": "ui/artalk-sidebar/components.d.ts",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fcomponents.d.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fcomponents.d.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fcomponents.d.ts?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -7,6 +7,11 @@ export {}\n /* prettier-ignore */\n declare module 'vue' {\n   export interface GlobalComponents {\n+    AppHeader: typeof import('./src/components/AppHeader.vue')['default']\n+    AppNavigation: typeof import('./src/components/AppNavigation.vue')['default']\n+    AppNavigationDesktop: typeof import('./src/components/AppNavigationDesktop.vue')['default']\n+    AppNavigationMobile: typeof import('./src/components/AppNavigationMobile.vue')['default']\n+    AppNavigationSearch: typeof import('./src/components/AppNavigationSearch.vue')['default']\n     FileUploader: typeof import('./src/components/FileUploader.vue')['default']\n     Header: typeof import('./src/components/Header.vue')['default']\n     ItemTextEditor: typeof import('./src/components/ItemTextEditor.vue')['default']\n@@ -22,7 +27,6 @@ declare module 'vue' {\n     SiteCreate: typeof import('./src/components/SiteCreate.vue')['default']\n     SiteEditor: typeof import('./src/components/SiteEditor.vue')['default']\n     SiteSwitcher: typeof import('./src/components/SiteSwitcher.vue')['default']\n-    Tab: typeof import('./src/components/Tab.vue')['default']\n     UserEditor: typeof import('./src/components/UserEditor.vue')['default']\n   }\n }"
    },
    {
      "sha": "ad9d5c7a8af0f9aae42495f4491cc02a28660c05",
      "filename": "ui/artalk-sidebar/index.html",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Findex.html",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Findex.html",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Findex.html?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -4,7 +4,9 @@\n     <meta charset=\"UTF-8\" />\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n     <meta name=\"referrer\" content=\"strict-origin\" />\n-    <title>Artalk Sidebar</title>\n+    <meta name=\"robots\" content=\"noindex\" />\n+    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.png\" />\n+    <title>Artalk</title>\n   </head>\n   <body>\n     <div id=\"app\"></div>"
    },
    {
      "sha": "0e15f6d0ad9ed394b26a41afede74cc46765c793",
      "filename": "ui/artalk-sidebar/public/favicon.png",
      "status": "added",
      "additions": 0,
      "deletions": 0,
      "changes": 0,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fpublic%2Ffavicon.png",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fpublic%2Ffavicon.png",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fpublic%2Ffavicon.png?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0"
    },
    {
      "sha": "edd9bc449df1d630f3e6454f69f312f47692ceb9",
      "filename": "ui/artalk-sidebar/src/App.vue",
      "status": "modified",
      "additions": 33,
      "deletions": 12,
      "changes": 45,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2FApp.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2FApp.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2FApp.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -87,19 +87,26 @@ const darkMode = ref(bootParams.darkMode)\n     class=\"app-wrap artalk atk-sidebar\"\n     :class=\"{ 'atk-dark-mode': darkMode }\"\n   >\n-    <Header />\n-    <Tab />\n+    <AppHeader />\n+    <AppNavigation />\n \n     <div class=\"main\">\n       <div ref=\"scrollableArea\" class=\"atk-sidebar-inner\">\n-        <router-view />\n+        <div class=\"atk-sidebar-container\">\n+          <router-view />\n+        </div>\n       </div>\n       <LoadingLayer v-if=\"nav.isPageLoading\" />\n     </div>\n   </div>\n </template>\n \n <style scoped lang=\"scss\">\n+$headerHeight: 61px;\n+$subHeaderHeight: 41px;\n+$maxWidth: 1100px;\n+$sidebarWidth: 280px;\n+\n .app-wrap {\n   background: var(--at-color-bg);\n   color: var(--at-color-font);\n@@ -110,8 +117,12 @@ const darkMode = ref(bootParams.darkMode)\n \n   .atk-sidebar-inner {\n     overflow-y: auto;\n-    height: calc(100vh - 61px - 41px);\n+    height: calc(100vh - $headerHeight - $subHeaderHeight);\n     padding-bottom: 50px;\n+\n+    @media (min-width: 1024px) {\n+      height: calc(100vh - $headerHeight - 51px);\n+    }\n   }\n \n   // 分页条占位\n@@ -123,15 +134,25 @@ const darkMode = ref(bootParams.darkMode)\n     left: 0;\n     background: var(--at-color-bg);\n     border-top: 1px solid var(--at-color-border);\n+  }\n+}\n \n-    // A patch for loading\n-    // Because the parent position set to fixed,\n-    // the loading layer will be fixed to the area if position is absolute (which is default for atk-loading)\n-    .atk-loading {\n-      position: fixed;\n-      top: 102px;\n-      height: calc(100% - 102px);\n-    }\n+:deep(.atk-sidebar-container) {\n+  position: relative;\n+}\n+\n+@media (min-width: 1024px) {\n+  :deep(.atk-sidebar-container) {\n+    max-width: $maxWidth;\n+    margin: 0 auto;\n+    width: 100%;\n+  }\n+}\n+\n+@media (min-width: 1024px) and (max-width: calc($maxWidth + $sidebarWidth * 2)) {\n+  :deep(.atk-sidebar-container) {\n+    margin-left: $sidebarWidth;\n+    max-width: calc(100% - $sidebarWidth);\n   }\n }\n </style>"
    },
    {
      "sha": "b612e5a53a713a11fe47c4743be0922fb0f391c8",
      "filename": "ui/artalk-sidebar/src/assets/nav-icon-comments.svg",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-comments.svg",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-comments.svg",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-comments.svg?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1 @@\n+<svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m5.37879 15.8333-3.71212 2.9167v-15.41667c0-.46023.3731-.83333.83333-.83333h15c.4603 0 .8333.3731.8333.83333v11.66667c0 .4602-.373.8333-.8333.8333zm-.57644-1.6666h11.86435v-10.00003h-13.33337v11.15423zm1.86432-5.83337h6.66663v1.66667h-6.66663z\" fill=\"#636c76\"/></svg>\n\\ No newline at end of file"
    },
    {
      "sha": "19e253077c1f96410f90a7b917aff79b6ace8aaf",
      "filename": "ui/artalk-sidebar/src/assets/nav-icon-pages.svg",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-pages.svg",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-pages.svg",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-pages.svg?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1 @@\n+<svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m15.8333 18.3333h-11.66663c-1.38071 0-2.5-1.1192-2.5-2.5v-13.3333c0-.46023.3731-.83333.83333-.83333h11.6667c.4602 0 .8333.3731.8333.83333v10h3.3333v3.3333c0 1.3808-1.1192 2.5-2.5 2.5zm-.8333-4.1666v1.6666c0 .4603.3731.8334.8333.8334.4603 0 .8334-.3731.8334-.8334v-1.6666zm-1.6667 2.5v-13.33337h-9.99997v12.49997c0 .4603.3731.8334.83334.8334zm-8.3333-10.83337h6.6667v1.66667h-6.6667zm0 3.33334h6.6667v1.66663h-6.6667zm0 3.33333h4.16667v1.6667h-4.16667z\" fill=\"#636c76\"/></svg>\n\\ No newline at end of file"
    },
    {
      "sha": "bc4d250f162abc31d50adea8986998135ffdb504",
      "filename": "ui/artalk-sidebar/src/assets/nav-icon-search.svg",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-search.svg",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-search.svg",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-search.svg?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1 @@\n+<svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m9.16667 1.66667c4.14003 0 7.50003 3.36 7.50003 7.5 0 4.14003-3.36 7.50003-7.50003 7.50003-4.14 0-7.5-3.36-7.5-7.50003 0-4.14 3.36-7.5 7.5-7.5zm0 13.33333c3.22293 0 5.83333-2.6104 5.83333-5.83333 0-3.22292-2.6104-5.83334-5.83333-5.83334-3.22292 0-5.83334 2.61042-5.83334 5.83334 0 3.22293 2.61042 5.83333 5.83334 5.83333zm7.07113.0593 2.3569 2.357-1.1784 1.1784-2.357-2.3569z\" fill=\"#636c76\"/></svg>\n\\ No newline at end of file"
    },
    {
      "sha": "15e2ee315b26789032ce9cf54da12a98c1c02944",
      "filename": "ui/artalk-sidebar/src/assets/nav-icon-settings.svg",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-settings.svg",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-settings.svg",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-settings.svg?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1 @@\n+<svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m10 .833333 7.9167 4.583337v9.16663l-7.9167 4.5834-7.91666-4.5834v-9.16663zm0 1.925837-6.25 3.61842v7.24481l6.25 3.6184 6.25-3.6184v-7.24481zm0 10.57413c-1.84095 0-3.33333-1.4924-3.33333-3.3333 0-1.84095 1.49238-3.33333 3.33333-3.33333 1.8409 0 3.3333 1.49238 3.3333 3.33333 0 1.8409-1.4924 3.3333-3.3333 3.3333zm0-1.6666c.9205 0 1.6667-.7462 1.6667-1.6667s-.7462-1.66667-1.6667-1.66667-1.66666.74617-1.66666 1.66667.74616 1.6667 1.66666 1.6667z\" fill=\"#636c76\"/></svg>\n\\ No newline at end of file"
    },
    {
      "sha": "4189eff97c97a6fe844e479fed265f8fc5d4731d",
      "filename": "ui/artalk-sidebar/src/assets/nav-icon-sites.svg",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-sites.svg",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-sites.svg",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-sites.svg?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1 @@\n+<svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m16.7362 12.6666 1.0017.6011c.1974.1184.2613.3743.1429.5716-.0352.0587-.0842.1078-.1429.1429l-7.3091 4.3855c-.2639.1584-.59363.1584-.85746 0l-7.30915-4.3855c-.19732-.1184-.26131-.3743-.14291-.5716.03519-.0587.08426-.1078.14291-.1429l1.00174-.6011 6.73617 4.0416zm0-3.91668 1.0017.60108c.1974.11842.2613.37433.1429.57167-.0352.05866-.0842.10773-.1429.14293l-7.7378 4.6427-7.73791-4.6427c-.19732-.11843-.26131-.37435-.14291-.57168.03519-.05867.08426-.10775.14291-.14292l1.00174-.60108 6.73617 4.04168zm-6.3074-7.65939 7.3091 4.38547c.1974.11839.2613.37433.1429.57166-.0352.05865-.0842.10773-.1429.14291l-7.7378 4.64263-7.73791-4.64263c-.19732-.11839-.26131-.37433-.14291-.57165.03519-.05865.08426-.10773.14291-.14292l7.30915-4.38547c.26383-.15833.59356-.15833.85746 0zm-.4287 1.68641-5.09397 3.05635 5.09397 3.05638 5.0939-3.05638z\" fill=\"#636c76\"/></svg>\n\\ No newline at end of file"
    },
    {
      "sha": "a86d96b7a694b7e0251fd49cfa3b4ebe85199a87",
      "filename": "ui/artalk-sidebar/src/assets/nav-icon-transfer.svg",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-transfer.svg",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-transfer.svg",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-transfer.svg?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1 @@\n+<svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m5.00007 4.92853-1.91075 1.91075-1.17851-1.17851 3.92259-3.92259 3.9226 3.92259-1.1785 1.17851-1.91077-1.91075v4.23814h-1.66666zm9.16673 2.98816c1.1505 0 2.0833-.93274 2.0833-2.08333s-.9328-2.08333-2.0833-2.08333c-1.1506 0-2.0834.93274-2.0834 2.08333s.9328 2.08333 2.0834 2.08333zm0 1.66664c-2.0711 0-3.75-1.67891-3.75-3.74997 0-2.07107 1.6789-3.75 3.75-3.75 2.071 0 3.7499 1.67893 3.7499 3.75 0 2.07106-1.6789 3.74997-3.7499 3.74997zm3.9225 4.75587-1.1785-1.1785-1.9107 1.9108v-4.2382h-1.6667v4.2382l-1.9107-1.9108-1.1785 1.1785 3.9226 3.9226zm-13.92257 1.4941h3.33333l.00001-3.3333h-3.33334zm4.16669-5c.46025 0 .83333.3731.83333.8334v5c0 .4602-.37308.8333-.83333.8333h-5.00003c-.46023 0-.83333-.3731-.83332-.8333v-5c0-.4603.37309-.8334.83333-.8334z\" fill=\"#636c76\"/></svg>\n\\ No newline at end of file"
    },
    {
      "sha": "fbde1c54ec85b21ff2a15663893a5b1433825a70",
      "filename": "ui/artalk-sidebar/src/assets/nav-icon-users.svg",
      "status": "added",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-users.svg",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-users.svg",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fassets%2Fnav-icon-users.svg?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1 @@\n+<svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m2.5 4.16257c0-.91821.74385-1.66257 1.66257-1.66257h11.67483c.9183 0 1.6626.74385 1.6626 1.66257v11.67483c0 .9183-.7438 1.6626-1.6626 1.6626h-11.67483c-.91821 0-1.66257-.7438-1.66257-1.6626zm1.66667.0041v11.66663h11.66663v-11.66663zm2.4768 10.98403c-.51558-.2233-1.00415-.4971-1.45945-.8154 1.03909-1.6059 2.846-2.6686 4.90118-2.6686 1.9994 0 3.7639 1.0059 4.8149 2.5393-.4469.3303-.9281.6171-1.4372.8538-.7569-1.046-1.9879-1.7265-3.3777-1.7265-1.42978 0-2.69128.7201-3.44173 1.8174zm3.35653-4.3174c-1.61083 0-2.91667-1.3058-2.91667-2.91663 0-1.61084 1.30584-2.91667 2.91667-2.91667 1.6108 0 2.9167 1.30583 2.9167 2.91667 0 1.61083-1.3059 2.91663-2.9167 2.91663zm0-1.66663c.6903 0 1.25-.55967 1.25-1.25 0-.69036-.5597-1.25-1.25-1.25-.69033 0-1.25.55964-1.25 1.25 0 .69033.55967 1.25 1.25 1.25z\" fill=\"#636c76\"/></svg>\n\\ No newline at end of file"
    },
    {
      "sha": "20b8c1edf0e6165b92f9ef3065b28513591d096b",
      "filename": "ui/artalk-sidebar/src/components/AppHeader.vue",
      "status": "renamed",
      "additions": 45,
      "deletions": 1,
      "changes": 46,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppHeader.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppHeader.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppHeader.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -42,7 +42,14 @@ const logout = () => {\n     </template>\n \n     <div class=\"title\">\n-      <div class=\"text\">{{ isAdmin ? t('ctrlCenter') : t('msgCenter') }}</div>\n+      <div class=\"text show-mobile\">{{ isAdmin ? t('ctrlCenter') : t('msgCenter') }}</div>\n+      <div class=\"text show-desktop\">\n+        <template v-if=\"!isAdmin\">{{ t('msgCenter') }}</template>\n+        <template v-else-if=\"!!curtSite\">{{ curtSite }}</template>\n+        <template v-else>\n+          <img src=\"../assets/favicon.png\" class=\"artalk-logo\" draggable=\"false\" />\n+        </template>\n+      </div>\n     </div>\n \n     <div class=\"close-btn\"></div>\n@@ -57,6 +64,10 @@ const logout = () => {\n   align-items: center;\n   border-bottom: 1px solid var(--at-color-border);\n \n+  @media (min-width: 1024px) {\n+    background: #f6f8fa;\n+  }\n+\n   .avatar {\n     position: relative;\n     height: 60px;\n@@ -122,6 +133,28 @@ const logout = () => {\n       color: var(--at-color-deep);\n       font-size: 20px;\n \n+      &.show-mobile {\n+        display: none;\n+      }\n+\n+      &.show-desktop {\n+        display: inline-block;\n+\n+        &::after {\n+          display: none;\n+        }\n+      }\n+\n+      @media (max-width: 1023px) {\n+        &.show-mobile {\n+          display: inline-block;\n+        }\n+\n+        &.show-desktop {\n+          display: none;\n+        }\n+      }\n+\n       &::after {\n         content: '';\n         position: absolute;\n@@ -133,6 +166,17 @@ const logout = () => {\n         opacity: 0.4;\n       }\n     }\n+\n+    .artalk-logo {\n+      border-radius: 2px;\n+      height: 40px;\n+      width: 40px;\n+      background: #697182;\n+      text-align: center;\n+      line-height: 30px;\n+      font-size: 13px;\n+      color: #fff;\n+    }\n   }\n \n   .close-btn {",
      "previous_filename": "ui/artalk-sidebar/src/components/Header.vue"
    },
    {
      "sha": "ebe14923ba55c6d21c7191a47d545b6fd8c8597d",
      "filename": "ui/artalk-sidebar/src/components/AppNavigation.vue",
      "status": "added",
      "additions": 11,
      "deletions": 0,
      "changes": 11,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigation.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigation.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigation.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1,11 @@\n+<script setup lang=\"ts\"></script>\n+\n+<template>\n+  <!-- Desktop -->\n+  <AppNavigationDesktop />\n+\n+  <!-- Mobile or Sidebar -->\n+  <AppNavigationMobile />\n+</template>\n+\n+<style scoped lang=\"scss\"></style>"
    },
    {
      "sha": "4863d551ed7dba74c94d6d462229d27ccc796e5d",
      "filename": "ui/artalk-sidebar/src/components/AppNavigationDesktop.vue",
      "status": "added",
      "additions": 171,
      "deletions": 0,
      "changes": 171,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationDesktop.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationDesktop.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationDesktop.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1,171 @@\n+<script lang=\"ts\" setup>\n+/**\n+ * The part of the navigation bar that is displayed on desktop\n+ */\n+import SearchIcon from '../assets/nav-icon-search.svg'\n+import { useNavigationMenu } from './AppNavigationMenu'\n+\n+const nav = useNavigationMenu()\n+const { t } = useI18n()\n+</script>\n+\n+<template>\n+  <div class=\"sidebar-navigation\">\n+    <div\n+      v-for=\"(page, pageName) in nav.pages\"\n+      :key=\"pageName\"\n+      class=\"item\"\n+      :class=\"{ active: pageName === nav.curtPage }\"\n+      @click=\"nav.goPage(pageName as string)\"\n+    >\n+      <span class=\"icon\" :style=\"{ background: `url('${page.icon}')` }\"></span>\n+      {{ t(page.label) }}\n+    </div>\n+  </div>\n+\n+  <div v-if=\"!!Object.keys(nav.tabs).length\" class=\"top-tabbar-wrap atk-sidebar-container\">\n+    <div class=\"top-tabbar\">\n+      <div\n+        v-for=\"(tabLabel, tabName) in nav.tabs\"\n+        :key=\"tabName\"\n+        class=\"item-wrap\"\n+        :class=\"{ active: nav.curtTab === tabName }\"\n+        @click=\"nav.goTab(tabName as string)\"\n+      >\n+        <div class=\"item\">{{ t(tabLabel) }}</div>\n+      </div>\n+\n+      <div v-if=\"nav.isSearchEnabled\" class=\"item-wrap search-btn\" @click=\"nav.showSearch()\">\n+        <div class=\"item\">\n+          <div class=\"icon\" :style=\"{ background: `url('${SearchIcon}')` }\"></div>\n+        </div>\n+      </div>\n+    </div>\n+\n+    <AppNavigationSearch v-if=\"!nav.isMobile\" :state=\"nav.searchState\" />\n+  </div>\n+</template>\n+\n+<style lang=\"scss\" scoped>\n+$colorMain: #8ecee2;\n+\n+.sidebar-navigation {\n+  z-index: 10;\n+  width: 280px;\n+  position: fixed;\n+  left: 0;\n+  top: 61px;\n+  height: calc(100vh - 61px - 41px);\n+  padding: 20px;\n+  background: #fff;\n+  border-right: 1px solid var(--at-color-border);\n+\n+  @media (max-width: 1023px) {\n+    display: none;\n+  }\n+\n+  .item {\n+    position: relative;\n+    display: flex;\n+    align-items: center;\n+    padding: 6px 12px;\n+    font-size: 15px;\n+    border-radius: 6px;\n+    cursor: pointer;\n+    user-select: none;\n+    transition: background 0.2s;\n+\n+    &:not(:last-child) {\n+      margin-bottom: 4px;\n+    }\n+\n+    &.active {\n+      font-weight: bold;\n+      color: #181a1e;\n+\n+      &::before {\n+        content: '';\n+        display: block;\n+        position: absolute;\n+        left: -8px;\n+        top: 5%;\n+        background: $colorMain;\n+        height: 90%;\n+        width: 4px;\n+        border-radius: 1000px;\n+      }\n+    }\n+\n+    &:hover,\n+    &.active {\n+      background: #f4f5f7;\n+    }\n+\n+    .icon {\n+      width: 20px;\n+      height: 20px;\n+      margin-right: 10px;\n+      background-size: contain;\n+      background-repeat: no-repeat;\n+    }\n+  }\n+}\n+\n+.top-tabbar-wrap {\n+  @media (max-width: 1023px) {\n+    display: none;\n+  }\n+}\n+\n+.top-tabbar {\n+  display: flex;\n+  align-items: center;\n+  height: 50px;\n+  margin: 0 auto;\n+  padding: 0 8px;\n+  border-bottom: 1px solid var(--at-color-border);\n+\n+  .item-wrap {\n+    margin-bottom: -2px;\n+    display: flex;\n+    align-items: center;\n+    justify-content: center;\n+    font-size: 14px;\n+    height: 100%;\n+    padding: 0;\n+    cursor: pointer;\n+    user-select: none;\n+    border-bottom: 2px solid transparent;\n+\n+    &.active {\n+      font-weight: bold;\n+      border-color: $colorMain;\n+    }\n+\n+    &:not(:last-child) {\n+      margin-right: 7px;\n+    }\n+\n+    &:hover .item {\n+      background: var(--at-color-bg-grey-transl);\n+    }\n+\n+    &.search-btn {\n+      margin-left: auto;\n+    }\n+\n+    .item {\n+      border-radius: 4px;\n+      padding: 5px 16px;\n+      transition: background 0.2s;\n+\n+      .icon {\n+        width: 20px;\n+        height: 20px;\n+        background-size: contain;\n+        background-repeat: no-repeat;\n+      }\n+    }\n+  }\n+}\n+</style>"
    },
    {
      "sha": "d26417f836379c5652f146311a388fd41a109b56",
      "filename": "ui/artalk-sidebar/src/components/AppNavigationMenu.ts",
      "status": "added",
      "additions": 150,
      "deletions": 0,
      "changes": 150,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationMenu.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationMenu.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationMenu.ts?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1,150 @@\n+import { storeToRefs } from 'pinia'\n+import { RouteLocation } from 'vue-router'\n+import CommentsIcon from '../assets/nav-icon-comments.svg'\n+import PagesIcon from '../assets/nav-icon-pages.svg'\n+import UsersIcon from '../assets/nav-icon-users.svg'\n+import SitesIcon from '../assets/nav-icon-sites.svg'\n+import TransferIcon from '../assets/nav-icon-transfer.svg'\n+import SettingsIcon from '../assets/nav-icon-settings.svg'\n+import { useUserStore } from '@/stores/user'\n+import { useNavStore } from '@/stores/nav'\n+\n+export type PageItem = { label: string; link: string; hideOnMobile?: boolean; icon: string }\n+\n+/**\n+ * Pages for admin\n+ */\n+export const AdminPages: Record<string, PageItem> = {\n+  comments: {\n+    label: 'comment',\n+    link: '/comments',\n+    icon: CommentsIcon,\n+  },\n+  pages: {\n+    label: 'page',\n+    link: '/pages',\n+    icon: PagesIcon,\n+  },\n+  users: {\n+    label: 'user',\n+    link: '/users',\n+    icon: UsersIcon,\n+  },\n+  sites: {\n+    label: 'site',\n+    link: '/sites',\n+    hideOnMobile: true,\n+    icon: SitesIcon,\n+  },\n+  transfer: {\n+    label: 'transfer',\n+    link: '/transfer',\n+    hideOnMobile: true,\n+    icon: TransferIcon,\n+  },\n+  settings: {\n+    label: 'settings',\n+    link: '/settings',\n+    icon: SettingsIcon,\n+  },\n+}\n+\n+/**\n+ * Pages for user\n+ */\n+export const UserPages: Record<string, PageItem> = {\n+  comments: {\n+    // Only show comments page for user\n+    ...AdminPages.comments,\n+  },\n+}\n+\n+export interface NavigationStoreProps {\n+  onGoPage?: (pageName: string) => void\n+  onGoTab?: (tabName: string) => void\n+}\n+\n+export interface SearchStateApi {\n+  show: boolean\n+  value: string\n+  updateValue: (val: string) => void\n+  showSearch: () => void\n+  hideSearch: () => void\n+}\n+\n+/**\n+ * Navigation menu hook only use for AppNavigation component\n+ *\n+ * (do not expose to other components, others should call `useNavStore`)\n+ */\n+export const useNavigationMenu = (props: NavigationStoreProps = {}) => {\n+  const router = useRouter()\n+  const { isAdmin } = storeToRefs(useUserStore())\n+  const { tabs, curtPage, curtTab, isMobile, isSearchEnabled } = storeToRefs(useNavStore())\n+\n+  /**\n+   * Pages for current user\n+   */\n+  const pages = computed((): Record<string, PageItem> => (isAdmin.value ? AdminPages : UserPages))\n+\n+  /**\n+   * State for search input\n+   */\n+  const searchState = reactive<SearchStateApi>({\n+    show: false,\n+    value: '',\n+    updateValue(val: string) {\n+      searchState.value = val\n+    },\n+    showSearch() {\n+      searchState.show = true\n+    },\n+    hideSearch() {\n+      searchState.show = false\n+    },\n+  })\n+\n+  /**\n+   * Navigate to page\n+   */\n+  const goPage = (pageName: string) => {\n+    props.onGoPage?.(pageName)\n+    router.replace(pages.value[pageName].link)\n+  }\n+\n+  /**\n+   * Navigate to tab\n+   */\n+  const goTab = (tabName: string) => {\n+    props.onGoTab?.(tabName)\n+    curtTab.value = tabName\n+  }\n+\n+  /**\n+   * Sync current page name from route\n+   */\n+  const syncCurtPage = (to?: RouteLocation) =>\n+    (curtPage.value = String((to || useRoute()).name).replace(/^\\//, ''))\n+\n+  onMounted(() => {\n+    syncCurtPage()\n+  })\n+\n+  router.afterEach((to, from, failure) => {\n+    syncCurtPage(to)\n+  })\n+\n+  return reactive({\n+    pages,\n+    tabs,\n+    curtPage,\n+    curtTab,\n+    goPage,\n+    goTab,\n+    isMobile,\n+    isSearchEnabled,\n+    searchState,\n+    showSearch: searchState.showSearch,\n+    hideSearch: searchState.hideSearch,\n+  })\n+}"
    },
    {
      "sha": "6c7990eb6fa53156a68c28dd18dd8f2f39787adf",
      "filename": "ui/artalk-sidebar/src/components/AppNavigationMobile.vue",
      "status": "added",
      "additions": 187,
      "deletions": 0,
      "changes": 187,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationMobile.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationMobile.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationMobile.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1,187 @@\n+<script lang=\"ts\" setup>\n+/**\n+ * The part of the navigation bar that is displayed on mobile devices and the sidebar\n+ */\n+import { useNavigationMenu } from './AppNavigationMenu'\n+\n+const { t } = useI18n()\n+\n+const indicatorState = ref<'pages' | 'tabs'>('tabs')\n+const tabListEl = ref<HTMLElement | null>(null)\n+const nav = useNavigationMenu({\n+  onGoPage: () => {\n+    indicatorState.value = 'tabs'\n+  },\n+})\n+\n+/**\n+ * For tab list for horizontal scroll\n+ */\n+const wheelHandler = (evt: WheelEvent) => {\n+  evt.preventDefault()\n+  tabListEl.value && (tabListEl.value!.scrollLeft += evt.deltaY)\n+}\n+onMounted(() => tabListEl.value!.addEventListener('wheel', wheelHandler))\n+onUnmounted(() => tabListEl.value!.removeEventListener('wheel', wheelHandler))\n+\n+/**\n+ * Toggle indicator\n+ */\n+function toggleIndicator() {\n+  indicatorState.value = indicatorState.value !== 'tabs' ? 'tabs' : 'pages'\n+}\n+</script>\n+\n+<template>\n+  <div class=\"top-navigation\">\n+    <div class=\"page\" @click=\"toggleIndicator()\">\n+      <div class=\"icon\" :class=\"indicatorState === 'tabs' ? 'menu' : 'arrow'\"></div>\n+      <div v-if=\"nav.pages[nav.curtPage]?.label\" class=\"text\">\n+        {{ t(nav.pages[nav.curtPage].label) }}\n+      </div>\n+    </div>\n+\n+    <div ref=\"tabListEl\" class=\"tab-list\">\n+      <!-- Tabs -->\n+      <template v-if=\"indicatorState === 'tabs'\">\n+        <div\n+          v-for=\"(tabLabel, tabName) in nav.tabs\"\n+          :key=\"tabName\"\n+          class=\"item\"\n+          :class=\"{ active: nav.curtTab === tabName }\"\n+          @click=\"nav.goTab(tabName as string)\"\n+        >\n+          {{ t(tabLabel) }}\n+        </div>\n+\n+        <div v-if=\"nav.isSearchEnabled\" class=\"item search-btn\" @click=\"nav.showSearch()\"></div>\n+      </template>\n+\n+      <!-- Pages -->\n+      <template v-if=\"indicatorState === 'pages'\">\n+        <div\n+          v-for=\"(page, pageName) in nav.pages\"\n+          v-show=\"!page.hideOnMobile\"\n+          :key=\"pageName\"\n+          class=\"item\"\n+          :class=\"{ active: pageName === nav.curtPage }\"\n+          @click=\"nav.goPage(pageName as string)\"\n+        >\n+          {{ t(page.label) }}\n+        </div>\n+      </template>\n+    </div>\n+\n+    <AppNavigationSearch v-if=\"nav.isMobile\" :state=\"nav.searchState\" />\n+  </div>\n+</template>\n+\n+<style lang=\"scss\" scoped>\n+.top-navigation {\n+  position: relative;\n+  display: flex;\n+  flex-direction: row;\n+  align-items: center;\n+  border-bottom: 1px solid var(--at-color-border);\n+  height: 41px;\n+\n+  @media (min-width: 1024px) {\n+    display: none;\n+  }\n+\n+  .icon {\n+    width: 17px;\n+    height: 100%;\n+    background-color: var(--at-color-deep);\n+    background-size: contain;\n+    background-repeat: no-repeat;\n+    mask-repeat: no-repeat;\n+    -webkit-mask-repeat: no-repeat;\n+    mask-position: center;\n+    -webkit-mask-position: center;\n+    mask-size: 100%;\n+    -webkit-mask-size: 100%;\n+\n+    &.menu {\n+      $menuImg: url(\"data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5 9H44V11.8182H5V9ZM5 23.0909H44V25.9091H5V23.0909ZM44 37.1818H5V40H44V37.1818Z' fill='black'/%3E%3C/svg%3E%0A\");\n+      mask-image: $menuImg;\n+      -webkit-mask-image: $menuImg;\n+    }\n+\n+    &.arrow {\n+      $arrowImg: url(\"data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M32.1433 7L15 24.4999L15.4676 24.9773L32.1433 42L34 40.1047L18.7133 24.5001L34 8.89529L32.1433 7Z' fill='black'/%3E%3C/svg%3E%0A\");\n+      mask-image: $arrowImg;\n+      -webkit-mask-image: $arrowImg;\n+    }\n+  }\n+\n+  .page {\n+    display: flex;\n+    align-items: center;\n+    height: 100%;\n+    padding: 0 20px;\n+    border-right: 1px solid var(--at-color-border);\n+    cursor: pointer;\n+    user-select: none;\n+    white-space: nowrap;\n+\n+    .icon {\n+      margin-right: 10px;\n+    }\n+\n+    .text {\n+      color: var(--at-color-deep);\n+    }\n+  }\n+\n+  .tab-list {\n+    position: relative;\n+    flex: auto;\n+    height: 100%;\n+    display: flex;\n+    flex-direction: row;\n+    overflow-y: auto;\n+\n+    &::-webkit-scrollbar {\n+      width: 0;\n+      height: 0;\n+      background: transparent;\n+    }\n+  }\n+\n+  .item {\n+    padding: 0 20px;\n+    color: var(--at-color-sub);\n+    display: flex;\n+    align-items: center;\n+    justify-content: center;\n+    height: 100%;\n+    cursor: pointer;\n+    white-space: nowrap;\n+\n+    &.active {\n+      color: var(--at-color-deep);\n+    }\n+\n+    &:hover {\n+      background: var(--at-color-bg-grey);\n+    }\n+\n+    &.search-btn {\n+      margin-left: auto;\n+      padding: 0 20px;\n+      border-left: 1px solid var(--at-color-border);\n+\n+      &::after {\n+        display: inline-block;\n+        content: '';\n+        height: 15px;\n+        width: 15px;\n+        background-repeat: no-repeat;\n+        background-position: center;\n+        background-image: url(\"data:image/svg+xml,%3Csvg width='15' height='15' viewBox='0 0 15 15' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.89266 3.70572C8.18412 1.99718 5.41402 1.99718 3.70548 3.70572C1.99694 5.41427 1.99694 8.18436 3.70548 9.89291C5.41402 11.6015 8.18412 11.6015 9.89266 9.89291C11.6012 8.18436 11.6012 5.41427 9.89266 3.70572ZM2.8216 2.82184C5.0183 0.625142 8.57985 0.625142 10.7765 2.82184C12.8239 4.86916 12.9631 8.10202 11.1942 10.3106L13.4282 12.5446L12.5443 13.4284L10.3103 11.1945C8.10177 12.9633 4.86892 12.8241 2.8216 10.7768C0.624897 8.58009 0.624897 5.01854 2.8216 2.82184Z' fill='%23757575'/%3E%3C/svg%3E\");\n+      }\n+    }\n+  }\n+}\n+</style>"
    },
    {
      "sha": "750fa29f4b09c01a85a3db07bff5d6ee627397a8",
      "filename": "ui/artalk-sidebar/src/components/AppNavigationSearch.vue",
      "status": "added",
      "additions": 137,
      "deletions": 0,
      "changes": 137,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationSearch.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationSearch.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FAppNavigationSearch.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1,137 @@\n+<script lang=\"ts\" setup>\n+import type { SearchStateApi } from './AppNavigationMenu'\n+import { useNavStore } from '@/stores/nav'\n+\n+const { t } = useI18n()\n+const nav = useNavStore()\n+const inputEl = ref<HTMLInputElement | null>(null)\n+\n+const props = defineProps<{\n+  state: SearchStateApi\n+}>()\n+\n+watch(\n+  () => props.state.show,\n+  (show) => {\n+    if (show) {\n+      nextTick(() => {\n+        inputEl.value?.focus()\n+      })\n+    } else {\n+      props.state.updateValue('')\n+      nav.searchResetEvent?.()\n+    }\n+  },\n+)\n+\n+const onSearchSubmit = (evt: Event) => {\n+  const { value } = props.state\n+  if (value.trim() === '') {\n+    inputEl.value?.focus()\n+    return\n+  }\n+\n+  nav.searchEvent?.(value.trim())\n+}\n+</script>\n+\n+<template>\n+  <form v-if=\"props.state.show\" class=\"search-layer atk-fade-in\" @submit.prevent=\"onSearchSubmit\">\n+    <div class=\"item back-btn\" @click=\"props.state.hideSearch()\">\n+      <div class=\"icon arrow\"></div>\n+    </div>\n+    <input\n+      ref=\"inputEl\"\n+      :value=\"props.state.value\"\n+      type=\"text\"\n+      :placeholder=\"t('searchHint')\"\n+      required\n+      @input=\"props.state.updateValue(($event.target as HTMLInputElement).value)\"\n+    />\n+    <button type=\"submit\" class=\"item search-btn\"></button>\n+  </form>\n+</template>\n+\n+<style lang=\"scss\" scoped>\n+.search-layer {\n+  z-index: 100;\n+  position: absolute;\n+  height: 100%;\n+  width: 100%;\n+  top: 0;\n+  background: var(--at-color-bg);\n+  display: flex;\n+  flex-direction: row;\n+\n+  .back-btn {\n+    padding: 0 20px;\n+    border-right: 1px solid var(--at-color-border);\n+  }\n+\n+  input {\n+    flex: 1;\n+    border: 0;\n+    outline: none;\n+    padding: 0 20px;\n+    font-size: 15px;\n+    background: transparent;\n+  }\n+\n+  .search-btn {\n+    cursor: pointer;\n+    border: none;\n+    background: transparent;\n+  }\n+\n+  .icon {\n+    width: 17px;\n+    height: 100%;\n+    background-color: var(--at-color-deep);\n+    background-size: contain;\n+    background-repeat: no-repeat;\n+    mask-repeat: no-repeat;\n+    mask-position: center;\n+    mask-size: 100%;\n+\n+    &.arrow {\n+      $arrowImg: url(\"data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M32.1433 7L15 24.4999L15.4676 24.9773L32.1433 42L34 40.1047L18.7133 24.5001L34 8.89529L32.1433 7Z' fill='black'/%3E%3C/svg%3E%0A\");\n+      mask-image: $arrowImg;\n+    }\n+  }\n+\n+  .item {\n+    padding: 0 20px;\n+    color: var(--at-color-sub);\n+    display: flex;\n+    align-items: center;\n+    justify-content: center;\n+    height: 100%;\n+    cursor: pointer;\n+    white-space: nowrap;\n+\n+    &.active {\n+      color: var(--at-color-deep);\n+    }\n+\n+    &:hover {\n+      background: var(--at-color-bg-grey);\n+    }\n+\n+    &.search-btn {\n+      margin-left: auto;\n+      padding: 0 20px;\n+      border-left: 1px solid var(--at-color-border);\n+\n+      &::after {\n+        display: inline-block;\n+        content: '';\n+        height: 15px;\n+        width: 15px;\n+        background-repeat: no-repeat;\n+        background-position: center;\n+        background-image: url(\"data:image/svg+xml,%3Csvg width='15' height='15' viewBox='0 0 15 15' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.89266 3.70572C8.18412 1.99718 5.41402 1.99718 3.70548 3.70572C1.99694 5.41427 1.99694 8.18436 3.70548 9.89291C5.41402 11.6015 8.18412 11.6015 9.89266 9.89291C11.6012 8.18436 11.6012 5.41427 9.89266 3.70572ZM2.8216 2.82184C5.0183 0.625142 8.57985 0.625142 10.7765 2.82184C12.8239 4.86916 12.9631 8.10202 11.1942 10.3106L13.4282 12.5446L12.5443 13.4284L10.3103 11.1945C8.10177 12.9633 4.86892 12.8241 2.8216 10.7768C0.624897 8.58009 0.624897 5.01854 2.8216 2.82184Z' fill='%23757575'/%3E%3C/svg%3E\");\n+      }\n+    }\n+  }\n+}\n+</style>"
    },
    {
      "sha": "3058c3121ab6e5a757bc2cc6ca1d18636526e28b",
      "filename": "ui/artalk-sidebar/src/components/PreferenceArr.vue",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceArr.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceArr.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceArr.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -70,13 +70,13 @@ function add() {\n .arr-item {\n   position: relative;\n   margin-bottom: 20px;\n-  padding-right: 50px;\n+  padding-right: 40px;\n \n   .act-btn {\n     position: absolute;\n     top: 50%;\n     transform: translateY(-50%);\n-    right: 10px;\n+    right: 0;\n   }\n }\n "
    },
    {
      "sha": "f3fadd67d945cd1d8e3a62e6572aefd1d79ccd4b",
      "filename": "ui/artalk-sidebar/src/components/PreferenceGrp.vue",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceGrp.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceGrp.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPreferenceGrp.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -84,7 +84,8 @@ const hiddenNodes = ['admin_users']\n         content: '';\n         height: 10px;\n         width: 10px;\n-        background: rgba(136, 195, 250, 0.7);\n+        background: #8ecee2;\n+        border-radius: 2px;\n       }\n     }\n   }"
    },
    {
      "sha": "627570064e0a8b5a7d938c5ecc2f1d5c9fd18488",
      "filename": "ui/artalk-sidebar/src/components/SiteSwitcher.vue",
      "status": "modified",
      "additions": 6,
      "deletions": 1,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -132,6 +132,11 @@ function logout() {\n   overflow-y: auto;\n   transition: all 0.2s ease;\n \n+  @media (min-width: 1024px) {\n+    left: 10px;\n+    max-width: 260px;\n+  }\n+\n   .atk-sites {\n     display: flex;\n     flex-direction: column;\n@@ -149,7 +154,7 @@ function logout() {\n         width: 20px;\n         height: 20px;\n         line-height: 20px;\n-        background: #697182;\n+        background: #5b6f7e;\n         margin: 10px;\n         border-radius: 3px;\n         text-align: center;"
    },
    {
      "sha": "c61c20674e6bc53b348c0533687574f091fd4e08",
      "filename": "ui/artalk-sidebar/src/components/Tab.vue",
      "status": "removed",
      "additions": 0,
      "deletions": 309,
      "changes": 309,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/4d7e157ff099db4143fb81ca707ceb8bc02f6e75/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/4d7e157ff099db4143fb81ca707ceb8bc02f6e75/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue?ref=4d7e157ff099db4143fb81ca707ceb8bc02f6e75",
      "patch": "@@ -1,309 +0,0 @@\n-<script setup lang=\"ts\">\n-import { storeToRefs } from 'pinia'\n-import { useNavStore } from '../stores/nav'\n-import { useUserStore } from '../stores/user'\n-\n-type PageItem = { label: string; link: string; hide?: boolean }\n-\n-const router = useRouter()\n-const route = useRoute()\n-const nav = useNavStore()\n-const { t } = useI18n()\n-\n-const { curtPage, curtTab, tabs, isSearchEnabled } = storeToRefs(nav)\n-const { isAdmin } = storeToRefs(useUserStore())\n-const indicator = ref<'pages' | 'tabs'>('tabs')\n-const tabListEl = ref<HTMLElement | null>(null)\n-\n-const pages = computed((): { [name: string]: PageItem } => {\n-  if (isAdmin.value) {\n-    return {\n-      comments: {\n-        label: 'comment',\n-        link: '/comments',\n-      },\n-      pages: {\n-        label: 'page',\n-        link: '/pages',\n-      },\n-      users: {\n-        label: 'user',\n-        link: '/users',\n-      },\n-      sites: {\n-        label: 'site',\n-        link: '/sites',\n-        hide: true,\n-      },\n-      transfer: {\n-        label: 'transfer',\n-        link: '/transfer',\n-        hide: true,\n-      },\n-      settings: {\n-        label: 'settings',\n-        link: '/settings',\n-      },\n-    }\n-  } else {\n-    return {\n-      comments: {\n-        label: 'comment',\n-        link: '/comments',\n-      },\n-    }\n-  }\n-})\n-\n-const isSearchShow = ref(false)\n-const searchValue = ref('')\n-const searchInputEl = ref<HTMLInputElement | null>(null)\n-\n-onMounted(() => {\n-  tabListEl.value!.addEventListener('wheel', (evt) => {\n-    evt.preventDefault()\n-    tabListEl.value!.scrollLeft += evt.deltaY\n-  })\n-})\n-\n-function toggleIndicator() {\n-  indicator.value = indicator.value !== 'tabs' ? 'tabs' : 'pages'\n-}\n-\n-function switchPage(pageName: string) {\n-  indicator.value = 'tabs'\n-\n-  router.replace(pages.value[pageName].link)\n-}\n-\n-function switchTab(tabName: string) {\n-  curtTab.value = tabName\n-}\n-\n-// @link https://router.vuejs.org/zh/guide/advanced/navigation-guards.html\n-router.beforeEach((to, from) => {\n-  isSearchEnabled.value = false\n-})\n-\n-router.afterEach((to, from, failure) => {\n-  curtPage.value = String(to.name).replace(/^\\//, '')\n-})\n-\n-function showSearch() {\n-  isSearchShow.value = true\n-  nextTick(() => {\n-    searchInputEl.value?.focus()\n-  })\n-}\n-\n-function hideSearch() {\n-  isSearchShow.value = false\n-  searchValue.value = ''\n-  if (nav.searchResetEvent) {\n-    nav.searchResetEvent()\n-  }\n-}\n-\n-function onSearchSubmit(evt: Event) {\n-  if (searchValue.value.trim() === '') {\n-    searchInputEl.value?.focus()\n-    return\n-  }\n-\n-  if (nav.searchEvent) {\n-    nav.searchEvent(searchValue.value.trim())\n-  }\n-}\n-</script>\n-\n-<template>\n-  <div class=\"tab\">\n-    <div class=\"page\" @click=\"toggleIndicator()\">\n-      <div class=\"icon\" :class=\"indicator === 'tabs' ? 'menu' : 'arrow'\"></div>\n-      <div v-if=\"pages[curtPage]?.label\" class=\"text\">\n-        {{ t(pages[curtPage].label) }}\n-      </div>\n-    </div>\n-\n-    <div ref=\"tabListEl\" class=\"tab-list\">\n-      <!-- tabs -->\n-      <template v-if=\"indicator === 'tabs'\">\n-        <div\n-          v-for=\"(tabLabel, tabName) in tabs\"\n-          :key=\"tabName\"\n-          class=\"item\"\n-          :class=\"{ active: curtTab === tabName }\"\n-          @click=\"switchTab(tabName as string)\"\n-        >\n-          {{ t(tabLabel) }}\n-        </div>\n-\n-        <div v-if=\"isSearchEnabled\" class=\"item search-btn\" @click=\"showSearch()\"></div>\n-      </template>\n-\n-      <!-- pages -->\n-      <template v-else>\n-        <div\n-          v-for=\"(page, pageName) in pages\"\n-          v-show=\"!page.hide\"\n-          :key=\"pageName\"\n-          class=\"item\"\n-          :class=\"{ active: pageName === curtPage }\"\n-          @click=\"switchPage(pageName as string)\"\n-        >\n-          {{ t(page.label) }}\n-        </div>\n-      </template>\n-    </div>\n-\n-    <form v-if=\"isSearchShow\" class=\"search-layer atk-fade-in\" @submit.prevent=\"onSearchSubmit\">\n-      <div class=\"item back-btn\" @click=\"hideSearch()\">\n-        <div class=\"icon arrow\"></div>\n-      </div>\n-      <input\n-        ref=\"searchInputEl\"\n-        v-model=\"searchValue\"\n-        type=\"text\"\n-        :placeholder=\"t('searchHint')\"\n-        required\n-      />\n-      <button type=\"submit\" class=\"item search-btn\"></button>\n-    </form>\n-  </div>\n-</template>\n-\n-<style scoped lang=\"scss\">\n-.tab {\n-  position: relative;\n-  display: flex;\n-  flex-direction: row;\n-  align-items: center;\n-  border-bottom: 1px solid var(--at-color-border);\n-  height: 41px;\n-\n-  .icon {\n-    width: 17px;\n-    height: 100%;\n-    background-color: var(--at-color-deep);\n-    background-size: contain;\n-    background-repeat: no-repeat;\n-    mask-repeat: no-repeat;\n-    -webkit-mask-repeat: no-repeat;\n-    mask-position: center;\n-    -webkit-mask-position: center;\n-    mask-size: 100%;\n-    -webkit-mask-size: 100%;\n-\n-    &.menu {\n-      $menuImg: url(\"data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5 9H44V11.8182H5V9ZM5 23.0909H44V25.9091H5V23.0909ZM44 37.1818H5V40H44V37.1818Z' fill='black'/%3E%3C/svg%3E%0A\");\n-      mask-image: $menuImg;\n-      -webkit-mask-image: $menuImg;\n-    }\n-\n-    &.arrow {\n-      $arrowImg: url(\"data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M32.1433 7L15 24.4999L15.4676 24.9773L32.1433 42L34 40.1047L18.7133 24.5001L34 8.89529L32.1433 7Z' fill='black'/%3E%3C/svg%3E%0A\");\n-      mask-image: $arrowImg;\n-      -webkit-mask-image: $arrowImg;\n-    }\n-  }\n-\n-  .page {\n-    display: flex;\n-    align-items: center;\n-    height: 100%;\n-    padding: 0 20px;\n-    border-right: 1px solid var(--at-color-border);\n-    cursor: pointer;\n-    user-select: none;\n-    white-space: nowrap;\n-\n-    .icon {\n-      margin-right: 10px;\n-    }\n-\n-    .text {\n-      color: var(--at-color-deep);\n-    }\n-  }\n-\n-  .tab-list {\n-    position: relative;\n-    flex: auto;\n-    height: 100%;\n-    display: flex;\n-    flex-direction: row;\n-    overflow-y: auto;\n-\n-    &::-webkit-scrollbar {\n-      width: 0;\n-      height: 0;\n-      background: transparent;\n-    }\n-  }\n-\n-  .item {\n-    padding: 0 20px;\n-    color: var(--at-color-sub);\n-    display: flex;\n-    align-items: center;\n-    justify-content: center;\n-    height: 100%;\n-    cursor: pointer;\n-    white-space: nowrap;\n-\n-    &.active {\n-      color: var(--at-color-deep);\n-    }\n-\n-    &:hover {\n-      background: var(--at-color-bg-grey);\n-    }\n-\n-    &.search-btn {\n-      margin-left: auto;\n-      padding: 0 20px;\n-      border-left: 1px solid var(--at-color-border);\n-\n-      &::after {\n-        display: inline-block;\n-        content: '';\n-        height: 15px;\n-        width: 15px;\n-        background-repeat: no-repeat;\n-        background-position: center;\n-        background-image: url(\"data:image/svg+xml,%3Csvg width='15' height='15' viewBox='0 0 15 15' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.89266 3.70572C8.18412 1.99718 5.41402 1.99718 3.70548 3.70572C1.99694 5.41427 1.99694 8.18436 3.70548 9.89291C5.41402 11.6015 8.18412 11.6015 9.89266 9.89291C11.6012 8.18436 11.6012 5.41427 9.89266 3.70572ZM2.8216 2.82184C5.0183 0.625142 8.57985 0.625142 10.7765 2.82184C12.8239 4.86916 12.9631 8.10202 11.1942 10.3106L13.4282 12.5446L12.5443 13.4284L10.3103 11.1945C8.10177 12.9633 4.86892 12.8241 2.8216 10.7768C0.624897 8.58009 0.624897 5.01854 2.8216 2.82184Z' fill='%23757575'/%3E%3C/svg%3E\");\n-      }\n-    }\n-  }\n-\n-  .search-layer {\n-    z-index: 100;\n-    position: absolute;\n-    height: 100%;\n-    width: 100%;\n-    background: var(--at-color-bg);\n-    display: flex;\n-    flex-direction: row;\n-\n-    .back-btn {\n-      padding: 0 20px;\n-      border-right: 1px solid var(--at-color-border);\n-    }\n-\n-    input {\n-      flex: 1;\n-      border: 0;\n-      outline: none;\n-      padding: 0 20px;\n-      font-size: 15px;\n-      background: transparent;\n-    }\n-\n-    .search-btn {\n-      cursor: pointer;\n-      border: none;\n-      background: transparent;\n-    }\n-  }\n-}\n-</style>"
    },
    {
      "sha": "c4e1c76aafbfa70ba12c2e6f539e6bbc25d05322",
      "filename": "ui/artalk-sidebar/src/components/UserEditor.vue",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -174,12 +174,13 @@ function submit() {\n \n <style scoped lang=\"scss\">\n .user-editor-layer {\n-  z-index: 201;\n+  z-index: 5;\n   position: absolute;\n   top: 0;\n   left: 0;\n   width: 100%;\n   height: 100%;\n+  min-height: calc(100vh - 160px);\n   background: var(--at-color-bg);\n   overflow-y: auto;\n }"
    },
    {
      "sha": "f501db45f7b914c0010bab7e51eaf27e241bbb75",
      "filename": "ui/artalk-sidebar/src/global.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fglobal.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fglobal.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fglobal.ts?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -48,7 +48,7 @@ export function initArtalk() {\n     useBackendConf: true,\n     pvAdd: false,\n     remoteConfModifier: (conf) => {\n-      conf.noComment = `<div class=\"atk-sidebar-no-content\">No Content</div>` // TODO i18n t('noComment')\n+      conf.noComment = `<div class=\"atk-sidebar-no-content\"></div>` // TODO i18n t('noComment')\n       conf.flatMode = true\n       conf.pagination = {\n         pageSize: 20,"
    },
    {
      "sha": "5d49314d63c7a7172ba8c40ba517ad91d174af89",
      "filename": "ui/artalk-sidebar/src/hooks/MobileWidth.ts",
      "status": "added",
      "additions": 27,
      "deletions": 0,
      "changes": 27,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fhooks%2FMobileWidth.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fhooks%2FMobileWidth.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fhooks%2FMobileWidth.ts?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -0,0 +1,27 @@\n+export const useMobileWidth = () => {\n+  const isMobileWidth = ref(false)\n+  const maxMobileWidth = 1023\n+\n+  const debounce = (fn: () => void, delay = 100) => {\n+    let timer: any\n+    return () => {\n+      clearTimeout(timer)\n+      timer = setTimeout(fn, delay)\n+    }\n+  }\n+\n+  const checkMobileWidth = debounce(() => {\n+    isMobileWidth.value = window.innerWidth <= maxMobileWidth\n+  })\n+\n+  onMounted(() => {\n+    checkMobileWidth()\n+    window.addEventListener('resize', checkMobileWidth)\n+  })\n+\n+  onBeforeUnmount(() => {\n+    window.removeEventListener('resize', checkMobileWidth)\n+  })\n+\n+  return isMobileWidth\n+}"
    },
    {
      "sha": "aaa1418fcbb7fb12ecd0457464601f41ca4e096a",
      "filename": "ui/artalk-sidebar/src/pages/comments.vue",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -104,9 +104,6 @@ onMounted(() => {\n \n <style scoped lang=\"scss\">\n .comments-wrap {\n-  overflow-y: auto;\n-  height: 100%;\n-\n   :deep(.atk-comment-wrap) {\n     border-bottom: 1px solid var(--at-color-border);\n   }"
    },
    {
      "sha": "d4c1dadf352bae698e69d7767016f580a1a060fa",
      "filename": "ui/artalk-sidebar/src/pages/login.vue",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -114,6 +114,7 @@ function selectUser(username: string) {\n \n <style lang=\"scss\" scoped>\n .login-dialog {\n+  z-index: 11;\n   position: fixed;\n   display: flex;\n   flex-direction: column;"
    },
    {
      "sha": "f2a06611d383084dbfb147139354ca781877045a",
      "filename": "ui/artalk-sidebar/src/pages/settings.vue",
      "status": "modified",
      "additions": 16,
      "deletions": 10,
      "changes": 26,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -76,11 +76,13 @@ function save() {\n <template>\n   <div class=\"settings\">\n     <div class=\"act-bar\">\n-      <div class=\"status-text\"></div>\n-      <button class=\"save-btn\" @click=\"save()\">\n-        <i class=\"atk-icon atk-icon-yes\" />\n-        {{ t('apply') }}\n-      </button>\n+      <div class=\"atk-sidebar-container\">\n+        <div class=\"status-text\"></div>\n+        <button class=\"save-btn\" @click=\"save()\">\n+          <i class=\"atk-icon atk-icon-yes\" />\n+          {{ t('apply') }}\n+        </button>\n+      </div>\n       <LoadingLayer v-if=\"isLoading\" />\n     </div>\n     <div v-if=\"tree\" class=\"pfs\">\n@@ -106,10 +108,6 @@ function save() {\n   .act-bar {\n     z-index: 999;\n     position: fixed;\n-    display: flex;\n-    align-items: center;\n-    justify-content: space-between;\n-    flex-direction: row;\n     height: 55px;\n     width: 100%;\n     bottom: 0;\n@@ -118,6 +116,14 @@ function save() {\n     border-top: 1px solid var(--at-color-border);\n     padding: 0 20px;\n \n+    .atk-sidebar-container {\n+      display: flex;\n+      height: 100%;\n+      align-items: center;\n+      justify-content: space-between;\n+      flex-direction: row;\n+    }\n+\n     .status-text {\n       padding: 0 5px;\n       flex: 1;\n@@ -131,7 +137,7 @@ function save() {\n       cursor: pointer;\n       background: transparent;\n       border-radius: 2px;\n-      background: var(--at-color-main);\n+      background: #36abcf;\n       color: #fff;\n       border: 0;\n "
    },
    {
      "sha": "3005865ca7ba9e2bf4f73191cadbec936e9908f6",
      "filename": "ui/artalk-sidebar/src/pages/sites.vue",
      "status": "modified",
      "additions": 8,
      "deletions": 1,
      "changes": 9,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -192,7 +192,7 @@ function onSiteItemRemove(id: number) {\n         height: 65px;\n         width: 65px;\n         line-height: 65px;\n-        background: #687a86;\n+        background: #5b6f7e;\n         color: #fff;\n         border-radius: 4px;\n       }\n@@ -233,6 +233,13 @@ function onSiteItemRemove(id: number) {\n     border-bottom: 1px solid var(--at-color-border);\n     margin-bottom: -10px;\n \n+    @media (min-width: 1024px) {\n+      border-left: 1px solid var(--at-color-border);\n+      border-right: 1px solid var(--at-color-border);\n+      border-radius: 4px;\n+      padding-top: 10px;\n+    }\n+\n     .atk-header {\n       display: flex;\n       flex-direction: row;"
    },
    {
      "sha": "625f77e02145d9d0a1296246d168cfaf35a88b62",
      "filename": "ui/artalk-sidebar/src/stores/nav.ts",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fnav.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fnav.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fstores%2Fnav.ts?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -1,6 +1,7 @@\n import { defineStore } from 'pinia'\n import type { ArtalkType } from 'artalk'\n import { artalk } from '../global'\n+import { useMobileWidth } from '@/hooks/MobileWidth'\n \n type TabsObj = { [name: string]: string }\n \n@@ -67,6 +68,12 @@ export const useNavStore = defineStore('nav', () => {\n     searchResetEvent.value = searchResetEvt\n   }\n \n+  useRouter().beforeEach((to, from) => {\n+    isSearchEnabled.value = false\n+  })\n+\n+  const isMobile = useMobileWidth()\n+\n   return {\n     sites,\n     curtPage,\n@@ -88,5 +95,6 @@ export const useNavStore = defineStore('nav', () => {\n     searchEvent,\n     searchResetEvent,\n     enableSearch,\n+    isMobile,\n   }\n })"
    },
    {
      "sha": "2e9a35962f39febca770349762d9389c7fc9a4e9",
      "filename": "ui/artalk-sidebar/src/style.scss",
      "status": "modified",
      "additions": 6,
      "deletions": 9,
      "changes": 15,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fstyle.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk-sidebar%2Fsrc%2Fstyle.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk-sidebar%2Fsrc%2Fstyle.scss?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -12,9 +12,6 @@ body {\n }\n \n .atk-sidebar {\n-  .atk-sidebar-inner {\n-  }\n-\n   .atk-list {\n     .atk-main-editor {\n       margin-top: -4px;\n@@ -74,7 +71,7 @@ body {\n       padding: 0 10px;\n       margin: 0;\n       border: none;\n-      border-bottom: 2px solid var(--at-color-border);\n+      border-bottom: 1px solid var(--at-color-border);\n       outline: none;\n       width: 100%;\n       margin-bottom: 25px;\n@@ -86,13 +83,13 @@ body {\n \n       &[type='file'] {\n         background: transparent;\n-        border: 2px solid var(--at-color-border);\n+        border: 1px solid var(--at-color-border);\n         cursor: pointer;\n         position: relative;\n         padding: 6px 15px;\n         line-height: 0;\n         margin-bottom: 17px;\n-        border-radius: 50px;\n+        border-radius: 4px;\n \n         &:hover {\n           background: var(--at-color-bg-light);\n@@ -104,7 +101,7 @@ body {\n         background: transparent;\n         color: var(--at-color-font);\n         border: 0;\n-        border-right: 2px solid var(--at-color-border);\n+        border-right: 1px solid var(--at-color-border);\n         border-left: 0;\n         border-top: 0;\n         border-bottom: 0;\n@@ -143,12 +140,12 @@ body {\n       text-align: center;\n       color: var(--at-color-light);\n       background: transparent;\n-      border: 2px solid var(--at-color-bg-light);\n+      border: 1px solid var(--at-color-bg-light);\n       line-height: $form-height;\n       cursor: pointer;\n       outline: none;\n       padding: 0 20px;\n-      border-radius: 50px;\n+      border-radius: 4px;\n       margin: 0 5px;\n       width: 100%;\n       user-select: none;"
    },
    {
      "sha": "7cf121d290ed29af4f59ef6e93323e94d2860645",
      "filename": "ui/artalk/src/i18n/en.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk%2Fsrc%2Fi18n%2Fen.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0/ui%2Fartalk%2Fsrc%2Fi18n%2Fen.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fi18n%2Fen.ts?ref=adcb75a2e2a9611afdd1a84bf9d6e9427bf186b0",
      "patch": "@@ -67,7 +67,7 @@ const en = {\n \n   /* Sidebar */\n   msgCenter: 'Messages',\n-  ctrlCenter: 'Admin',\n+  ctrlCenter: 'Dashboard',\n \n   /* Auth */\n   noAccountPrompt: \"Don't have an account?\","
    }
  ]
}
