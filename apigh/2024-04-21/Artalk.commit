{
  "sha": "32531d9dc5a7466b9b161575c7d56ed7f630a59a",
  "node_id": "C_kwDOCQOkhNoAKDMyNTMxZDlkYzVhNzQ2NmI5YjE2MTU3NWM3ZDU2ZWQ3ZjYzMGE1OWE",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2024-04-18T10:40:58Z"
    },
    "committer": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2024-04-18T10:41:38Z"
    },
    "message": "perf(i18n): add translation for 'parameter is required'",
    "tree": {
      "sha": "eb87c2b7fb57b245651db977cb4e94f2dd0557d2",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/eb87c2b7fb57b245651db977cb4e94f2dd0557d2"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/32531d9dc5a7466b9b161575c7d56ed7f630a59a",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQS0Ev3sdPZbHkWwzmLUbg8O6nwTagUCZiD48QAKCRDUbg8O6nwT\nanVVAP9xlIgLzuaDc+Viro89eHHCZ9wRrmdZBY1mdyvNXTr9hwEA6tNiCurNNN6A\nvrE1wULyrcFdbA1T8NwirWQeUWXOfQA=\n=2m6A\n-----END PGP SIGNATURE-----",
      "payload": "tree eb87c2b7fb57b245651db977cb4e94f2dd0557d2\nparent ebe2e2ad149496434cc1ac9cabde5aba2d43f6fa\nauthor qwqcode <qwqcode@gmail.com> 1713436858 +0800\ncommitter qwqcode <qwqcode@gmail.com> 1713436898 +0800\n\nperf(i18n): add translation for 'parameter is required'\n"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/32531d9dc5a7466b9b161575c7d56ed7f630a59a",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/32531d9dc5a7466b9b161575c7d56ed7f630a59a",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/32531d9dc5a7466b9b161575c7d56ed7f630a59a/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ebe2e2ad149496434cc1ac9cabde5aba2d43f6fa",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/ebe2e2ad149496434cc1ac9cabde5aba2d43f6fa",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/ebe2e2ad149496434cc1ac9cabde5aba2d43f6fa"
    }
  ],
  "stats": {
    "total": 7,
    "additions": 6,
    "deletions": 1
  },
  "files": [
    {
      "sha": "38e2d8ac6832cafb1a3003ab3eb810c10abfd244",
      "filename": "server/common/params.go",
      "status": "modified",
      "additions": 6,
      "deletions": 1,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/32531d9dc5a7466b9b161575c7d56ed7f630a59a/server%2Fcommon%2Fparams.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/32531d9dc5a7466b9b161575c7d56ed7f630a59a/server%2Fcommon%2Fparams.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/server%2Fcommon%2Fparams.go?ref=32531d9dc5a7466b9b161575c7d56ed7f630a59a",
      "patch": "@@ -5,8 +5,11 @@ import (\n \t\"reflect\"\n \t\"strings\"\n \n+\t\"github.com/ArtalkJS/Artalk/internal/i18n\"\n \t\"github.com/ArtalkJS/Artalk/internal/log\"\n \t\"github.com/gofiber/fiber/v2\"\n+\t\"golang.org/x/text/cases\"\n+\t\"golang.org/x/text/language\"\n )\n \n type Map = map[string]interface{}\n@@ -88,7 +91,9 @@ func ValidateRequired(c *fiber.Ctx, destParams interface{}) (isContinue bool, re\n \n \t\t// check required param\n \t\tif strings.TrimSpace(paramVal) == \"\" {\n-\t\t\treturn false, RespError(c, 400, \"Param `\"+paramKey+\"` is required\")\n+\t\t\treturn false, RespError(c, 400, i18n.T(\"{{name}} is required\", map[string]interface{}{\n+\t\t\t\t\"name\": i18n.T(cases.Title(language.English, cases.Compact).String(paramKey)),\n+\t\t\t}))\n \t\t}\n \t}\n "
    }
  ]
}
