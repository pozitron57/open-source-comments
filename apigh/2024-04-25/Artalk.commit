{
  "sha": "116d8f191938025ba5599a0f830a524c75b56a23",
  "node_id": "C_kwDOCQOkhNoAKDExNmQ4ZjE5MTkzODAyNWJhNTU5OWEwZjgzMGE1MjRjNzViNTZhMjM",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2024-04-24T15:34:57Z"
    },
    "committer": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2024-04-24T16:01:51Z"
    },
    "message": "chore(ci): fix build workflow",
    "tree": {
      "sha": "88deeae855756f2a0294dcc25314e83532a33430",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/88deeae855756f2a0294dcc25314e83532a33430"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/116d8f191938025ba5599a0f830a524c75b56a23",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQS0Ev3sdPZbHkWwzmLUbg8O6nwTagUCZiks7wAKCRDUbg8O6nwT\nan23AQDcMB5gBCyV+u1vbi6thsGk2N9ZH8qQE2umnzmtK2obBgD/aInfqOow5kbC\nb1nypX0piLymb9Eh/XMSz2xPoAoTUw4=\n=vTVp\n-----END PGP SIGNATURE-----",
      "payload": "tree 88deeae855756f2a0294dcc25314e83532a33430\nparent 99b71a15f833456f2f500c2b7e201306ec77d652\nauthor qwqcode <qwqcode@gmail.com> 1713972897 +0800\ncommitter qwqcode <qwqcode@gmail.com> 1713974511 +0800\n\nchore(ci): fix build workflow\n"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/116d8f191938025ba5599a0f830a524c75b56a23",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/116d8f191938025ba5599a0f830a524c75b56a23",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/116d8f191938025ba5599a0f830a524c75b56a23/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "99b71a15f833456f2f500c2b7e201306ec77d652",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/99b71a15f833456f2f500c2b7e201306ec77d652",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/99b71a15f833456f2f500c2b7e201306ec77d652"
    }
  ],
  "stats": {
    "total": 11,
    "additions": 4,
    "deletions": 7
  },
  "files": [
    {
      "sha": "681eebd562c78b05f8dc88c9ff5fcaedf55f0153",
      "filename": ".github/workflows/build-tagging.yml",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/116d8f191938025ba5599a0f830a524c75b56a23/.github%2Fworkflows%2Fbuild-tagging.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/116d8f191938025ba5599a0f830a524c75b56a23/.github%2Fworkflows%2Fbuild-tagging.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fbuild-tagging.yml?ref=116d8f191938025ba5599a0f830a524c75b56a23",
      "patch": "@@ -22,8 +22,9 @@ jobs:\n         run: |\n           # `github.head_ref` only exists for pull_request events\n           REF=\"${{ github.head_ref || github.ref }}\"\n-          VERSION=\"${REF#release/}\"\n-          VERSION=\"${VERSION#refs/tags/}\"\n+          VERSION=\"${REF#refs/tags/}\"\n+          VERSION=\"${VERSION#refs/heads/}\"\n+          VERSION=\"${VERSION#release/}\"\n \n           echo \"Version: $VERSION\"\n           echo \"VERSION=$VERSION\" >> $GITHUB_ENV"
    },
    {
      "sha": "9e4c025774775c6fc51bb515608b2858a39c3559",
      "filename": ".github/workflows/build.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 5,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/116d8f191938025ba5599a0f830a524c75b56a23/.github%2Fworkflows%2Fbuild.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/116d8f191938025ba5599a0f830a524c75b56a23/.github%2Fworkflows%2Fbuild.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Fbuild.yml?ref=116d8f191938025ba5599a0f830a524c75b56a23",
      "patch": "@@ -54,11 +54,7 @@ jobs:\n         # since docker push actions will override the previous images,\n         # so need to build `linux/amd64` and push first,\n         # then build `linux/amd64` twice with other archs (build very slow so keep it last).\n-        target:\n-          - linux/amd64\n-          - linux/amd64\n-          - linux/arm64\n-          - linux/arm/v7\n+        target: [\"linux/amd64\", \"linux/amd64,linux/arm64,linux/arm/v7\"]\n     with:\n       version: ${{ needs.tagging.outputs.version }}\n       dry_run: ${{ inputs.dry_run || false }}"
    }
  ]
}
