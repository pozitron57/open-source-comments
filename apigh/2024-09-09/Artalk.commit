{
  "sha": "9fde40d843f4de328a704644ff1d76586c91cf0d",
  "node_id": "C_kwDOCQOkhNoAKDlmZGU0MGQ4NDNmNGRlMzI4YTcwNDY0NGZmMWQ3NjU4NmM5MWNmMGQ",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2024-09-04T13:23:23Z"
    },
    "committer": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2024-09-04T13:23:23Z"
    },
    "message": "chore(ci): improve golang build workflow on circle ci",
    "tree": {
      "sha": "12d606ba43ed12ab56d138996e49f99afc132543",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/12d606ba43ed12ab56d138996e49f99afc132543"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/9fde40d843f4de328a704644ff1d76586c91cf0d",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQS0Ev3sdPZbHkWwzmLUbg8O6nwTagUCZthfSwAKCRDUbg8O6nwT\narJwAP4lMHBIK8mSd1UZWolhxaCqUDLr47tmXP/AFKsPoAfxSAEA3ZAhVLIBO+5W\nneYwedNCjg1lT2wLuFtCEgUoek+JPQc=\n=dIZE\n-----END PGP SIGNATURE-----",
      "payload": "tree 12d606ba43ed12ab56d138996e49f99afc132543\nparent 19c3317f64078cf6213b7b5468f9a220b58bf836\nauthor qwqcode <qwqcode@gmail.com> 1725456203 +0800\ncommitter qwqcode <qwqcode@gmail.com> 1725456203 +0800\n\nchore(ci): improve golang build workflow on circle ci\n"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/9fde40d843f4de328a704644ff1d76586c91cf0d",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/9fde40d843f4de328a704644ff1d76586c91cf0d",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/9fde40d843f4de328a704644ff1d76586c91cf0d/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "19c3317f64078cf6213b7b5468f9a220b58bf836",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/19c3317f64078cf6213b7b5468f9a220b58bf836",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/19c3317f64078cf6213b7b5468f9a220b58bf836"
    }
  ],
  "stats": {
    "total": 34,
    "additions": 14,
    "deletions": 20
  },
  "files": [
    {
      "sha": "445a68038804bf4da9cc6f7bf76354f179e14a2e",
      "filename": ".circleci/conditional_config.yml",
      "status": "modified",
      "additions": 8,
      "deletions": 17,
      "changes": 25,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/9fde40d843f4de328a704644ff1d76586c91cf0d/.circleci%2Fconditional_config.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/9fde40d843f4de328a704644ff1d76586c91cf0d/.circleci%2Fconditional_config.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.circleci%2Fconditional_config.yml?ref=9fde40d843f4de328a704644ff1d76586c91cf0d",
      "patch": "@@ -1,8 +1,9 @@\n version: 2.1\n \n orbs:\n-  node: circleci/node@5.2.0\n-  codecov: codecov/codecov@3.3.0\n+  node: circleci/node@6.1.0\n+  go: circleci/go@1.11.0\n+  codecov: codecov/codecov@4.1.0\n \n executors:\n   base:\n@@ -27,25 +28,15 @@ jobs:\n   ## Backend\n   test_app:\n     executor: go\n-    working_directory: ~/go/src/github.com/ArtalkJS/Artalk\n-    environment:\n-      GO111MODULE: \"on\"\n+    working_directory: ~/repo\n     steps:\n       - checkout\n       - run:\n           name: \"Print the Go version\"\n-          command: >\n-            go version\n-      - restore_cache:\n-          keys:\n-            - go-mod-1.22.6-{{ checksum \"go.sum\" }}\n-      - run:\n-          name: Install Dependencies\n-          command: go mod download\n-      - save_cache:\n-          key: go-mod-1.22.6-{{ checksum \"go.sum\" }}\n-          paths:\n-            - \"~/go/pkg/mod\"\n+          command: go version\n+      - go/load-cache\n+      - go/mod-download\n+      - go/save-cache\n       - run:\n           name: Run tests\n           command: |"
    },
    {
      "sha": "998da1fd7460b0ebfe1feda3e1251d9667edcb74",
      "filename": "server/handler/stat_test.go",
      "status": "modified",
      "additions": 5,
      "deletions": 2,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/9fde40d843f4de328a704644ff1d76586c91cf0d/server%2Fhandler%2Fstat_test.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/9fde40d843f4de328a704644ff1d76586c91cf0d/server%2Fhandler%2Fstat_test.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/server%2Fhandler%2Fstat_test.go?ref=9fde40d843f4de328a704644ff1d76586c91cf0d",
      "patch": "@@ -55,8 +55,11 @@ func TestStat(t *testing.T) {\n \n \t\t\t\t// check if the comments are sorted by created_at\n \t\t\t\tfor i := 0; i < len(resp.Data)-1; i++ {\n-\t\t\t\t\ttimeA, _ := dateparse.ParseIn(resp.Data[i].Date, time.Local)\n-\t\t\t\t\ttimeB, _ := dateparse.ParseIn(resp.Data[i+1].Date, time.Local)\n+\t\t\t\t\tcommentA := resp.Data[i]\n+\t\t\t\t\tcommentB := resp.Data[i+1]\n+\t\t\t\t\ttimeA, _ := dateparse.ParseIn(commentA.Date, time.Local)\n+\t\t\t\t\ttimeB, _ := dateparse.ParseIn(commentB.Date, time.Local)\n+\t\t\t\t\tt.Logf(\"[ID=%v]TimeA: %v, [ID=%v]TimeB: %v\", commentA.ID, timeA, commentB.ID, timeB)\n \t\t\t\t\tassert.True(t, timeA.After(timeB), \"Comments should be sorted by created_at\")\n \t\t\t\t}\n \t\t\t},"
    },
    {
      "sha": "8ad722ae7da238bf9aad85e948e326e2daf97c51",
      "filename": "test/fixtures/atk_users.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/9fde40d843f4de328a704644ff1d76586c91cf0d/test%2Ffixtures%2Fatk_users.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/9fde40d843f4de328a704644ff1d76586c91cf0d/test%2Ffixtures%2Fatk_users.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/test%2Ffixtures%2Fatk_users.yml?ref=9fde40d843f4de328a704644ff1d76586c91cf0d",
      "patch": "@@ -2,7 +2,7 @@\n   name: admin\n   email: admin@qwqaq.com\n   link: https://qwqaq.com\n-  password: 123456\n+  password: \"123456\"\n   badge_name: 管理员\n   badge_color: #fff\n   last_ip: 10.90.1.1"
    }
  ]
}
