{
  "sha": "40a0d7ca625595f483da0398712f099a1dafad9d",
  "node_id": "C_kwDOBtgov9oAKDQwYTBkN2NhNjI1NTk1ZjQ4M2RhMDM5ODcxMmYwOTlhMWRhZmFkOWQ",
  "commit": {
    "author": {
      "name": "Dmitry Verkhoturov",
      "email": "paskal.07@gmail.com",
      "date": "2023-09-12T21:13:17Z"
    },
    "committer": {
      "name": "Umputun",
      "email": "umputun@gmail.com",
      "date": "2023-09-13T01:45:25Z"
    },
    "message": "update Telegram notifications instructions\n\nRemove outdated information about functionality which was already implemented.",
    "tree": {
      "sha": "63a1fb9fc8bad52c30d710e7d8f63c6218f6cc6a",
      "url": "https://api.github.com/repos/umputun/remark42/git/trees/63a1fb9fc8bad52c30d710e7d8f63c6218f6cc6a"
    },
    "url": "https://api.github.com/repos/umputun/remark42/git/commits/40a0d7ca625595f483da0398712f099a1dafad9d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/umputun/remark42/commits/40a0d7ca625595f483da0398712f099a1dafad9d",
  "html_url": "https://github.com/umputun/remark42/commit/40a0d7ca625595f483da0398712f099a1dafad9d",
  "comments_url": "https://api.github.com/repos/umputun/remark42/commits/40a0d7ca625595f483da0398712f099a1dafad9d/comments",
  "author": {
    "login": "paskal",
    "id": 712534,
    "node_id": "MDQ6VXNlcjcxMjUzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/712534?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paskal",
    "html_url": "https://github.com/paskal",
    "followers_url": "https://api.github.com/users/paskal/followers",
    "following_url": "https://api.github.com/users/paskal/following{/other_user}",
    "gists_url": "https://api.github.com/users/paskal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paskal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paskal/subscriptions",
    "organizations_url": "https://api.github.com/users/paskal/orgs",
    "repos_url": "https://api.github.com/users/paskal/repos",
    "events_url": "https://api.github.com/users/paskal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paskal/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "umputun",
    "id": 535880,
    "node_id": "MDQ6VXNlcjUzNTg4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/535880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/umputun",
    "html_url": "https://github.com/umputun",
    "followers_url": "https://api.github.com/users/umputun/followers",
    "following_url": "https://api.github.com/users/umputun/following{/other_user}",
    "gists_url": "https://api.github.com/users/umputun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/umputun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/umputun/subscriptions",
    "organizations_url": "https://api.github.com/users/umputun/orgs",
    "repos_url": "https://api.github.com/users/umputun/repos",
    "events_url": "https://api.github.com/users/umputun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/umputun/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c9b6f9272f5de893cdec49acdb04ffc9d610dc64",
      "url": "https://api.github.com/repos/umputun/remark42/commits/c9b6f9272f5de893cdec49acdb04ffc9d610dc64",
      "html_url": "https://github.com/umputun/remark42/commit/c9b6f9272f5de893cdec49acdb04ffc9d610dc64"
    }
  ],
  "stats": {
    "total": 8,
    "additions": 2,
    "deletions": 6
  },
  "files": [
    {
      "sha": "974bd727058513d47cbb91d606496cece85176fe",
      "filename": "site/src/docs/configuration/telegram/index.md",
      "status": "modified",
      "additions": 2,
      "deletions": 6,
      "changes": 8,
      "blob_url": "https://github.com/umputun/remark42/blob/40a0d7ca625595f483da0398712f099a1dafad9d/site%2Fsrc%2Fdocs%2Fconfiguration%2Ftelegram%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/40a0d7ca625595f483da0398712f099a1dafad9d/site%2Fsrc%2Fdocs%2Fconfiguration%2Ftelegram%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fconfiguration%2Ftelegram%2Findex.md?ref=40a0d7ca625595f483da0398712f099a1dafad9d",
      "patch": "@@ -39,7 +39,7 @@ For a description of the Bot API, see this page: https://core.telegram.org/bots/\n \n ## Authentication\n \n-To enable Telegram authentication for the users, set variable `AUTH_TELEGRAM=true`.\n+To enable Telegram authentication for the users, set the variable `AUTH_TELEGRAM=true`.\n \n ## Notifications\n \n@@ -55,12 +55,8 @@ To integrate notifications about any comment on your sites with remark42 with [T\n \n ### Notifications for users\n \n-**IMPORTANT: It doesn't work as of 30.01.2022, will be working after [this](https://github.com/umputun/remark42/issues/830) issue resolution** (waits for frontend support).\n-\n Enabling Telegram user notifications allows users to sign up for notifications about replies to their messages. To do it, set the variable `NOTIFY_USERS=telegram`.\n \n ### Technical details\n \n-Telegram notifications formatting is [limited](https://core.telegram.org/bots/api#html-style) by Telegram API and, because of that, lose most of the formatting of the original comment. Notification implementation of the remark42 backend takes the rendered HTML of the comment and strips it of the unsupported tags before sending it to Telegram.\n-\n-The only way to improve the formatting of the messages would be to replace unsupported tags with supported ones, [like](https://github.com/umputun/remark42/issues/1202) `h1`-`h6` with `<b>`.\n+Telegram notifications formatting is [limited](https://core.telegram.org/bots/api#html-style) by Telegram API and, because of that, lose most of the formatting of the original comment. Notification implementation of the remark42 backend takes the rendered HTML of the comment and strips it of the unsupported tags before sending it to Telegram. To mitigate this, `h1`-`h6` are replaced with supported `<b>` tag."
    }
  ]
}
