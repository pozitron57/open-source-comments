{
  "sha": "d053b953a615eeea9b30f7fcd9826b0290450568",
  "node_id": "C_kwDOCQOkhNoAKGQwNTNiOTUzYTYxNWVlZWE5YjMwZjdmY2Q5ODI2YjAyOTA0NTA1Njg",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "22412567+qwqcode@users.noreply.github.com",
      "date": "2024-06-10T09:00:56Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2024-06-10T09:00:56Z"
    },
    "message": "refactor(ui/deps): remove `abortcontroller-polyfill` (#923)",
    "tree": {
      "sha": "19b25f82e3ddf2f7c2efbfae7e938a038162ed25",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/19b25f82e3ddf2f7c2efbfae7e938a038162ed25"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/d053b953a615eeea9b30f7fcd9826b0290450568",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJmZsDICRC1aQ7uu5UhlAAA7ccQABjPi/ysbdTj5zX7OB35a9hV\nGuotMl1SNwJq+Ql5rwCuCLvr9BG5A12z7D0+nNMGdgZQvRLMTztcAMHL4QNc0mJk\nXbQQrCNQEGecJdRk/KYNfcNLDWbb9j5Rp7zFTlfM9fkOFvknY6cETdTRz68zURVp\n2hUhStvwYBK3qWIiBSUgb2wv+E/Ub7Hja0FawiRqMhJhW9ubRMGPfz/hkZuTc856\nf5C3oVTnFcthJM/C9jnSf/9RHfrOdfjY7EVRNtw2McuQCBEKNJaNQO758AetJVS2\n0UKoh4T7GAMttFf3VI5y98SwHim7eGZqSQqL8aCX/IEbc+76ScfevuknlyPY951g\ngq1zByVEkgFbLKmWbaOueR5WPuis2DcTqLuEPHq4BaI0zwWtYLGX+JR0klbRF97j\nSPpDSoGbh2BvU3EfTmksmQCxYaB40ywcfja6FryMu9SWQtHnz+Ci+PvIZQlOPP4s\nt76w1nA/yB0U6PG0C2+uqamvOVrioCBltZMHsuElV25LHRjhcfS2sgpAOTiUQ9cE\n33eXsGO071ZRDg5GwR+aWKBtEz4nVkLYF/zs+6s9TjZnmfY7RTNlnNPbQ23npgcR\nn/5sDSJOcNU4PtQoab0BtDUsKbB3bkJN39y/RVf96WeMzGr3L1SE1HhcrYEvWkqH\nE1gFMQl2qzpVM9fIi68x\n=VIon\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 19b25f82e3ddf2f7c2efbfae7e938a038162ed25\nparent 25490525583d4240721ab6d9099e21c6264cb745\nauthor qwqcode <22412567+qwqcode@users.noreply.github.com> 1718010056 +0800\ncommitter GitHub <noreply@github.com> 1718010056 +0800\n\nrefactor(ui/deps): remove `abortcontroller-polyfill` (#923)\n\n"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/d053b953a615eeea9b30f7fcd9826b0290450568",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/d053b953a615eeea9b30f7fcd9826b0290450568",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/d053b953a615eeea9b30f7fcd9826b0290450568/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "25490525583d4240721ab6d9099e21c6264cb745",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/25490525583d4240721ab6d9099e21c6264cb745",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/25490525583d4240721ab6d9099e21c6264cb745"
    }
  ],
  "stats": {
    "total": 26,
    "additions": 19,
    "deletions": 7
  },
  "files": [
    {
      "sha": "05ba50a0b0a352246f2579c08422298eb76c751a",
      "filename": "docs/docs/.vitepress/config.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/d053b953a615eeea9b30f7fcd9826b0290450568/docs%2Fdocs%2F.vitepress%2Fconfig.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/d053b953a615eeea9b30f7fcd9826b0290450568/docs%2Fdocs%2F.vitepress%2Fconfig.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2F.vitepress%2Fconfig.ts?ref=d053b953a615eeea9b30f7fcd9826b0290450568",
      "patch": "@@ -163,6 +163,7 @@ export default defineConfig({\n             { text: '前端 API', link: '/develop/fe-api.md' },\n             { text: '前端 Event', link: '/develop/event.md' },\n             { text: '插件开发', link: '/develop/plugin.md' },\n+            { text: '兼容性', link: '/develop/compatibility.md' },\n             {\n               text: 'HTTP API',\n               link: 'https://artalk.js.org/http-api.html',"
    },
    {
      "sha": "4e50609d84a22ddfe1726bdc11b95e684d17a761",
      "filename": "docs/docs/develop/compatibility.md",
      "status": "added",
      "additions": 18,
      "deletions": 0,
      "changes": 18,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/d053b953a615eeea9b30f7fcd9826b0290450568/docs%2Fdocs%2Fdevelop%2Fcompatibility.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/d053b953a615eeea9b30f7fcd9826b0290450568/docs%2Fdocs%2Fdevelop%2Fcompatibility.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fdocs%2Fdevelop%2Fcompatibility.md?ref=d053b953a615eeea9b30f7fcd9826b0290450568",
      "patch": "@@ -0,0 +1,18 @@\n+# 兼容性\n+\n+## 浏览器兼容性\n+\n+Artalk 客户端生产环境代码的构建通过 esbuild 执行，构建目标为 `es2015`。但请注意，构建仅会处理语法转义遵循 `es2015` 标准，不会处理 API 的兼容性（不包含任何 polyfill）。\n+\n+如果你的项目需要支持较旧的浏览器和设备，请考虑在捆绑应用程序中包含全局 polyfill。我们推荐使用 [Polyfill.io](https://polyfill.io/) 服务，它会根据用户的 User-Agent 动态返回所需的 polyfill。另外，你也可以使用 [core-js](https://github.com/zloirock/core-js) 或 [Babel](https://babeljs.io/) 来手动添加 polyfill。\n+\n+以下是 Artalk 使用的现代功能的列表：\n+\n+- [All ECMAScript 2015 (ES6) features](https://compat-table.github.io/compat-table/es6/)\n+- [Fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)\n+- [AbortController](https://developer.mozilla.org/en-US/docs/Web/API/AbortController)\n+- [Intersection Observer](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)\n+\n+## 服务器兼容性\n+\n+Artalk 服务端程序基于 Golang 开发，支持 Linux、Windows 和 macOS 等操作系统。当前 Artalk 的 Golang 版本可通过 [go.mod](https://github.com/ArtalkJS/Artalk/blob/master/go.mod#L3) 查看。关于 Golang 的最低操作系统要求，可参考 [Go Wiki](https://go.dev/wiki/MinimumRequirements)。"
    },
    {
      "sha": "0bd957857648d3238f2aa14981ae71892586c103",
      "filename": "eslint.config.mjs",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/d053b953a615eeea9b30f7fcd9826b0290450568/eslint.config.mjs",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/d053b953a615eeea9b30f7fcd9826b0290450568/eslint.config.mjs",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/eslint.config.mjs?ref=d053b953a615eeea9b30f7fcd9826b0290450568",
      "patch": "@@ -105,7 +105,6 @@ export default eslintTs.config(\n         },\n         node: true,\n       },\n-      polyfills: ['AbortController'],\n     },\n   },\n "
    },
    {
      "sha": "9da769b9d776d4a1a12ac6880c4a8a5f7808ab72",
      "filename": "pnpm-lock.yaml",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/d053b953a615eeea9b30f7fcd9826b0290450568/pnpm-lock.yaml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/d053b953a615eeea9b30f7fcd9826b0290450568/pnpm-lock.yaml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/pnpm-lock.yaml?ref=d053b953a615eeea9b30f7fcd9826b0290450568",
      "patch": "@@ -243,9 +243,6 @@ importers:\n \n   ui/artalk:\n     dependencies:\n-      abortcontroller-polyfill:\n-        specifier: ^1.7.5\n-        version: 1.7.5\n       hanabi:\n         specifier: ^0.4.0\n         version: 0.4.0"
    },
    {
      "sha": "48d71cef7706f17bcc6afd300e2a447da1e9cbb6",
      "filename": "ui/artalk/package.json",
      "status": "modified",
      "additions": 0,
      "deletions": 1,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/d053b953a615eeea9b30f7fcd9826b0290450568/ui%2Fartalk%2Fpackage.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/d053b953a615eeea9b30f7fcd9826b0290450568/ui%2Fartalk%2Fpackage.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fpackage.json?ref=d053b953a615eeea9b30f7fcd9826b0290450568",
      "patch": "@@ -116,7 +116,6 @@\n     \"lint\": \"eslint .\"\n   },\n   \"dependencies\": {\n-    \"abortcontroller-polyfill\": \"^1.7.5\",\n     \"hanabi\": \"^0.4.0\",\n     \"insane\": \"^2.6.2\",\n     \"marked\": \"^12.0.2\""
    },
    {
      "sha": "c93e127c61aa39858b84d666505125204de7daec",
      "filename": "ui/artalk/src/api/fetch.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/d053b953a615eeea9b30f7fcd9826b0290450568/ui%2Fartalk%2Fsrc%2Fapi%2Ffetch.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/d053b953a615eeea9b30f7fcd9826b0290450568/ui%2Fartalk%2Fsrc%2Fapi%2Ffetch.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fartalk%2Fsrc%2Fapi%2Ffetch.ts?ref=d053b953a615eeea9b30f7fcd9826b0290450568",
      "patch": "@@ -1,5 +1,3 @@\n-import 'abortcontroller-polyfill/dist/polyfill-patch-fetch'\n-\n import { ApiOptions } from './options'\n import { FetchError } from '@/types'\n "
    }
  ]
}
