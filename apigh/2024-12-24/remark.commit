{
  "sha": "be076d03e9e8818a769cdd365e0781f72068ee11",
  "node_id": "C_kwDOBtgov9oAKGJlMDc2ZDAzZTllODgxOGE3NjljZGQzNjVlMDc4MWY3MjA2OGVlMTE",
  "commit": {
    "author": {
      "name": "Umputun",
      "email": "umputun@gmail.com",
      "date": "2024-12-21T17:26:57Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2024-12-21T17:26:57Z"
    },
    "message": "Merge pull request #1878 from cubismod/webhook-params\n\nDocs update describing available variables for webhook templating",
    "tree": {
      "sha": "837592941b650eb3b8d88d133a478a9faaf23bb4",
      "url": "https://api.github.com/repos/umputun/remark42/git/trees/837592941b650eb3b8d88d133a478a9faaf23bb4"
    },
    "url": "https://api.github.com/repos/umputun/remark42/git/commits/be076d03e9e8818a769cdd365e0781f72068ee11",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJnZvphCRC1aQ7uu5UhlAAAqmUQADawpLFZtEG2dIrz1zQHU5EO\neKbOI57hI8C6xUtivpt+X8DepTYNx3uXikEu3NacdjE7mEow7totVg0DnzEFd36P\nFnPlE26nqmlvK0lSyEOVCO4s+Y0Z1SejZVoVvqQ0753HBArnrLl0eJIxeQ2EQTpd\nchVWSWFhL04zv1PlHdqNAD6c/SCB17CvTyjBaHQFAOSHhflw333hHf5UB9NxhRnt\nbqj5R6LUNrwUv1896ttPpi3nR5OI7x5fHrAg1npDlviljrV7Ueun9bg2BQvgL7Ox\nAygUzCpBYwG92eEcNX0jHLsYoy53U6ykPUodpONk3SxzWCtfcyEr2rjPblPxMtxk\nMjLlZN2kYTsCa7gan3MhFw8N0945StXIfqvzEMUfw93rFBAyL5iGsIo5Ml5POAhr\n8+USU4U/fXs+PBgiZfg1P7rNud5AJCahcR7ZasLo4jivT+YMQ7WnG7yjXRg+y+nh\nI5POQ79ZatQIYSzi0q8Juzy6BWg4ulTJskldXto3lhYc30d8ejyjsT6UD/P1wWt2\n7nLDFQerzvMzHKTWNHhUJ1UnTMJecWKMRp35ZL6x36/s2/D3PoKWC6nGQAxAYOY2\nN1wZhJXau08fV1i5o4nDd9v9zAmv/kCgF/4dA56rVmiFpSQhY1qNqnLrdVE+y+NG\n7Q7rY5QQsH97HQ82KbHJ\n=sxdq\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 837592941b650eb3b8d88d133a478a9faaf23bb4\nparent 3f0789fd90c90841574a6b99bb78f272a03a4a26\nparent e1166a48cfaea39f3f7c86f2c768742fc74ee302\nauthor Umputun <umputun@gmail.com> 1734802017 -0600\ncommitter GitHub <noreply@github.com> 1734802017 -0600\n\nMerge pull request #1878 from cubismod/webhook-params\n\nDocs update describing available variables for webhook templating",
      "verified_at": "2024-12-21T17:27:01Z"
    }
  },
  "url": "https://api.github.com/repos/umputun/remark42/commits/be076d03e9e8818a769cdd365e0781f72068ee11",
  "html_url": "https://github.com/umputun/remark42/commit/be076d03e9e8818a769cdd365e0781f72068ee11",
  "comments_url": "https://api.github.com/repos/umputun/remark42/commits/be076d03e9e8818a769cdd365e0781f72068ee11/comments",
  "author": {
    "login": "umputun",
    "id": 535880,
    "node_id": "MDQ6VXNlcjUzNTg4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/535880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/umputun",
    "html_url": "https://github.com/umputun",
    "followers_url": "https://api.github.com/users/umputun/followers",
    "following_url": "https://api.github.com/users/umputun/following{/other_user}",
    "gists_url": "https://api.github.com/users/umputun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/umputun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/umputun/subscriptions",
    "organizations_url": "https://api.github.com/users/umputun/orgs",
    "repos_url": "https://api.github.com/users/umputun/repos",
    "events_url": "https://api.github.com/users/umputun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/umputun/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3f0789fd90c90841574a6b99bb78f272a03a4a26",
      "url": "https://api.github.com/repos/umputun/remark42/commits/3f0789fd90c90841574a6b99bb78f272a03a4a26",
      "html_url": "https://github.com/umputun/remark42/commit/3f0789fd90c90841574a6b99bb78f272a03a4a26"
    },
    {
      "sha": "e1166a48cfaea39f3f7c86f2c768742fc74ee302",
      "url": "https://api.github.com/repos/umputun/remark42/commits/e1166a48cfaea39f3f7c86f2c768742fc74ee302",
      "html_url": "https://github.com/umputun/remark42/commit/e1166a48cfaea39f3f7c86f2c768742fc74ee302"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 13,
    "deletions": 0
  },
  "files": [
    {
      "sha": "c4a160c585dc12014793a640ac52ecb47cf2026a",
      "filename": "site/src/docs/configuration/notifications/index.md",
      "status": "modified",
      "additions": 13,
      "deletions": 0,
      "changes": 13,
      "blob_url": "https://github.com/umputun/remark42/blob/be076d03e9e8818a769cdd365e0781f72068ee11/site%2Fsrc%2Fdocs%2Fconfiguration%2Fnotifications%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/be076d03e9e8818a769cdd365e0781f72068ee11/site%2Fsrc%2Fdocs%2Fconfiguration%2Fnotifications%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fconfiguration%2Fnotifications%2Findex.md?ref=be076d03e9e8818a769cdd365e0781f72068ee11",
      "patch": "@@ -47,3 +47,16 @@ If all goes fine, you should be able to see the following message on your Slack\n You need to set `NOTIFY_ADMINS=webhook` to enable WebHook notifications on all new comments and set at least `NOTIFY_WEBHOOK_URL` for them to start working.\n \n Additionally, you might want to set `NOTIFY_WEBHOOK_TEMPLATE` (which is Go Template, `{\"text\": {{.Text | escapeJSONString}}}` by default) and `NOTIFY_WEBHOOK_HEADERS`, which is HTTP header(s) in format `Header1:Value1,Header2:Value2,...`.\n+\n+Here are some additional common variables that you can use with your template:\n+\n+| Variable      | Type        | Description                                                                                           |\n+|---------------|-------------|-------------------------------------------------------------------------------------------------------|\n+| `ID`          | `string`    |                                                                                                       |\n+| `Text`        | `string`    |                                                                                                       |\n+| `User.Name`   | `string`    | [Full struct defined here](https://github.com/umputun/remark42/blob/master/backend/app/store/user.go) |\n+| `Locator.URL` | `string`    | Post URL                                                                                              |\n+| `Score`       | `int`       |                                                                                                       |\n+| `Timestamp`   | `time.Time` |                                                                                                       |\n+\n+All possible variables are available in the [`Comment struct`](https://github.com/umputun/remark42/blob/master/backend/app/store/comment.go)"
    }
  ]
}
