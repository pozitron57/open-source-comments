{
  "sha": "4e9afd97619c4c68163a58f7e7693aadb54a385e",
  "node_id": "C_kwDOCQOkhNoAKDRlOWFmZDk3NjE5YzRjNjgxNjNhNThmN2U3NjkzYWFkYjU0YTM4NWU",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "22412567+qwqcode@users.noreply.github.com",
      "date": "2023-11-20T11:21:44Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2023-11-20T11:21:44Z"
    },
    "message": "fix(ui/editor): fix position of the comment box when replying (#643) (#648)",
    "tree": {
      "sha": "87f0e6dd7550b84ec20fa1781b43d353ba4aa321",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/87f0e6dd7550b84ec20fa1781b43d353ba4aa321"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/4e9afd97619c4c68163a58f7e7693aadb54a385e",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJlW0FICRBK7hj4Ov3rIwAAuPoIAHBqAduzr6WmOSChe3SfCQ2k\nGxAG7qKMGciXMIAeadA9Mk5mg5dmTJEn9Dk1ZpyNoYhBWzyhRVSMDLLAcRe+gTuF\nCUAKd1H9ioFUPuV0bNt5oVSRjYoKC8dwLy1NGi1Y+ECVw6S4J89xEmpyoYkS1QP3\nGKn59fPby35FMgxzyA7S/EleSNKxALkxf3EGd4YRTI1H29U3GMp1lzJfOcZhuFQo\ncZrbSrXw7cm93BIV55+MonSaGUQ57k1uD9+2vFQ8X9Jv+CYAuvF1zTzzoFNeilDR\nU/7r4CccMzw0zgpTwMYE+Tgcozeb7TE4HLYBfUXWE8r8MdsjvqTuAZvDMYV5IMM=\n=BjUv\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 87f0e6dd7550b84ec20fa1781b43d353ba4aa321\nparent 2b7d0ecb72f2b71ce1855ae80f3e3024b0a69c0e\nauthor qwqcode <22412567+qwqcode@users.noreply.github.com> 1700479304 +0800\ncommitter GitHub <noreply@github.com> 1700479304 +0800\n\nfix(ui/editor): fix position of the comment box when replying (#643) (#648)\n\n"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/4e9afd97619c4c68163a58f7e7693aadb54a385e",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/4e9afd97619c4c68163a58f7e7693aadb54a385e",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/4e9afd97619c4c68163a58f7e7693aadb54a385e/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "2b7d0ecb72f2b71ce1855ae80f3e3024b0a69c0e",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/2b7d0ecb72f2b71ce1855ae80f3e3024b0a69c0e",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/2b7d0ecb72f2b71ce1855ae80f3e3024b0a69c0e"
    }
  ],
  "stats": {
    "total": 23,
    "additions": 15,
    "deletions": 8
  },
  "files": [
    {
      "sha": "aea1838aaf21a8bb8af8ed3bc8c76efe357074c3",
      "filename": "ui/packages/artalk/src/editor/state.ts",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Feditor%2Fstate.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Feditor%2Fstate.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Feditor%2Fstate.ts?ref=4e9afd97619c4c68163a58f7e7693aadb54a385e",
      "patch": "@@ -33,7 +33,9 @@ export default class EditorStateManager {\n     // invoke effect function and save unmount function\n     if (state !== 'normal' && payload) {\n       // move editor position\n-      this.editor.getPlugs()?.get(Mover)?.move(payload.$comment)\n+      let moveAfterEl = payload.$comment\n+      if (!this.editor.conf.flatMode) moveAfterEl = moveAfterEl.querySelector<HTMLElement>('.atk-footer')!\n+      this.editor.getPlugs()?.get(Mover)?.move(moveAfterEl)\n \n       const $relative = this.editor.ctx.conf.scrollRelativeTo && this.editor.ctx.conf.scrollRelativeTo()\n       Ui.scrollIntoView(this.editor.getUI().$el, true, $relative)"
    },
    {
      "sha": "8f4f9be6c06f9c9f57e274169507db2d5ecc3da7",
      "filename": "ui/packages/artalk/src/plugins/editor/mover.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fmover.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fmover.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Fplugins%2Feditor%2Fmover.ts?ref=4e9afd97619c4c68163a58f7e7693aadb54a385e",
      "patch": "@@ -17,11 +17,13 @@ export default class Mover extends EditorPlug {\n     $travelPlace.replaceWith(editorEl)\n \n     editorEl.classList.add('atk-fade-in') // 添加渐入动画\n+    editorEl.classList.add('editor-traveling')\n   }\n \n   back() {\n     if (!this.isMoved) return\n     this.isMoved = false\n     this.kit.useGlobalCtx().$root.querySelector('.atk-editor-travel-placeholder')?.replaceWith(this.kit.useUI().$el)\n+    this.kit.useUI().$el.classList.remove('editor-traveling')\n   }\n }"
    },
    {
      "sha": "09eb357b7cc968be854d432645a9f7f1b2db3348",
      "filename": "ui/packages/artalk/src/style/comment.scss",
      "status": "modified",
      "additions": 5,
      "deletions": 7,
      "changes": 12,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Fcomment.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Fcomment.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Fcomment.scss?ref=4e9afd97619c4c68163a58f7e7693aadb54a385e",
      "patch": "@@ -41,7 +41,7 @@\n \n .atk-comment {\n   display: block;\n-  padding: 12px 10px;\n+  padding: 10px;\n \n   & > .atk-avatar {\n     display: block;\n@@ -239,23 +239,21 @@\n     }\n \n     & > .atk-footer {\n-      margin-top: 12px;\n+      margin-top: 5px;\n \n       .atk-actions {\n         display: flex;\n         flex-direction: row;\n         align-items: center;\n         flex-wrap: wrap;\n-        margin-bottom: -15px;\n \n         & > span {\n           color: var(--at-color-meta);\n           font-size: 13px;\n-          line-height: 15px;\n+          line-height: 25px;\n           display: inline-flex;\n           cursor: pointer;\n           user-select: none;\n-          margin-bottom: 15px;\n \n           &.atk-error, &.atk-error:hover {\n             color: var(--at-color-red);\n@@ -340,11 +338,11 @@\n     border-left: 1px dashed transparent;\n     border-bottom-color: transparent;\n     &:not(:last-child) {\n-      margin-bottom: 5px;\n+      margin-bottom: 10px;\n     }\n \n     & > .atk-comment {\n-      padding: 4px 0;\n+      padding: 0;\n \n       & > .atk-avatar img {\n         width: 36px;"
    },
    {
      "sha": "8d29aa484f9a31368e6d0b5aa9c44c05c4c2b847",
      "filename": "ui/packages/artalk/src/style/editor.scss",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Feditor.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/4e9afd97619c4c68163a58f7e7693aadb54a385e/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Feditor.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Feditor.scss?ref=4e9afd97619c4c68163a58f7e7693aadb54a385e",
      "patch": "@@ -11,6 +11,11 @@\n     margin-bottom: 7px;\n   }\n \n+  &.editor-traveling {\n+    margin-top: 5px;\n+    margin-bottom: 10px;\n+  }\n+\n   & > .atk-header {\n     display: flex;\n     flex-direction: row;"
    }
  ]
}
