{
  "sha": "5b6d8de8076a003544545b4695610232c68c4aa8",
  "node_id": "C_kwDOBtgov9oAKDViNmQ4ZGU4MDc2YTAwMzU0NDU0NWI0Njk1NjEwMjMyYzY4YzRhYTg",
  "commit": {
    "author": {
      "name": "Dmitry Verkhoturov",
      "email": "paskal.07@gmail.com",
      "date": "2024-10-20T21:30:03Z"
    },
    "committer": {
      "name": "Umputun",
      "email": "umputun@gmail.com",
      "date": "2024-10-20T22:18:14Z"
    },
    "message": "Deprecate Twitter OAuth and remove from feature list",
    "tree": {
      "sha": "82283b837d41f1e15c47c70eb8304d2e78f3d3c3",
      "url": "https://api.github.com/repos/umputun/remark42/git/trees/82283b837d41f1e15c47c70eb8304d2e78f3d3c3"
    },
    "url": "https://api.github.com/repos/umputun/remark42/git/commits/5b6d8de8076a003544545b4695610232c68c4aa8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/umputun/remark42/commits/5b6d8de8076a003544545b4695610232c68c4aa8",
  "html_url": "https://github.com/umputun/remark42/commit/5b6d8de8076a003544545b4695610232c68c4aa8",
  "comments_url": "https://api.github.com/repos/umputun/remark42/commits/5b6d8de8076a003544545b4695610232c68c4aa8/comments",
  "author": {
    "login": "paskal",
    "id": 712534,
    "node_id": "MDQ6VXNlcjcxMjUzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/712534?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paskal",
    "html_url": "https://github.com/paskal",
    "followers_url": "https://api.github.com/users/paskal/followers",
    "following_url": "https://api.github.com/users/paskal/following{/other_user}",
    "gists_url": "https://api.github.com/users/paskal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paskal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paskal/subscriptions",
    "organizations_url": "https://api.github.com/users/paskal/orgs",
    "repos_url": "https://api.github.com/users/paskal/repos",
    "events_url": "https://api.github.com/users/paskal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paskal/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "committer": {
    "login": "umputun",
    "id": 535880,
    "node_id": "MDQ6VXNlcjUzNTg4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/535880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/umputun",
    "html_url": "https://github.com/umputun",
    "followers_url": "https://api.github.com/users/umputun/followers",
    "following_url": "https://api.github.com/users/umputun/following{/other_user}",
    "gists_url": "https://api.github.com/users/umputun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/umputun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/umputun/subscriptions",
    "organizations_url": "https://api.github.com/users/umputun/orgs",
    "repos_url": "https://api.github.com/users/umputun/repos",
    "events_url": "https://api.github.com/users/umputun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/umputun/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "dd2cff6a136a0a4e05658ede26a5096170c26daa",
      "url": "https://api.github.com/repos/umputun/remark42/commits/dd2cff6a136a0a4e05658ede26a5096170c26daa",
      "html_url": "https://github.com/umputun/remark42/commit/dd2cff6a136a0a4e05658ede26a5096170c26daa"
    }
  ],
  "stats": {
    "total": 33,
    "additions": 16,
    "deletions": 17
  },
  "files": [
    {
      "sha": "08bf0df9dee624c04f433e3bae79e7b015087b39",
      "filename": "README.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/README.md",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/README.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/README.md?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -2,7 +2,7 @@\n \n Remark42 is a self-hosted, lightweight and simple (yet functional) comment engine, which doesn't spy on users. It can be embedded into blogs, articles, or any other place where readers add comments.\n \n-* Social login via Google, Twitter, Facebook, Microsoft, GitHub, Yandex, Patreon and Telegram\n+* Social login via Google, Facebook, Microsoft, GitHub, Apple, Yandex, Patreon and Telegram\n * Login via email\n * Optional anonymous access\n * Multi-level nested comments with both tree and plain presentations"
    },
    {
      "sha": "1f6cb0b644793ddc1acdb9a62ac4a4a970f7143a",
      "filename": "backend/app/cmd/server.go",
      "status": "modified",
      "additions": 7,
      "deletions": 1,
      "changes": 8,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/backend%2Fapp%2Fcmd%2Fserver.go",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/backend%2Fapp%2Fcmd%2Fserver.go",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/backend%2Fapp%2Fcmd%2Fserver.go?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -105,7 +105,7 @@ type ServerCommand struct {\n \t\tFacebook  AuthGroup  `group:\"facebook\" namespace:\"facebook\" env-namespace:\"FACEBOOK\" description:\"Facebook OAuth\"`\n \t\tMicrosoft AuthGroup  `group:\"microsoft\" namespace:\"microsoft\" env-namespace:\"MICROSOFT\" description:\"Microsoft OAuth\"`\n \t\tYandex    AuthGroup  `group:\"yandex\" namespace:\"yandex\" env-namespace:\"YANDEX\" description:\"Yandex OAuth\"`\n-\t\tTwitter   AuthGroup  `group:\"twitter\" namespace:\"twitter\" env-namespace:\"TWITTER\" description:\"Twitter OAuth\"`\n+\t\tTwitter   AuthGroup  `group:\"twitter\" namespace:\"twitter\" env-namespace:\"TWITTER\" description:\"[deprecated, doesn't work] Twitter OAuth\"`\n \t\tPatreon   AuthGroup  `group:\"patreon\" namespace:\"patreon\" env-namespace:\"PATREON\" description:\"Patreon OAuth\"`\n \t\tTelegram  bool       `long:\"telegram\" env:\"TELEGRAM\" description:\"Enable Telegram auth (using token from telegram.token)\"`\n \t\tDev       bool       `long:\"dev\" env:\"DEV\" description:\"enable dev (local) oauth2\"`\n@@ -407,6 +407,12 @@ func (s *ServerCommand) HandleDeprecatedFlags() (result []DeprecatedFlag) {\n \tif s.Notify.Telegram.API != \"https://api.telegram.org/bot\" {\n \t\tresult = append(result, DeprecatedFlag{Old: \"notify.telegram.api\", Version: \"1.9\"})\n \t}\n+\tif s.Auth.Twitter.CID != \"\" {\n+\t\tresult = append(result, DeprecatedFlag{Old: \"auth.twitter.cid\", Version: \"1.14\"})\n+\t}\n+\tif s.Auth.Twitter.CSEC != \"\" {\n+\t\tresult = append(result, DeprecatedFlag{Old: \"auth.twitter.csec\", Version: \"1.14\"})\n+\t}\n \treturn append(result, s.findDeprecatedFlagsCollisions()...)\n }\n "
    },
    {
      "sha": "ff6664e7cde12edae19c486bdaf945e7c055fc94",
      "filename": "backend/app/cmd/server_test.go",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/backend%2Fapp%2Fcmd%2Fserver_test.go",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/backend%2Fapp%2Fcmd%2Fserver_test.go",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/backend%2Fapp%2Fcmd%2Fserver_test.go?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -457,6 +457,8 @@ func TestServerApp_DeprecatedArgs(t *testing.T) {\n \t\t\"--notify.telegram.token=abcd\",\n \t\t\"--notify.telegram.timeout=3m\",\n \t\t\"--notify.telegram.api=http://example.org\",\n+\t\t\"--auth.twitter.cid=123\",\n+\t\t\"--auth.twitter.csec=456\",\n \t}\n \tassert.Empty(t, s.SMTP.Host)\n \tassert.Empty(t, s.SMTP.Port)\n@@ -482,6 +484,8 @@ func TestServerApp_DeprecatedArgs(t *testing.T) {\n \t\t\t{Old: \"notify.telegram.token\", New: \"telegram.token\", Version: \"1.9\"},\n \t\t\t{Old: \"notify.telegram.timeout\", New: \"telegram.timeout\", Version: \"1.9\"},\n \t\t\t{Old: \"notify.telegram.api\", Version: \"1.9\"},\n+\t\t\t{Old: \"auth.twitter.cid\", Version: \"1.14\"},\n+\t\t\t{Old: \"auth.twitter.csec\", Version: \"1.14\"},\n \t\t},\n \t\tdeprecatedFlags)\n \tassert.Equal(t, \"smtp.example.org\", s.SMTP.Host)"
    },
    {
      "sha": "108f90e8b176bd973bfe87178b9f1c63a2e3eec9",
      "filename": "compose-dev-backend.yml",
      "status": "modified",
      "additions": 0,
      "deletions": 2,
      "changes": 2,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/compose-dev-backend.yml",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/compose-dev-backend.yml",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/compose-dev-backend.yml?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -66,8 +66,6 @@ services:\n       - AUTH_GITHUB_CSEC=1111\n       - AUTH_FACEBOOK_CID=1111\n       - AUTH_FACEBOOK_CSEC=1111\n-      - AUTH_TWITTER_CID=1111\n-      - AUTH_TWITTER_CSEC=1111\n       - AUTH_PATREON_CID=1111\n       - AUTH_PATREON_CSEC=1111\n     volumes:"
    },
    {
      "sha": "541bdccafacc57bcfc1df481eb16e4885cbb15ec",
      "filename": "site/src/docs/configuration/authorization/index.md",
      "status": "modified",
      "additions": 0,
      "deletions": 9,
      "changes": 9,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fdocs%2Fconfiguration%2Fauthorization%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fdocs%2Fconfiguration%2Fauthorization%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fconfiguration%2Fauthorization%2Findex.md?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -83,15 +83,6 @@ _instructions for Google OAuth2 setup borrowed from [oauth2_proxy](https://githu\n 4. Choose the new project from the top right project dropdown (only if another project is selected)\n 5. Select **\"Certificates & secrets\"** and click on **\"+ New Client Secret\"** (`AUTH_MICROSOFT_CSEC`)\n \n-### Twitter\n-\n-> **Important**: Twitter developer accounts created after _November 15th 2021_ need \"Elevated access\" to use the Standard v1.1 API routes required to work properly. Apply for this access from within the Twitter developer portal.\n-\n-1. Create a new Twitter application https://developer.twitter.com/en/apps\n-2. Fill **App name**, **Description** and **URL** of your site\n-3. In the field **Callback URLs** enter the correct URL of your callback handler, e.g. domain + `/auth/twitter/callback`\n-4. Under **Key and tokens** take note of the **Consumer API Key** and **Consumer API Secret key**. Those will be used as `AUTH_TWITTER_CID` and `AUTH_TWITTER_CSEC`\n-\n ### Yandex\n \n 1. Create a new **\"OAuth App\"**: https://oauth.yandex.com/client/new"
    },
    {
      "sha": "471c90835d3713ba87915ef9fd7f8e6492692b73",
      "filename": "site/src/docs/configuration/email/index.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fdocs%2Fconfiguration%2Femail%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fdocs%2Fconfiguration%2Femail%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fconfiguration%2Femail%2Findex.md?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -14,7 +14,7 @@ This documentation describes how to enable the email-related capabilities of Rem\n \n - email notifications for any users except anonymous:\n \n-  GitHub or Google or Twitter or any other kind of user gets the ability to get email notifications about new replies to their comments (and any of the responses down the tree):\n+  GitHub or Google or any other kind of user gets the ability to get email notifications about new replies to their comments (and any of the responses down the tree):\n \n   ![Email notifications subscription](images/email_notifications.png)\n "
    },
    {
      "sha": "3b915df74b486f4af9352799ff6d1406225e7f6a",
      "filename": "site/src/docs/configuration/parameters/index.md",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fdocs%2Fconfiguration%2Fparameters%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fdocs%2Fconfiguration%2Fparameters%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fconfiguration%2Fparameters%2Findex.md?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -93,8 +93,6 @@ services:\n | auth.microsoft.csec            | AUTH_MICROSOFT_CSEC            |                         | Microsoft OAuth client secret                            |\n | auth.github.cid                | AUTH_GITHUB_CID                |                         | GitHub OAuth client ID                                   |\n | auth.github.csec               | AUTH_GITHUB_CSEC               |                         | GitHub OAuth client secret                               |\n-| auth.twitter.cid               | AUTH_TWITTER_CID               |                         | Twitter Consumer API Key                                 |\n-| auth.twitter.csec              | AUTH_TWITTER_CSEC              |                         | Twitter Consumer API Secret key                          |\n | auth.patreon.cid               | AUTH_PATREON_CID               |                         | Patreon OAuth Client ID                                  |\n | auth.patreon.csec              | AUTH_PATREON_CSEC              |                         | Patreon OAuth Client Secret                              |\n | auth.telegram                  | AUTH_TELEGRAM                  | `false`                 | Enable Telegram auth (telegram.token must be present)    |\n@@ -190,6 +188,8 @@ The following list of command-line options is deprecated and might be removed in\n | notify.email.notify_admin | notify.admins=email | NOTIFY_EMAIL_ADMIN | NOTIFY_ADMINS=email | |     | 1.9.0               |\n | notify.telegram.token | telegram.token | NOTIFY_TELEGRAM_TOKEN | TELEGRAM_TOKEN | | Telegram token | 1.9.0               |\n | notify.telegram.timeout | telegram.timeout | NOTIFY_TELEGRAM_TIMEOUT | TELEGRAM_TIMEOUT | | Telegram timeout | 1.9.0     |\n+| auth.twitter.cid    | none        | AUTH_TWITTER_CID      | none         |        | Twitter Consumer API Key | 1.14.0     |                                  |\n+| auth.twitter.csec   | none        | AUTH_TWITTER_CSEC     | none         |     | Twitter Consumer API Secret key | 1.14.0 |                           |\n \n </details>\n "
    },
    {
      "sha": "1a7af72261073ffec7af0dc98548159752b673e0",
      "filename": "site/src/pages/index.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/umputun/remark42/blob/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fpages%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/5b6d8de8076a003544545b4695610232c68c4aa8/site%2Fsrc%2Fpages%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fpages%2Findex.md?ref=5b6d8de8076a003544545b4695610232c68c4aa8",
      "patch": "@@ -8,7 +8,7 @@ title: Remark42 â€“ Privacy-focused lightweight commenting engine\n \n Remark42 allows you to have a self-hosted, lightweight, and simple (yet functional) comment engine, which doesn't spy on users. It can be embedded into blogs, articles or any other place where readers add comments.\n \n-- Social login via Google, Twitter, Facebook, Microsoft, GitHub, Apple, Yandex, Patreon and Telegram\n+- Social login via Google, Facebook, Microsoft, GitHub, Apple, Yandex, Patreon and Telegram\n - Login via email\n - Optional anonymous access\n - Multi-level nested comments with both tree and plain presentations"
    }
  ]
}
